{
  "uri" : "sig2012-a84-xue_PROC.xml",
  "url" : "/Users/cbadenes/Documents/OEG/Projects/DrInventor/datasets/acm-siggraph-2006-2014-upf/sig2012/a84-xue_PROC.xml",
  "source" : {
    "name" : "SIGGRAPH",
    "uri" : "http://drinventor/SIGGRAPH",
    "url" : "http://drinventor/SIGGRAPH",
    "protocol" : "http"
  },
  "metainformation" : {
    "title" : "Understanding and Improving the Realism of Image Composites",
    "published" : null,
    "format" : "pdf",
    "language" : "en",
    "rights" : "GPLv2",
    "description" : "",
    "creators" : [ ]
  },
  "bagOfWords" : [ "88d936f8af8940f8928a4cc8ab6b3381c19754adf836fa5dfbc93427dc4c2180", "p2b", "10.1145", "2185520.2185580", "name", "identification", "possible", "understand", "improving", "realism", "image", "composite", "Su", "Xue", "Aseem", "Agarwala", "Yale", "University", "Adobe", "Systems", "Inc.", "Figure", "we", "method", "can", "automatically", "adjust", "appearance", "foreground", "region", "better", "match", "background", "composite", "give", "propose", "foreground", "background", "left", "we", "show", "compositing", "result", "unadjusted", "cut-and-paste", "Adobe", "Photoshop?s", "Match", "Color", "method", "Lalonde", "Efros", "-lsb-", "2007", "-rsb-", "we", "method", "composit", "one", "most", "commonly", "perform", "operation", "computer", "graphic", "realistic", "composite", "require", "adjust", "appearance", "foreground", "background", "so", "appear", "compatible", "unfortunately", "task", "challenging", "poorly", "understand", "we", "use", "statistical", "visual", "perception", "experiment", "study", "realism", "image", "composite", "first", "we", "evaluate", "number", "standard", "2d", "image", "statistical", "measure", "identify", "those", "most", "significant", "determine", "realism", "composite", "we", "perform", "human", "subject", "experiment", "determine", "how", "change", "key", "statistics", "influence", "human", "judgement", "composite", "realism", "finally", "we", "describe", "data-driven", "algorithm", "automatically", "adjust", "statistical", "measure", "foreground", "make", "more", "compatible", "its", "background", "composite", "we", "show", "number", "composit", "result", "evaluate", "performance", "both", "we", "algorithm", "previous", "work", "human", "subject", "study", "cr", "category", "i.", "4.10", "-lsb-", "image", "processing", "computer", "Vision", "-rsb-", "image", "representation?statistical", "Links", "dl", "pdf", "EB", "ata", "introduction", "1.1", "related", "work", "ideal", "method", "adjust", "foreground", "image", "match", "give", "background", "simulate", "its", "appearance", "under", "same", "illumination", "produce", "background", "image", "since", "task", "beyond", "ability", "today?s", "algorithm", "most", "technique", "simply", "shift", "appearance", "foreground", "better", "resemble", "background", "example", "color", "transfer", "technique", "-lsb-", "Reinhard", "et", "al.", "2001", "Reinhard", "et", "al.", "2004", "Pouli", "Reinhard", "2010", "-rsb-", "align", "means", "variance", "color", "histogram", "two", "image", "region", "Adobe", "Photoshop?s", "widely", "use", "Match", "Color", "feature", "base", "idea", "problem", "approach", "conflate", "effect", "reflectance", "illumination", "e.g.", "forest", "green", "because", "green", "light", "source", "thus", "correct", "turn", "skin", "person", "add", "scene", "green", "one", "can", "shoot", "realistic", "image", "red", "car", "desert", "even", "though", "color", "distribution", "very", "different", "Lalonde", "Efros", "et", "al.", "-lsb-", "2007", "-rsb-", "add", "technique", "estimate", "co-occurrence", "probability", "color", "distribution", "find", "nearest", "neighbor", "image", "database", "however", "non-parametric", "approach", "require", "large", "database", "search", "each", "composite", "depend", "presence", "several", "image", "similar", "target", "composite", "main", "focus", "work", "predict", "whether", "give", "composite", "appear", "realistic", "however", "show", "composite", "adjustment", "additional", "application", "we", "therefore", "compare", "result", "we", "method", "approach", "color", "transfer", "section", "professional", "compositor", "employ", "number", "principle", "adjust", "composite", "one", "professional", "compositor", "-lsb-", "Alexander", "2011", "-rsb-", "tell", "we", "compositor", "often", "focus", "luminance", "zone", "first", "isolate", "highlight", "match", "color", "brightness", "balance", "mid-tone", "gamma", "correction", "finally", "match", "shadow", "region", "we", "algorithm", "also", "adjust", "base", "zone", "though", "we", "automatically", "choose", "different", "zone", "match", "each", "composite", "give", "statistical", "evidence", "benefit", "use", "zone", "completely", "different", "approach", "make", "image", "region", "compatible", "adjust", "color", "so", "match", "predefined", "set", "template", "think", "encode", "color", "harmony", "-lsb-", "cohen-or", "et", "al.", "2006", "-rsb-", "however", "harmonious", "image", "necessarily", "realistic", "method", "ignore", "other", "factor", "luminance", "contrast", "finally", "approach", "have", "be", "quantitatively", "evaluate", "alternative", "alpha", "matting", "seamlessly", "blend", "image", "region", "method", "like", "feather", "laplacian", "pyramid", "-lsb-", "Ogden", "et", "al.", "1985", "-rsb-", "gradient-domain", "compositing", "-lsb-", "p?rez", "et", "al.", "2003", "Jia", "et", "al.", "2006", "Tao", "et", "al.", "2010", "Sunkavalli", "et", "al.", "2010", "-rsb-", "approach", "can", "work", "well", "two", "source", "image", "have", "similar", "color", "texture", "however", "other", "case", "color", "bleeding", "severe", "discoloration", "can", "occur", "practice", "most", "whole-object", "composite", "still", "make", "alpha", "matte", "number", "related", "area", "inform", "we", "approach", "Color", "constancy", "related", "problem", "recover", "appearance", "input", "image", "under", "neutral", "lighting", "-lsb-", "Gijsenij", "et", "al.", "2011", "-rsb-", "since", "problem", "highly", "ill-posed", "current", "solution", "still", "robust", "image", "forensic", "-lsb-", "Johnson", "Farid", "2005", "-rsb-", "seek", "detect", "compo", "ite", "image", "while", "we", "goal", "understand", "exploit", "flexibility", "human", "visual", "system", "rather", "than", "mislead", "algorithm", "1.2", "overview", "section", "we", "perform", "experiment", "determine", "which", "statistics", "natural", "image", "most", "correlate", "between", "foreground", "background", "specifically", "we", "take", "4126", "natural", "image", "segmented", "foreground", "measure", "correlation", "number", "candidate", "statistical", "measure", "we", "find", "means", "high", "low", "zone", "histogram", "statistical", "measure", "tend", "correlate", "more", "strongly", "than", "mean", "whole", "histogram", "example", "shadow", "highlight", "tend", "match", "better", "between", "foreground", "background", "than", "overall", "mean", "luminance", "we", "find", "luminance", "color", "temperature", "saturation", "local", "contrast", "most", "correlated", "statistical", "measure", "between", "foreground", "background", "section", "we", "perform", "human", "subject", "experiment", "measure", "relationship", "between", "mismatch", "select", "statistical", "measure", "decrease", "perceive", "realism", "specifically", "we", "take", "separate", "set", "20", "image", "matted", "foreground", "introduce", "variation", "foreground", "along", "specific", "axis", "-lrb-", "e.g.", "luminance", "-rrb-", "we", "measure", "decrease", "human", "perception", "realism", "one", "numerical", "outcome", "experiment", "set", "scale", "value", "-lrb-", "Table", "-rrb-", "linearly", "relate", "change", "each", "statistical", "measure", "change", "human", "perception", "realism", "section", "we", "present", "algorithm", "adjust", "foreground", "appear", "realistic", "relative", "give", "background", "algorithm", "adjust", "foreground", "so", "means", "statistical", "measure", "identify", "section", "match", "main", "component", "algorithm", "classifier", "predict", "zone", "histogram", "each", "statistical", "measure", "when", "match", "between", "foreground", "background", "produce", "most", "realistic", "composite", "classifier", "train", "same", "4126", "image", "use", "section", "classifier", "also", "use", "scale", "value", "compute", "section", "aid", "prediction", "section", "we", "evaluate", "performance", "we", "algorithm", "previous", "work", "composit", "fundamental", "operation", "computer", "graphic", "combine", "foreground", "object", "from", "one", "image", "background", "another", "require", "two", "operation", "achieve", "realistic", "composite", "first", "extract", "foreground", "object", "compute", "alpha", "matte", "second", "adjust", "appearance", "foreground", "relative", "its", "new", "background", "so", "two", "appear", "natural", "together", "while", "first", "problem", "have", "receive", "considerable", "attention", "ACM", "Reference", "Format", "Xue", "S.", "Agarwala", "a.", "Dorsey", "J.", "Rushmeier", "H.", "2012", "understand", "improving", "realism", "image", "composite", "ACM", "Trans", "graph", "31", "Article", "84", "-lrb-", "July", "2012", "-rrb-", "10", "page", "dous", "10.1145", "2185520.2185580", "http://doi.acm.org/10.1145/2185520.2185580", "copyright", "Notice", "permission", "make", "digital", "hard", "copy", "part", "all", "work", "personal", "classroom", "use", "grant", "without", "fee", "provide", "copy", "make", "distribute", "profit", "direct", "commercial", "advantage", "copy", "show", "notice", "fus", "rst", "page", "initial", "screen", "display", "along", "full", "citation", "copyright", "component", "work", "own", "other", "than", "ACM", "must", "honor", "abstract", "credit", "permit", "copy", "otherwise", "republish", "post", "server", "redistribute", "list", "use", "any", "component", "work", "other", "work", "require", "prior", "specific", "permission", "and/or", "fee", "permission", "may", "request", "from", "Publications", "Dept.", "ACM", "Inc.", "Penn", "Plaza", "Suite", "701", "New", "York", "NY", "10121-0701", "fax", "+1", "212", "869-0481", "permissions@acm.org", "2012", "ACM", "0730-0301/2012", "08-art84", "15.00", "DOI", "10.1145", "2185520.2185580", "http://doi.acm.org/10.1145/2185520.2185580", "Julie", "Dorsey", "Holly", "Rushmeier", "Yale", "University", "Yale", "University", "research", "community", "-lsb-", "Smith", "Blinn", "1996", "Wang", "Cohen", "2007", "Rhemann", "et", "al.", "2009", "-rsb-", "second", "have", "be", "systematically", "study", "professional", "compositor", "have", "several", "rule", "thumb", "end", "most", "composite", "make", "realistic", "trial-and-error", "adjustment", "standard", "image", "control", "brightness", "contrast", "hue", "saturation", "paper", "we", "use", "statistical", "visual", "perception", "experiment", "study", "factor", "influence", "realism", "image", "composite", "propose", "automated", "method", "increase", "realism", "scope", "problem", "large", "composite", "realism", "influence", "semantics", "-lrb-", "e.g.", "polar", "bear", "rainforest", "realistic", "-rrb-", "factor", "require", "3d", "reasoning", "analyze", "-lrb-", "e.g.", "inter-reflection", "-rrb-", "however", "perception", "research", "have", "show", "human", "visual", "system", "remarkably", "insensitive", "certain", "lighting", "inconsistency", "within", "image", "shadow", "direction", "highlight", "placement", "-lsb-", "Ostrovsky", "et", "al.", "2005", "Lopez-Moreno", "et", "al.", "2010", "-rsb-", "user", "reasonably", "careful", "choose", "locate", "foreground", "relative", "background", "many", "composite", "can", "make", "appear", "realistic", "perform", "standard", "image", "processing", "operation", "color", "brightness", "contrast", "transformation", "we", "therefore", "limit", "scope", "we", "study", "2d", "image", "processing", "operation", "leave", "3D", "effect", "semantics", "user", "-lrb-", "other", "technique", "-rrb-", "however", "adjust", "image", "composite", "appear", "realistic", "2d", "operation", "still", "highly", "challenge", "novice", "user", "many", "degree", "freedom", "whose", "correct", "value", "often", "seem", "ambiguous", "professional", "compositor", "typically", "able", "achieve", "much", "better", "result", "thus", "automation", "would", "very", "helpful", "novice", "we", "also", "seek", "deeper", "evidence-based", "understanding", "factor", "influence", "human", "perception", "composite", "realism", "we", "interested", "three", "main", "question", "first", "what", "key", "statistical", "property", "control", "realism", "image", "composite", "second", "how", "do", "variation", "property", "affect", "human", "judgement", "composite?s", "realism", "Third", "can", "algorithm", "automatically", "adjust", "property", "improve", "realism", "specific", "composite", "answer", "question", "we", "perform", "three", "task", "first", "we", "use", "large", "labeled", "database", "image", "contain", "foreground", "object", "background", "compare", "number", "common", "image", "statistical", "measure", "see", "which", "most", "correlate", "between", "foreground", "background", "second", "we", "select", "most", "correlated", "statistics", "perform", "human", "subject", "study", "test", "how", "change", "statistics", "influence", "human", "rating", "realism", "we", "take", "natural", "image", "manipulate", "foreground", "background", "introduce", "statistical", "deviation", "measure", "induced", "decrease", "human", "realism", "rating", "Third", "we", "use", "insight", "glean", "from", "above", "experiment", "design", "algorithm", "ad", "just", "foreground", "match", "background", "more", "specifically", "we", "find", "statistics", "between", "foreground", "background", "typically", "match", "better", "one", "zone", "histogram", "-lrb-", "example", "luminance", "zone", "highlight", "mid-tone", "shadow", "-rrb-", "than", "histogram", "whole", "best", "zone", "vary", "from", "composite", "composite", "match", "zone", "also", "common", "practice", "professional", "compositor", "-lsb-", "Alexander", "2011", "-rsb-", "we", "therefore", "use", "machine", "learning", "technique", "predict", "which", "zone", "match", "specific", "composite", "finally", "we", "validate", "show", "we", "technique", "create", "more", "realistic", "composite", "than", "previous", "automated", "technique", "ACM", "transaction", "Graphics", "Vol", "31", "no.", "Article", "84", "publication", "date", "July", "2012", "84:2", "S.", "Xue", "et", "al.", "identify", "Key", "Statistical", "measure", "give", "foreground", "background", "we", "goal", "create", "composite", "perceive", "realistic", "practice", "background", "composite", "often", "fix", "so", "we", "focus", "adjust", "foreground", "appearance", "so", "its", "composite", "realistic", "possible", "we", "first", "simplify", "assumption", "we", "can", "achieve", "realistic", "composite", "only", "adjust", "standard", "2d", "statistical", "measure", "e.g.", "luminance", "contrast", "color", "histogram", "we", "ignore", "issue", "like", "semantics", "3d", "property", "we", "denote", "collection", "statistical", "measure", "foreground", "background", "region", "respectively", "we", "therefore", "seek", "adjust", "one", "approach", "problem", "predict", "probability", "composite", "appear", "realistic", "give", "its", "foreground", "background", "statistics", "i.e.", "-lrb-", "real", "-rrb-", "we", "could", "model", "probability", "collection", "composite", "both", "realistic", "unrealistic", "along", "human", "rating", "realism", "however", "space", "composite", "very", "large", "we", "would", "need", "ensure", "all", "composite", "free", "issue", "poor", "matting", "semantics", "since", "we", "study", "factor", "another", "approach", "realize", "real-world", "image", "definition", "realistic", "therefore", "composite", "whose", "statistics", "similar", "statistics", "real-world", "image", "should", "also", "appear", "realistic", "-lsb-", "Lotto", "Purves", "2002", "Lalonde", "Efros", "2007", "-rsb-", "we", "can", "form", "collection", "real-world", "image", "roughly", "segmented", "foreground", "background", "maximize", "likelihood", "relative", "datum", "i.e.", "maximize", "-lrb-", "real", "-rrb-", "likelihood", "hard", "fully", "model", "instead", "we", "first", "identify", "few", "key", "statistical", "measure", "most", "affect", "realism", "composite", "more", "specifically", "we", "select", "statistics", "satisfy", "follow", "criterion", "measure", "should", "highly", "correlate", "between", "foreground", "background", "real", "image", "therefore", "we", "can", "maximize", "realism", "adjust", "foreground", "satisfy", "linear", "relationship", "measure", "should", "easy", "adjust", "photograph", "give", "desire", "value", "measure", "foreground", "we", "should", "able", "achieve", "value", "simple", "image", "processing", "operation", "measure", "should", "independent", "each", "other", "possible", "way", "we", "can", "adjust", "foreground", "satisfy", "one", "correlation", "without", "negatively", "affect", "another", "we", "therefore", "group", "set", "statistical", "measure", "five", "individual", "category", "commonly", "adjust", "composite", "luminance", "color", "temperature", "-lrb-", "cct", "-rrb-", "saturation", "local", "contrast", "hue", "within", "each", "group", "we", "form", "histogram", "property", "compute", "number", "statistical", "measure", "histogram", "mean", "standard", "deviation", "etc.", "-lrb-", "see", "Appendix", "complete", "list", "-rrb-", "we", "denote", "individual", "measure", "within", "overall", "set", "we", "can", "measure", "correlation", "between", "directly", "Pearson", "correlation", "coefficient", "which", "compute", "goodness", "linear", "fit", "between", "two", "measure", "better", "linear", "fit", "obtain", "we", "first", "transform", "measure", "perceptually", "linear", "scale", "-lrb-", "appendix", "-rrb-", "another", "way", "discover", "simple", "relationship", "between", "foreground", "background", "look", "offset", "natural", "image", "distribution", "concentrate", "over", "small", "range", "value", "measure", "also", "highly", "correlate", "between", "foreground", "background", "describe", "simple", "constant", "offset", "therefore", "we", "look", "both", "standard", "deviation", "well", "correlation", "coefficient", "between", "we", "collect", "4126", "image", "from", "labelme", "data-set", "-lsb-", "Russell", "et", "al.", "2008", "-rsb-", "clearly", "label", "meaningful", "un-occluded", "foreground", "object", "front", "background", "scene", "we", "choose", "image", "sample", "wide", "variety", "composit", "scenario", "e.g.", "outdoors", "indoors", "daylight", "night", "people", "object", "animal", "plant", "etc.", "each", "candidate", "statistic", "we", "compute", "normalize", "standard", "deviation", "where", "standard", "deviation", "normalize", "histogram", "value", "across", "image", "ACM", "transaction", "Graphics", "Vol", "31", "no.", "Article", "84", "publication", "date", "July", "2012", "understand", "improving", "realism", "image", "composite", "84:3", "lum", "high", "lum", "mean", "lum", "shdw", "1000 1000 1000", "count", "500", "count", "500", "count", "500", "10", "10", "10", "10", "10", "10", "delta", "delta", "delta", "cct", "warm", "cct", "mean", "cct", "cold", "1000 1000 1000", "count", "500", "count", "500", "count", "500", "500", "500", "500", "500", "500", "500", "delta", "delta", "delta", "sit", "top", "sit", "mean", "sit", "low", "1000 1000 1000", "count", "500", "count", "500", "count", "500", "10", "10", "10", "10", "10", "10", "delta", "delta", "delta", "figure", "likelihood", "offset", "luminance", "CCT", "saturation", "respectively", "statistics", "have", "specific", "meaning", "various", "measure", "e.g.", "CCT", "correspond", "warmest", "coldest", "color", "std", "kurt", "skew", "entropy", "Luminance", "0.058", "0.149", "0.189", "0.070", "0.182", "0.263", "0.143", "0.241", "0.194", "0.493", "0.139", "0.049", "0.131", "0.228", "CCT", "0.287", "0.145", "0.071", "0.105", "0.188", "0.246", "0.225", "0.310", "0.463", "0.495", "0.202", "0.068", "0.196", "0.218", "Saturation", "0.027", "0.095", "0.299", "0.058", "0.205", "0.173", "0.159", "0.811", "0.483", "0.482", "0.390", "0.123", "0.254", "0.295", "Hue", "n/a", "0.348", "n/a", "0.413", "0.492", "0.474", "0.158", "n/a", "0.235", "n/a", "0.366", "0.175", "0.001", "0.172", "local", "contrast", "0.150", "0.016", "0.000", "0.012", "0.170", "0.152", "0.137", "0.719", "0.713", "0.403", "0.760", "0.192", "0.235", "0.681", "std", "kurt", "skew", "entropy", "Luminance", "0.058", "0.149", "0.189", "0.070", "0.182", "0.263", "0.143", "0.241", "0.194", "0.493", "0.139", "0.049", "0.131", "0.228", "CCT", "0.287", "0.145", "0.071", "0.105", "0.188", "0.246", "0.225", "0.310", "0.463", "0.495", "0.202", "0.068", "0.196", "0.218", "Saturation", "0.027", "0.095", "0.299", "0.058", "0.205", "0.173", "0.159", "0.811", "0.483", "0.482", "0.390", "0.123", "0.254", "0.295", "Hue", "n/a", "0.348", "n/a", "0.413", "0.492", "0.474", "0.158", "n/a", "0.235", "n/a", "0.366", "0.175", "0.001", "0.172", "local", "contrast", "0.150", "0.016", "0.000", "0.012", "0.170", "0.152", "0.137", "0.719", "0.713", "0.403", "0.760", "0.192", "0.235", "0.681", "Table", "statistical", "measure", "compute", "across", "we", "image", "collection", "smaller", "value", "-lrb-", "normalize", "standard", "deviation", "-rrb-", "larger", "value", "-lrb-", "correlation", "coefficient", "between", "foreground", "background", "-rrb-", "indicate", "more", "useful", "measure", "every", "row", "three", "best", "quantity", "highlight", "bold", "collection", "max", "we", "also", "compute", "correlation", "coefficient", "corr", "-lrb-", "-rrb-", "instead", "only", "compute", "measure", "over", "entire", "histogram", "category", "luminance", "we", "find", "stronger", "correlation", "we", "separate", "histogram", "luminance", "high", "-lrb-", "-rrb-", "middle", "-lrb-", "whole-histogram", "-rrb-", "-lrb-", "-rrb-", "low", "-lrb-", "-rrb-", "zone", "average", "each", "zone", "use", "individual", "statistical", "measure", "-lrb-", "appendix", "-rrb-", "example", "real", "image", "mean", "luminance", "highlight", "region", "tend", "match", "better", "between", "foreground", "background", "than", "mean", "whole", "histogram", "which", "can", "see", "first", "row", "figure", "we", "show", "likelihood", "offset", "two", "other", "measure", "other", "row", "likelihood", "offset", "other", "statistics", "give", "supplemental", "material", "we", "also", "show", "number", "across", "zone", "Table", "-lrb-", "exception", "hue", "which", "circular", "value", "-lrb-", "appendix", "-rrb-", "so", "undefined", "-rrb-", "we", "can", "draw", "several", "conclusion", "from", "result", "Luminance", "match", "better", "between", "foreground", "background", "highlight", "shadow", "than", "mid-range", "local", "contrast", "saturation", "show", "very", "strong", "correlation", "while", "cct", "hue", "related", "method", "describe", "color", "cct", "show", "stronger", "correlation", "than", "hue", "last", "all", "likelihood", "offset", "have", "single-peak", "distribution", "center", "observation", "statistically", "support", "intuition", "behind", "mean-matching", "approach", "color", "transfer", "technique", "-lsb-", "Reinhard", "et", "al.", "2004", "-rsb-", "however", "correlation", "high", "-lrb-", "-rrb-", "low", "-lrb-", "-rrb-", "zone", "much", "stronger", "than", "whole", "histogram", "-lrb-", "-rrb-", "typically", "use", "color", "transfer", "which", "suggest", "match", "zone", "might", "lead", "more", "realistic", "composite", "finally", "average", "means", "histogram", "zone", "show", "stronger", "correlation", "than", "other", "statistical", "measure", "though", "standard", "deviation", "sometimes", "perform", "well", "zone", "means", "enough", "cover", "best", "nearly-best", "value", "Table", "base", "conclusion", "we", "focus", "mean-matching", "across", "different", "zone", "histogram", "luminance", "color", "temperature", "saturation", "local", "contrast", "next", "section", "we", "test", "impact", "mismatch", "statistical", "measure", "human", "judgement", "realism", "ACM", "transaction", "Graphics", "Vol", "31", "no.", "Article", "84", "publication", "date", "July", "2012", "84:4", "S.", "Xue", "et", "al.", "Figure", "stimulus", "study", "impact", "variation", "key", "statistical", "measure", "we", "show", "matrix", "composite", "after", "manipulate", "luminance", "-lrb-", "left", "-rrb-", "cct", "-lrb-", "right", "-rrb-", "specific", "image", "more", "example", "can", "find", "supplemental", "material", "realism", "Rating", "fg", "level", "level", "Bg", "rating", "0.8", "-lrb-", "delta", "-rrb-", "realism", "0.6", "0.4", "rating", "0.2", "10", "delta", "figure", "leave", "human", "rating", "correspond", "adjust", "luminance", "matrix", "Figure", "right", "rating", "fit", "gaussian", "function", "-lrb-", "-rrb-", "where", "each", "datum", "point", "correspond", "one", "cell", "matrix", "left", "impact", "human", "realism", "rating", "we", "have", "identify", "several", "key", "statistical", "measure", "strongly", "match", "between", "foreground", "background", "real", "image", "how", "do", "mismatch", "key", "statistical", "measure", "affect", "judgement", "realism", "fact", "natural", "image", "follow", "certain", "statistical", "relation", "do", "necessarily", "tell", "we", "acceptable", "range", "variation", "statistical", "relation", "before", "composite", "appear", "unreal", "also", "numerical", "relationship", "between", "each", "statistical", "measure", "its", "influence", "human", "rating", "realism", "help", "we", "combine", "different", "measure", "single", "algorithm", "automatic", "compositing", "we", "therefore", "perform", "perception", "experiment", "human", "subject", "Amazon", "mechanical", "Turk", "-lrb-", "MTurk", "-rrb-", "numerically", "model", "relationship", "design", "we", "experiment", "important", "have", "natural", "control", "image", "only", "vary", "one", "variable", "otherwise", "issue", "other", "than", "one", "we", "study", "could", "influence", "perception", "realism", "we", "therefore", "take", "20", "natural", "image", "from", "public", "database", "-lsb-", "Bychkovsky", "et", "al.", "2011", "-rsb-", "carefully", "matte", "out", "foreground", "adjust", "foreground", "and/or", "background", "along", "single", "axis", "recomposite", "way", "we", "can", "assure", "issue", "like", "semantics", "already", "satisfy", "we", "perform", "experiment", "three", "key", "statistical", "measure", "identify", "previous", "section", "luminance", "color", "temperature", "saturation", "measure", "we", "can", "simply", "increase", "decrease", "offset", "measure", "between", "foreground", "background", "shift", "histogram", "we", "measure", "perceive", "decrease", "realism", "-lrb-", "we", "skip", "key", "statistical", "measure", "local", "contrast", "now", "because", "adjustable", "simple", "linear", "operation", "we", "address", "special", "case", "section", "-rrb-", "we", "generate", "matrix", "composit", "result", "adjust", "foreground", "and/or", "background", "specific", "amount", "-lrb-", "two", "example", "show", "Figure", "-rrb-", "center", "matrix", "original", "image", "along", "diagonal", "foreground", "background", "adjust", "equally", "we", "acquire", "realism", "score", "-lrb-", "0.0", "1.0", "-rrb-", "each", "composite", "-lrb-", "appendix", "-rrb-", "typical", "example", "matrix", "human", "rating", "give", "leave", "Figure", "first", "expect", "diagonal", "along", "which", "foreground", "background", "adjust", "equally", "rate", "most", "realistic", "second", "realism", "rating", "decrease", "smoothly", "away", "from", "diagonal", "Third", "except", "extreme", "corner", "matrix", "decrease", "can", "model", "reasonably", "well", "function", "offset", "-lrb-", "where", "mean", "histogram", "i?th", "stimulus", "image", "-rrb-", "we", "therefore", "fit", "rating", "function", "-lrb-", "-rrb-", "gaussian", "function", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "example", "fit", "show", "right", "Figure", "see", "supplemental", "material", "fit", "other", "statistical", "measure", "image", "however", "we", "note", "fitted", "gaussian", "function", "different", "image", "generally", "have", "different", "means", "standard", "deviation", "-lrb-", "example", "image", "harsher", "more", "dramatic", "lighting", "have", "much", "larger", "standard", "deviation", "-rrb-", "we", "therefore", "fit", "gaussian", "separately", "per", "matrix", "standard", "deviation", "fitted", "gaussian", "function", "all", "20", "image", "correspond", "luminance", "CCT", "saturation", "show", "Figure", "we", "can", "see", "variation", "while", "may", "possible", "predict", "shape", "gaussian", "image", "give", "feature", "compute", "from", "we", "would", "need", "many", "more", "than", "20", "training", "image", "do", "so", "need", "very", "accurate", "matte", "make", "create", "additional", "training", "datum", "expensive", "nonetheless", "we", "can", "use", "fitted", "function", "two", "way", "first", "we", "can", "get", "sense", "how", "human", "realism", "rating", "respond", "variation", "measure", "visualize", "impact", "we", "choose", "example", "close-to-median", "standard", "deviation", "show", "original", "image", "well", "adjust", "version", "whose", "realism", "rating", "reduce", "40", "-lrb-", "figure", "-rrb-", "second", "we", "can", "compute", "robust", "average", "standard", "deviation", "each", "statistical", "measure", "approximately", "place", "each", "measure", "equal", "linear", "scale", "after", "apply", "we", "compute", "scale", "factor", "we", "can", "expect", "equal", "adjustment", "different", "statistical", "measure", "produce", "equal", "decrease", "realism", "rating", "-lrb-", "modulo", "error", "introduce", "use", "average", "-rrb-", "we", "create", "scale", "factor", "robust", "average", "standard", "deviation", "Figure", "after", "remove", "highest", "lowest", "value", "value", "give", "Table", "use", "next", "section", "part", "we", "algorithm", "automatically", "improve", "realism", "composite", "Luminance", "CCT", "Saturation", "400", "Fitted", "Std", "Fitted", "Std", "Fitted", "Std", "stop", "robust", "ave.", "mire", "300", "robust", "ave.", "stop", "robust", "ave.", "200", "std", "std", "100", "std", "11", "13", "15", "17", "19", "11", "13", "15", "17", "19", "11", "13", "15", "17", "19", "image", "index", "image", "index", "image", "index", "figure", "fitted", "standard", "deviation", "all", "image", "stimulus", "luminance", "CCT", "saturation", "Luminance", "CCT", "Saturation", "unit", "stop", "mire", "stop", "2.99", "64.9", "0.97", "Luminance", "CCT", "Saturation", "unit", "stop", "mire", "stop", "2.99", "64.9", "0.97", "Table", "robust", "average", "standard", "deviation", "fitted", "rating", "function", "luminance", "CCT", "saturation", "ACM", "transaction", "Graphics", "Vol", "31", "no.", "Article", "84", "publication", "date", "July", "2012", "understand", "improving", "realism", "image", "composite", "84:5", "Figure", "leave", "right", "original", "image", "luminance-adjusted", "cct-adjusted", "saturation-adjusted", "we", "experiment", "original", "image", "receive", "highest", "realism", "rating", "while", "other", "three", "receive", "realism", "rating", "decrease", "around", "60", "fg", "bg", "figure", "Top", "result", "match", "highlight", "mid-tone", "shadow", "zone", "luminance", "histogram", "composite", "bottom", "illustration", "match", "corresponding", "zone", "histogram", "Automatic", "Composite", "Adjustment", "we", "now", "present", "we", "algorithm", "automatically", "adjust", "foreground", "region", "relative", "propose", "background", "so", "composite", "appear", "more", "realistic", "we", "technique", "use", "machine", "learn", "automatically", "choose", "zone", "histogram", "match", "between", "foreground", "background", "luminance", "CCT", "saturation", "once", "zone", "choose", "we", "shift", "foreground?s", "histogram", "so", "mean", "zone", "match", "mean", "background?s", "zone", "we", "adjust", "local", "contrast", "use", "separate", "technique", "since", "contrast", "can", "manipulate", "simple", "histogram", "shift", "4.1", "use", "zone", "give", "evidence", "section", "most", "straightforward", "approach", "align", "statistics", "luminance", "CCT", "saturation", "select", "zone", "each", "measure?s", "histogram", "lowest", "standard", "deviation", "-lrb-", "Table", "-rrb-", "give", "zone", "we", "could", "shift", "histogram", "foreground", "so", "mean", "zone", "match", "mean", "zone", "background", "-lrb-", "figure", "-rrb-", "approach", "would", "select", "same", "zone", "each", "composite", "would", "very", "similar", "color", "transfer", "technique", "-lsb-", "Reinhard", "et", "al.", "2001", "-rsb-", "except", "instead", "use", "entire", "histogram", "we", "would", "use", "zone", "we", "can", "evaluate", "approach", "use", "4126", "segmented", "image", "from", "section", "error", "metric", "we", "denote", "set", "zone", "region", "-lrb-", "where", "-lcb-", "-rcb-", "-rrb-", "give", "statistical", "measure", "we", "denote", "-lrb-", "-rrb-", "mean", "value", "measure", "k?th", "image", "we", "collection", "zone", "we", "use", "mean", "absolute", "error", "-lrb-", "ma", "-rrb-", "statistical", "measure", "incur", "select", "specific", "zone", "match", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "where", "number", "image", "we", "collection", "error", "scheme", "show", "first", "three", "column", "Table", "low", "error", "indicate", "match", "means", "between", "foreground", "background", "use", "statistical", "measure", "better", "able", "reproduce", "original", "image", "we", "collection", "however", "error", "never", "exactly", "zero", "since", "offset", "natural", "image", "exactly", "zero", "-lrb-", "i.e.", "always", "tail", "distribution", "figure", "-rrb-", "error", "lowest", "we", "use", "portion", "luminance", "histogram", "portion", "cct", "histogram", "portion", "saturation", "histogram", "note", "use", "entire", "histogram", "-lrb-", "-rrb-", "-lrb-", "i.e.", "use", "zone", "-rrb-", "optimal", "any", "measure", "which", "support", "we", "claim", "use", "zone", "more", "effective", "algorithm", "ignore", "particular", "characteristic", "composite", "select", "zone", "could", "we", "do", "better", "select", "zone", "dynamically", "per", "composite", "idea", "motivate", "plot", "Figure", "left", "plot", "show", "offset", "between", "background", "foreground", "zone", "luminance", "histogram", "particular", "image", "may", "very", "close", "zero", "however", "right", "plot", "show", "typically", "least", "one", "zone", "do", "have", "nearzero", "offset", "what", "we", "could", "know", "which", "zone", "histogram", "likely", "match", "best", "between", "foreground", "background", "composite", "fourth", "column", "Table", "show", "error", "hypothetical", "oracle", "algorithm", "always", "predict", "best", "zone", "produce", "smallest", "offset", "note", "error", "still", "zero", "since", "smallest", "offset", "still", "exactly", "zero", "each", "test", "image", "nonetheless", "performance", "much", "better", "than", "always", "use", "same", "zone", "we", "therefore", "attempt", "automatically", "predict", "best", "zone", "machine", "learning", "offset", "Luminance", "zone", "minimal", "offset", "Luminance", "10", "10", "low", "low", "mean", "mean", "stop", "high", "stop", "high", "offset", "offset", "10", "10 1000 2000 3000", "4000 1000 2000 3000", "4000", "index", "train", "Images", "Index", "Training", "Images", "Figure", "leave", "offset", "different", "zone", "luminance", "histogram", "per", "image", "right", "minimal", "offset", "-lrb-", "create", "select", "minimum", "low", "mean", "high", "-rrb-", "luminance", "histogram", "see", "supplemental", "material", "offset", "CCT", "saturation", "best", "predict", "luminance", "stop", "0.405", "1.411", "1.540", "0.230", "0.372", "cct", "mire", "129.5", "64.4", "32.3", "8.53", "17.21", "Saturation", "stop", "0.168", "0.811", "2.581", "0.096", "0.120", "best", "predict", "luminance", "stop", "0.405", "1.411", "1.540", "0.230", "0.372", "cct", "mire", "129.5", "64.4", "32.3", "8.53", "17.21", "Saturation", "stop", "0.168", "0.811", "2.581", "0.096", "0.120", "Table", "mae", "error", "five", "compositing", "method", "five", "column", "show", "result", "match", "use", "high", "mean", "low", "zone", "best", "zone", "-lrb-", "oracle", "algorithm", "-rrb-", "we", "multi-label", "classifier", "ACM", "transaction", "Graphics", "Vol", "31", "no.", "Article", "84", "publication", "date", "July", "2012", "84:6", "S.", "Xue", "et", "al.", "4.2", "select", "zone", "one", "approach", "select", "zone", "use", "composite", "train", "classifier", "choose", "one", "three", "option", "-lcb-", "-rcb-", "per", "composite", "each", "statistical", "measure", "however", "may", "more", "than", "one", "zone", "near-zero", "offset", "so", "treat", "zone", "unsuitable", "match", "simply", "because", "another", "zone", "perform", "slightly", "better", "might", "confuse", "classifier", "instead", "we", "take", "multi-label", "classification", "approach", "-lsb-", "Tsoumakas", "Katakis", "2007", "-rsb-", "where", "more", "than", "one", "label", "can", "apply", "instance", "specifically", "we", "train", "three", "separate", "binary", "classifier", "per", "statistical", "measure", "-lrb-", "one", "per", "zone", "-rrb-", "where", "each", "classifier", "predict", "whether", "zone", "-lcb-", "-rcb-", "individually", "suitable", "composite", "matching", "form", "binary", "training", "datum", "from", "we", "collection", "4126", "image", "from", "section", "we", "compare", "offset", "between", "foreground", "background", "realism", "threshold", "each", "zone", "luminance", "CCT", "saturation", "offset", "training", "image", "below", "threshold", "we", "assign", "label", "since", "match", "use", "measure", "would", "produce", "realistic", "image", "similar", "original", "otherwise", "compute", "threshold", "we", "use", "scale", "version", "robust", "standard", "deviation", "compute", "Table", "namely", "0.1", "choose", "several", "iteration", "cross-validation", "use", "small-scale", "trial", "version", "we", "mturk", "evaluation", "study", "describe", "section", "note", "we", "use", "same", "value", "each", "zone", "what", "feature", "should", "we", "use", "we", "classifier", "we", "expectation", "shape", "histogram", "feature", "correlate", "which", "zone", "might", "match", "well", "example", "luminance", "histogram", "significant", "region", "highlight", "shadow", "may", "match", "better", "zone", "respectively", "we", "therefore", "use", "feature", "statistical", "property", "histogram", "measure", "both", "foreground", "background", "image", "example", "luminance", "we", "use", "std", "skew", "kurt", "entropy", "...", "20", "where", "20", "portion", "jth", "bin", "luminance", "histogram", "we", "separately", "compute", "feature", "foreground", "background", "histogram", "we", "use", "random", "forest", "classifier", "-lsb-", "Liaw", "Wiener", "2002", "-rsb-", "default", "setting", "we", "also", "try", "svm", "-lsb-", "Chang", "Lin", "2011", "-rsb-", "rbf", "kernel", "find", "work", "slightly", "less", "well", "misclassification", "rate", "-lrb-", "percentage", "compute", "use", "10-fold", "crossvalidation", "training", "datum", "-rrb-", "we", "classifier", "show", "Table", "Luminance", "CCT", "saturation", "20.9", "18.4", "22.2", "6.5", "20.9", "21.2", "14.8", "14.1", "3.4", "20.9", "18.4", "22.2", "6.5", "20.9", "21.2", "14.8", "14.1", "3.4", "Table", "error", "rate", "every", "two-label", "classifier", "luminance", "CCT", "saturation", "give", "output", "three", "zone", "classifier", "specific", "statistical", "measure", "we", "finally", "combine", "they", "single", "choice", "match", "produce", "composite", "combination", "easy", "only", "one", "three", "classifier", "return", "what", "multiple", "zone", "suitable", "match", "we", "principle", "choose", "zone", "which", "cause", "least", "change", "foreground", "since", "large", "change", "lead", "more", "noticeable", "artifact", "-lrb-", "e.g.", "clipping", "-rrb-", "we", "consider", "zone", "candidate", "output", "its", "classifier", "more", "than", "one", "candidate", "zone", "we", "consider", "each", "candidate", "zone", "turn", "sum", "absolute", "mean", "shift", "histogram", "all", "candidate", "zone", "induce", "match", "note", "any", "clipping", "may", "occur", "right", "left", "histogram", "take", "account", "during", "computation", "finally", "we", "select", "minimum", "sum", "several", "have", "same", "sum", "we", "select", "one", "minimum", "input", "offset", "zone", "candidate", "we", "simply", "select", "result", "above", "technique", "choice", "single", "zone", "per", "composite", "we", "show", "error", "rate", "we", "technique", "fifth", "column", "Table", "compute", "10-fold", "cross-validation", "lower", "than", "always", "choose", "same", "zone", "low", "perfect", "oracle", "selector", "Figure", "sequence", "adjustment", "particular", "composite", "4.3", "we", "Pipeline", "use", "select", "zone", "from", "previous", "section", "we", "adjust", "each", "key", "statistical", "measure", "turn", "contrast", "handle", "special", "case", "-lrb-", "appendix", "-rrb-", "since", "can", "adjust", "simple", "histogram", "shift", "instead", "inspire", "Paris", "et", "al.", "-lsb-", "2011", "-rsb-", "we", "use", "s-shaped", "curve", "adjust", "local", "contrast", "we", "select", "zone", "contrast", "histogram", "choose", "shape", "s-curve", "best", "match", "local", "contrast", "describe", "Appendix", "C.", "note", "contrast", "luminance", "independent", "adjustment", "however", "we", "contrast", "adjustment", "technique", "design", "move", "mean", "luminance", "histogram", "after", "contrast", "we", "adjust", "luminance", "CCT", "saturation", "turn", "we", "experiment", "we", "find", "other", "order", "generally", "work", "well", "long", "contrast", "adjustment", "perform", "first", "we", "adjustment", "algorithm", "greedy", "alternatively", "could", "iterate", "several", "time", "over", "sequence", "step", "however", "we", "find", "result", "do", "change", "significantly", "after", "first", "iteration", "Figure", "show", "intermediate", "result", "step", "we", "pipeline", "input", "adjust", "local", "contrast", "use", "s-shape", "correction", "adjust", "luminance", "Select", "zone", "best", "matching", "shift", "so", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "adjust", "CCT", "Select", "zone", "best", "matching", "shift", "so", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "adjust", "saturation", "Select", "zone", "best", "matching", "shift", "so", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "output", "adjust", "b.", "result", "evaluation", "we", "show", "number", "composit", "result", "adjust", "use", "we", "automatic", "method", "compare", "they", "other", "technique", "Table", "show", "one", "way", "evaluate", "success", "we", "method", "image", "we", "already", "know", "real", "however", "more", "useful", "evaluation", "involve", "adjustment", "composite", "region", "take", "from", "separate", "image", "source", "we", "therefore", "create", "test", "set", "48", "composite", "make", "effort", "ensure", "each", "composite", "semantically", "reasonable", "we", "create", "adjust", "result", "use", "five", "technique", "simple", "cut-and-paste", "manually", "adjust", "composite", "Photoshop", "Match", "Color", "method", "Lalonde", "Efros", "-lsb-", "2007", "-rsb-", "-lrb-", "which", "we", "label", "ColorComp", "-rrb-", "we", "method", "six", "example", "show", "Figure", "11", "manually-adjusted", "composite", "create", "Photoshop", "one", "author", "who", "have", "extensive", "Photoshop", "experience", "typically", "take", "3-4", "minute", "create", "we", "compute", "result", "ColorComp", "use", "code", "datum", "provide", "its", "author", "which", "typically", "take", "3-5", "minute", "execute", "per", "example", "Photoshop", "Match", "Color", "use", "standard", "color", "transfer", "technique", "similar", "Reinhard", "et", "al.", "-lsb-", "2004", "-rsb-", "color", "transfer", "useful", "number", "creative", "task", "compositing", "necessarily", "its", "main", "application", "we", "method", "take", "5-15", "seconds", "execute", "use", "unoptimized", "Matlab", "code", "bottleneck", "contrast", "adjustment", "step", "result", "all", "technique", "all", "48", "composite", "give", "supplemental", "material", "evaluate", "relative", "realism", "five", "technique", "we", "perform", "experiment", "use", "mechanical", "Turk", "simplify", "task", "we", "use", "forced", "choice", "test", "between", "two", "alternate", "version", "same", "composite", "where", "subject", "ask", "choose", "most", "realistic", "alternative", "-lrb-", "alternate", "methodology", "we", "consider", "collect", "individual", "realism", "rating", "each", "composite", "however", "those", "rating", "would", "more", "sensitive", "factor", "influence", "realism", "we", "study", "semantic", "likelihood", "depict", "scene", "-rrb-", "methodology", "we", "experiment", "describe", "appendix", "we", "collect", "average", "12.3", "human", "choice", "each", "480", "possible", "comparison", "first", "we", "use", "one-tailed", "t-test", "compare", "each", "method", "against", "each", "other", "method", "we", "show", "which", "method", "better", "than", "other", "significance", "level", "0.05", "Figure", "10", "we", "method", "outperform", "all", "other", "automatic", "method", "its", "performance", "significantly", "different", "than", "manual", "adjustment", "second", "we", "convert", "series", "paired", "comparison", "scale", "result", "place", "performance", "each", "method", "single", "scale", "scaling", "can", "perform", "individually", "each", "composite", "-lrb-", "figure", "11", "inset", "each", "row", "well", "supplemental", "material", "-rrb-", "average", "over", "all", "composite", "-lrb-", "figure", "12", "-rrb-", "we", "use", "Thurstone?s", "Law", "comparative", "judgment", "Case", "-lsb-", "David", "1988", "-rsb-", "which", "assume", "each", "method", "have", "single", "quality", "score", "observer", "estimate", "score", "normally", "distribute", "resultant", "scale", "value", "linear", "multiple", "score", "so", "difference", "between", "scale", "value", "unit", "standard", "deviation", "preference", "higher", "value", "better", "Figure", "12", "show", "we", "method", "perform", "slightly", "worse", "than", "manual", "adjustment", "much", "better", "than", "all", "other", "automatic", "method", "ColorComp", "significantly", "outperform", "color", "transfer", "however", "surprisingly", "do", "outperform", "cut-and-paste", "may", "because", "many", "we", "scene", "have", "natural", "lighting", "thus", "do", "require", "large", "adjustment", "appear", "natural", "scale", "individual", "composite", "-lrb-", "inset", "Figure", "11", "supplemental", "material", "-rrb-", "can", "diverge", "quite", "significantly", "from", "average", "example", "fifth", "row", "Figure", "11", "ColorComp", "perform", "best", "however", "fourth", "row", "show", "typical", "failure", "color", "transfer", "-lrb-", "which", "also", "component", "ColorComp", "-rrb-", "where", "green", "color", "forest", "unnaturally", "transfer", "person", "last", "row", "we", "method", "significantly", "outperform", "other", "automatic", "technique", "however", "also", "show", "limitation", "we", "method", "we", "can", "correct", "harsh", "lighting", "foreground", "still", "make", "composite", "unrealistic", "ACM", "transaction", "Graphics", "Vol", "31", "no.", "Article", "84", "publication", "date", "July", "2012", "understand", "improving", "realism", "image", "composite", "84:7", "t?tests", "significance", "level", "0.05", "Ours", "cut?and?paste", "MatchColor", "ColorComp", "Manual", "-lrb-", "0.00", "-rrb-", "-lrb-", "0.00", "-rrb-", "-lrb-", "0.01", "-rrb-", "-lrb-", "0.79", "-rrb-", "Manual", "cut?and?paste", "MatchColor", "ColorComp", "Ours", "-lrb-", "0.03", "-rrb-", "-lrb-", "0.00", "-rrb-", "-lrb-", "0.00", "-rrb-", "-lrb-", "0.20", "-rrb-", "ColorComp", "MatchColor", "cut?and?paste", "Ours", "Manual", "-lrb-", "0.00", "-rrb-", "-lrb-", "0.87", "-rrb-", "-lrb-", "0.99", "-rrb-", "-lrb-", "0.99", "-rrb-", "cut?and?paste", "MatchColor", "ColorComp", "Ours", "Manual", "-lrb-", "0.00", "-rrb-", "-lrb-", "0.13", "-rrb-", "-lrb-", "0.99", "-rrb-", "-lrb-", "0.99", "-rrb-", "MatchColor", "cut?and?paste", "ColorComp", "Ours", "Manual", "-lrb-", "1.00", "-rrb-", "-lrb-", "1.00", "-rrb-", "-lrb-", "1.00", "-rrb-", "-lrb-", "1.00", "-rrb-", "Figure", "10", "paired", "t-test", "result", "compare", "all", "method", "each", "method", "-lrb-", "every", "row", "-rrb-", "we", "list", "other", "method", "highlight", "gray", "those", "be", "outperform", "statistically-significant", "frequency", "we", "also", "give", "all", "p-value", "scale", "result", "across", "all", "composite", "0.2001", "0.1849", "0.3", "0.2", "0.1", "-0.1", "-0.2", "-0.3", "-0.4", "-0.5", "Figure", "12", "comparison", "all", "method", "scale", "result", "across", "all", "composite", "higher", "score", "better", "5.1", "Limitations", "along", "example", "Figure", "11", "supplemental", "material", "show", "additional", "failure", "case", "several", "source", "error", "first", "we", "classifier", "sometimes", "choose", "wrong", "offset", "match", "second", "even", "minimal", "offset", "between", "foreground", "background", "real", "image", "exactly", "zero", "so", "perfect", "classification", "still", "yield", "perfect", "adjustment", "even", "most", "peaked", "distribution", "figure", "have", "tail", "so", "any", "algorithm", "use", "meanmatching", "have", "error", "Third", "we", "do", "use", "spatial", "proximity", "cue", "even", "though", "area", "background", "close", "foreground", "probably", "more", "relevant", "than", "area", "farther", "away", "example", "lighting", "can", "change", "respect", "depth", "scene", "proximity", "light", "source", "fourth", "we", "use", "hard", "threshold", "decide", "zone", "appropriate", "match", "during", "training", "phase", "near-threshold", "value", "can", "cause", "incorrect", "decision", "finally", "natural", "question", "whether", "we", "method", "could", "use", "main", "problem", "address", "Lalonde", "Efros", "-lsb-", "2007", "-rsb-", "predict", "whether", "choose", "foreground", "background", "appear", "realistic", "together", "unfortunately", "realism", "rating", "we", "collect", "section", "measure", "human", "response", "variation", "along", "single", "axis", "-lrb-", "e.g.", "luminance", "-rrb-", "unclear", "how", "combine", "simultaneous", "variation", "along", "multiple", "axis", "single", "realism", "prediction", "conclusion", "paper", "we", "study", "problem", "adjust", "composite", "appear", "realistic", "we", "automatic", "technique", "significantly", "outperform", "previous", "method", "biggest", "limitation", "we", "method", "we", "limit", "we", "scope", "standard", "2d", "image", "processing", "adjustment", "some", "composite", "need", "more", "specific", "complicated", "adjustment", "relighting", "truly", "appear", "realistic", "finally", "while", "we", "have", "identify", "image", "statistics", "correlate", "composite", "realism", "still", "much", "do", "truly", "understand", "factor", "influence", "human", "perception", "realism", "why", "statistics", "more", "correlate", "realism", "than", "other", "relationship", "causation", "correlation", "also", "we", "zone", "selection", "classifier", "black", "box", "how", "do", "determine", "which", "zone", "best", "match", "finally", "while", "we", "have", "evaluate", "we", "result", "human", "subject", "would", "expert", "compositor", "have", "different", "ranking", "method", "we", "explore", "question", "future", "work", "ACM", "transaction", "Graphics", "Vol", "31", "no.", "Article", "84", "publication", "date", "July", "2012", "84:8", "S.", "Xue", "et", "al.", "Figure", "11", "composite", "adjust", "cut-and-paste", "manual", "Match", "Color", "ColorComp", "ours", "inset", "show", "relative", "score", "from", "human", "ACM", "transaction", "subject", "study", "Graphics", "Vol", "31", "no.", "Article", "84", "publication", "date", "July", "2012", "understand", "improving", "realism", "image", "composite", "84:9", "acknowledgement", "we", "thank", "Aaron", "Hertzmann", "Peter", "O?Donovan", "Dan", "Goldman", "Sylvain", "Paris", "helpful", "discussion", "work", "support", "part", "Adobe", "image", "result", "courtesy", "Flickr", "user", "joeldinda", "limbic", "essjaynz", "greekadman", "Dell?s", "Pics", "et", "al.", "under", "Creative", "Commons", "license", "reference", "lexander", "T.", "2011", "visual", "effect", "supervisor", "industry", "Light", "Magic", "rule", "thumb", "image", "compositing", "personal", "communication", "Oct.", "eren", "p.", "2009", "Circstat", "matlab", "toolbox", "circular", "statistics", "10", "21", "Journal", "Statistical", "Software", "31", "ychkovsky", "V.", "ari", "S.", "HAN", "E.", "URAND", "F.", "2011", "Learning", "photographic", "global", "tonal", "adjustment", "database", "input/output", "image", "pair", "Proceedings", "CVPR", "97", "104", "hang", "c.-c.", "c.-j", "2011", "LIBSVM", "library", "support", "vector", "machine", "ACM", "Trans", "Intelligent", "Systems", "Technology", "27:1", "27:27", "Software", "available", "http", "www.csie.ntu.edu.tw", "cjlin/libsvm", "ACM", "Trans", "graph", "25", "T.", "-lrb-", "July", "-rrb-", "method", "Paired", "Comparisons", "Oxford", "OHEN", "D.", "orkine", "O.", "AL", "R.", "EYVAND", "y.-q", "2006", "Color", "harmonization", "624", "630", "avid", "H.", "A.", "1988", "University", "Press", "2nd", "edition", "ijsenij", "a.", "ever", "t.", "VAN", "de", "eijer", "J.", "2011", "computational", "color", "constancy", "survey", "experiment", "IEEE", "Trans", "image", "processing", "20", "-lrb-", "sep", "-rrb-", "2475", "2489", "ACM", "Trans", "Graphics", "25", "hum", "h.-y", "2006", "drag3", "-lrb-", "July", "-rrb-", "631", "ia", "J.", "UN", "J.", "ang", "c.-k.", "and-drop", "pasting", "637", "Proceedings", "7th", "Workshop", "Multimedia", "Security", "use", "color", "compatus", "ieee", "11th", "international", "conference", "computer", "Vision", "News", "Proceedings", "APGV", "OHNSON", "M.", "K.", "arid", "H.", "2005", "expose", "digital", "forgery", "detect", "inconsistency", "lighting", "10", "alonde", "j.-f.", "fro", "a.", "2007", "bility", "assess", "image", "realism", "IENER", "M.", "2002", "classification", "regression", "18", "22", "UNDSTEDT", "V.", "angorrin", "F.", "measure", "perception", "light", "inACM", "25", "32", "urve", "D.", "2002", "empirical", "basis", "color", "-lrb-", "Dec.", "-rrb-", "609", "629", "consciousness", "cognition", "11", "ERGEN", "URT", "RCA", "Engineer", "30", "P.", "iaw", "a.", "randomforest", "opez", "oreno", "J.", "utierrez", "D.", "2010", "consistency", "otto", "R.", "perception", "gden", "J.", "M.", "DELSON", "E.", "H.", "J.", "1985", "pyramid-based", "computer", "graphic", "15", "hta", "N.", "obertson", "a.", "R.", "2005", "Wiley", "Chichester", "Colorimetry", "fundamental", "application", "strovsky", "Y.", "AVANAGH", "P.", "INHA", "P.", "2005", "perceive", "illumination", "inconsistency", "scene", "perception", "34", "11", "1301", "1314", "ari", "S.", "ASINOFF", "S.", "W.", "AUTZ", "J.", "2011", "local", "laplacian", "filter", "edge-aware", "image", "processing", "laplacian", "pyramid", "ACM", "Trans", "Graphics", "30", "-lrb-", "aug", "-rrb-", "68:1", "68:12", "elus", "E.", "1990", "contrast", "complex", "image", "Journal", "Optical", "Society", "America", "10", "-lrb-", "oct", "-rrb-", "2032", "2040", "REZ", "P.", "ANGNET", "M.", "lake", "a.", "2003", "Poisson", "image", "editing", "ACM", "Trans", "Graphics", "22", "-lrb-", "Jul", "-rrb-", "313", "318", "oulus", "T.", "einhard", "E.", "2010", "progressive", "histogram", "reshape", "creative", "color", "transfer", "tone", "reproduction", "Proceedings", "NPAR", "81", "90", "einhard", "E.", "SHIKHMIN", "M.", "OOCH", "B.", "HIRLEY", "P.", "S.", "2001", "Color", "transfer", "between", "image", "IEEE", "Computer", "Graphics", "application", "21", "-lrb-", "Sept.", "Oct.", "-rrb-", "34", "41", "einhard", "E.", "UYZ", "a.", "OLBERT", "M.", "UGHES", "C.", "E.", "OC", "ONNOR", "M.", "2004", "real-time", "color", "blending", "render", "capture", "video", "interservice/industry", "training", "simulation", "education", "conference", "hemann", "C.", "OTHER", "C.", "ang", "J.", "ELAUTZ", "M.", "OHLI", "P.", "OTT", "P.", "2009", "perceptually", "motivated", "online", "benchmark", "image", "matting", "Proceedings", "CVPR", "1826", "1833", "ussell", "B.", "orralba", "a.", "urphy", "K.", "reeman", "W.", "2008", "LabelMe", "Database", "Web-Based", "Tool", "image", "annotation", "International", "Journal", "Computer", "Vision", "77", "-lrb-", "May", "-rrb-", "157", "173", "mith", "a.", "R.", "LINN", "J.", "F.", "1996", "Blue", "screen", "matting", "Proceedings", "SIGGRAPH", "96", "259", "268", "toke", "M.", "NDERSON", "M.", "HANDRASEKAR", "S.", "OTTA", "R.", "1996", "standard", "default", "color", "space", "internetsrgb", "Microsoft", "Hewlett-Packard", "Joint", "Report", "UNKAVALLI", "K.", "OHNSON", "M.", "K.", "atusik", "W.", "FIS", "TER", "H.", "2010", "multi-scale", "image", "harmonization", "ACM", "Trans", "Graphics", "29", "-lrb-", "July", "-rrb-", "125:1", "125:10", "ao", "M.", "W.", "OHNSON", "M.", "K.", "ari", "S.", "2010", "errortolerant", "image", "compositing", "european", "conference", "computer", "Vision", "31", "44", "soumaka", "G.", "ATAKIS", "I.", "2007", "multi-label", "classification", "overview", "International", "Journal", "Data", "Warehousing", "Mining", "-lrb-", "july/sept", "-rrb-", "13", "AGBERG", "J.", "2007", "Optpop", "color", "property", "toolbox", "Mar.", "Software", "available", "http://www.mathworks.com/", "ang", "J.", "survey", "matlabcentral/fileexchange/13788", "OHEN", "M.", "F.", "2007", "image", "video", "matting", "-lrb-", "January", "-rrb-", "97", "175", "found", "trend", "Comput", "graph", "Vis", "Appendix", "a.", "image", "statistical", "measure", "image", "Statistics", "compute", "image", "statistics", "input", "image", "composite", "srgb", "color", "space", "pixel", "first", "inversely", "Gamma", "correct", "-lsb-", "Stokes", "et", "al.", "1996", "-rsb-", "we", "transform", "image", "statistics", "so", "approximately", "linear", "human", "visual", "perception", "Luminance", "saturation", "convert", "log", "domain", "base", "weber?s", "law", "CCT", "define", "mire", "-lsb-", "Ohta", "Robertson", "2005", "-rsb-", "Luminance", "we", "use", "log", "where", "-lrb-", "normalize", "-lsb-", "1.0", "-rsb-", "-rrb-", "luminance", "channel", "xyy", "space", "where", "3.03", "10", "-lrb-", "correspond", "intensity", "0-255", "greyscale", "image", "before", "inverse", "gamma", "correction", "-rrb-", "use", "avoid", "undefined", "log", "value", "unit", "difference", "log", "domain", "stop", "correlate", "Color", "Temperature", "-lrb-", "CCT", "-rrb-", "we", "use", "mire", "unit", "CCT", "mire", "10", "where", "plankian", "color", "temperature", "Kelvin", "clip", "-lsb-", "1500", "20000", "-rsb-", "normal", "range", "natural", "lighting", "CCT", "compute", "use", "package", "OptProp", "-lsb-", "Wagberg", "2007", "-rsb-", "saturation", "we", "use", "log", "where", "-lsb-", "1.0", "-rsb-", "saturation", "channel", "hsv", "space", "Hue", "we", "use", "where", "circular", "value", "-lsb-", "0.0", "1.0", "-rsb-", "-lrb-", "-lsb-", "360", "-rsb-", "-rrb-", "hue", "channel", "hsv", "space", "local", "contrast", "locally", "define", "Weber", "contrast", "-lsb-", "peli", "1990", "-rsb-", "use", "every", "pixel", "where", "pixel", "luminance", "local", "average", "luminance", "which", "output", "gaussian", "filter", "1.5", "filter", "radius", "Histogram", "Statistics", "each", "statistical", "measure", "statistics", "compute", "across", "all", "pixel", "corresponding", "region", "i.e.", "foreground", "background", "image", "property", "sensitive", "color", "bias", "e.g.", "CCT", "hue", "saturation", "only", "compute", "across", "pixel", "neither", "overnor", "under-exposed", "practice", "we", "use", "pixel", "0.013", "0.88", "where", "two", "threshold", "correspond", "intensity", "60", "240", "0-255", "greyscale", "image", "before", "inverse", "gamma", "correction", "statistics", "define", "99.9", "where", "represent", "0.1", "99.9", "mean", "pixel", "luminance", "which", "greater", "than", "99.9", "quantile", "kurtosis", "we", "use", "definition", "which", "normal", "distribution", "have", "kurtosis", "Entropy", "compute", "first", "scaling", "-lsb-", "255", "-rsb-", "use", "computation", "routine", "standard", "greyscale", "image", "entropy", "-lrb-", "e.g.", "function", "entropy", "Matlab", "-rrb-", "other", "statistics", "standard", "definition", "use", "notably", "circular", "statistics", "-lsb-", "beren", "2009", "-rsb-", "use", "hue", "example", "circular", "mean", "hue", "use", "place", "ordinary", "mean", "Alpha", "Mattes", "we", "assume", "every", "composite", "have", "alpha", "matte", "foreground", "object", "when", "compute", "we", "morphologically", "erode", "alpha", "matte", "avoid", "inaccuracy", "matte", "boundary", "compute", "region", "where", "matte", "value", "greater", "than", "0.5", "when", "compute", "original", "alpha", "matte", "morphologically", "dilate", "compute", "region", "where", "matte", "value", "lower", "than", "0.5", "avoid", "distant", "background", "only", "compute", "within", "area", "equal", "bound", "box", "foreground", "scale", "element", "erosion", "dilation", "operation", "disk", "whose", "radius", "erosion", "0.03", "min", "-lrb-", "-rrb-", "radius", "dilation", "0.15", "min", "-lrb-", "-rrb-", "where", "width", "height", "bound", "box", "foreground", "object", "ACM", "transaction", "Graphics", "Vol", "31", "no.", "Article", "84", "publication", "date", "July", "2012", "84:10", "S.", "Xue", "et", "al.", "Appendix", "B.", "Perceptual", "experiment", "impact", "human", "realism", "rating", "twenty", "natural", "image", "use", "input", "manually", "create", "foreground", "object", "alpha", "matte", "luminance", "foreground", "background", "every", "image", "respectively", "manipulate", "level", "via", "shift", "-lrb-", "step", "0.5", "stop", "-rrb-", "which", "composit", "form", "49", "composite", "total", "we", "generate", "20", "980", "composite", "mturk", "worker", "evaluate", "same", "number", "stimulus", "generate", "CCT", "saturation", "similar", "procedure", "step", "manipulate", "CCT", "40", "mire", "step", "saturation", "0.25", "stop", "log", "domain", "image", "property", "some", "pixel", "exceed", "define", "range", "Appendix", "after", "manipulation", "clipping", "perform", "every", "mturk", "worker", "present", "series", "-lrb-", "23", "-rrb-", "composite", "evaluate", "two-alternative", "forced", "choice", "manipulate", "real", "instruction", "example", "give", "time", "each", "evaluation", "limit", "12", "seconds", "we", "present", "out", "23", "evaluation", "test", "case", "very", "obvious", "status", "real", "manipulate", "answer", "fail", "pass", "least", "two", "three", "test", "question", "classify", "random", "answer", "discard", "analysis", "end", "1360", "valid", "response", "luminance", "969", "CCT", "1048", "saturation", "every", "composite", "evaluate", "15", "time", "rating", "composite", "proportion", "answer", "real", "we", "control", "each", "specific", "mturk", "task", "so", "23", "composite", "-lrb-", "20", "actual", "study", "test", "-rrb-", "present", "worker", "all", "from", "different", "natural", "image", "any", "one", "worker", "prohibit", "from", "participate", "more", "than", "one", "experiment", "24", "hour", "avoid", "see", "same", "foreground", "background", "twice", "succession", "evaluate", "composite", "we", "use", "all", "48", "composite", "stimulus", "which", "we", "compare", "five", "alpha-matte-based", "adjust", "method", "all", "result", "show", "supplemental", "material", "user", "study", "we", "use", "scheme", "forced", "two-alternative", "choice", "-lrb-", "fac", "-rrb-", "where", "every", "participant", "request", "compare", "series", "pair", "result", "pick", "more", "realistic", "one", "-lrb-", "12", "pair", "actual", "comparison", "pair", "test", "-rrb-", "order", "comparison", "randomize", "test", "example", "pair", "one", "obviously", "real", "image", "obviously", "fake", "composite", "answer", "fail", "correctly", "classify", "least", "three", "out", "four", "test", "comparison", "regard", "random", "answer", "653", "worker", "respond", "we", "test", "151", "random", "answer", "discard", "every", "pair", "comparison", "evaluate", "10", "-lrb-", "average", "12.3", "-rrb-", "worker", "statistical", "robustness", "Appendix", "C.", "adjust", "local", "Contrast", "we", "increase", "local", "11", "-lrb-", "1,1", "-rrb-", "11", "-lrb-", "1,1", "-rrb-", "contrast", "global", "out", "out", "pixel-wise", "luminance", "transformation", "use", "shape", "curve", "inP", "02", "12", "02", "12", "verse", "curve", "decrease", "local", "contrast", "show", "inset", "input", "-lrb-", "0,0", "-rrb-", "01", "-lrb-", "0,0", "-rrb-", "01", "S?curve", "0.5", "inverse", "s?curve", "0.5", "luminance", "value", "re-mapped", "new", "output", "value", "out", "along", "curve", "same", "curve", "use", "across", "image", "transformation", "luminance", "define", "-lrb-", "-rrb-", "xyy", "space", "-lrb-", "log", "domain", "-rrb-", "turn", "point", "curve", "average", "luminance", "which", "curve", "divide", "upper", "lower", "sub-curve", "each", "sub-curve", "Bezier", "curve", "three", "anchor", "upper", "curve", "control", "lower", "curve", "degree", "transformation", "control", "where", "11", "-lrb-", "12", "11", "-rrb-", "01", "-lrb-", "02", "01", "-rrb-", "0.5", "curve", "increase", "local", "contrast", "0.5", "inverse", "curve", "decrease", "local", "contrast", "0.5", "degrade", "straight", "line", "practice", "we", "search", "-lsb-", "0.4", "0.6", "-rsb-", "find", "best", "curve", "match", "local", "contrast", "between", "foreground", "background", "ACM", "transaction", "Graphics", "Vol", "31", "no.", "Article", "84", "publication", "date", "July", "2012" ],
  "content" : "\n  \n    88d936f8af8940f8928a4cc8ab6b3381c19754adf836fa5dfbc93427dc4c2180\n    p2b\n    10.1145/2185520.2185580\n    Name identification was not possible. \n  \n  \n    \n      \n        Understanding and Improving the Realism of Image Composites\n      \n      Su Xue Aseem Agarwala Yale University Adobe Systems, Inc.\n      \n        \n        Figure 1: Our method can automatically adjust the appearance of a foreground region to better match the background of a composite. Given the proposed foreground and background on the left, we show the compositing results of unadjusted cut-and-paste, Adobe Photoshop?s Match Color, the method of Lalonde and Efros[2007], and our method.\n      \n      Compositing is one of the most commonly performed operations in computer graphics. A realistic composite requires adjusting the appearance of the foreground and background so that they appear compatible; unfortunately, this task is challenging and poorly understood. We use statistical and visual perception experiments to study the realism of image composites. First, we evaluate a number of standard 2D image statistical measures, and identify those that are most significant in determining the realism of a composite. Then, we perform a human subjects experiment to determine how the changes in these key statistics influence human judgements of composite realism. Finally, we describe a data-driven algorithm that automatically adjusts these statistical measures in a foreground to make it more compatible with its background in a composite. We show a number of compositing results, and evaluate the performance of both our algorithm and previous work with a human subjects study. CR Categories: I.4.10 [Image Processing and Computer Vision]: Image Representation?Statistical\n      \n        \n      \n      Links:\n      \n        \n      \n      DL PDF W EB D\n      \n        \n        \n      \n      ATA\n    \n    \n      \n        1 Introduction\n        \n          1.1 Related Work\n          The ideal method to adjust a foreground image to match a given background is to simulate its appearance under the same illumination that produced the background image. Since this task is beyond the ability of today?s algorithms, most techniques simply shift the appearance of the foreground to better resemble the background. For example, color transfer techniques [Reinhard et al. 2001; Reinhard et al. 2004; Pouli and Reinhard 2010] align the means and variances of the color histograms of the two image regions. Adobe Photoshop?s widely used ?Match Color? feature is based on this idea. The problem with this approach is that it conflates the effects of reflectance and illumination; e.g., a forest is not green because of a green light source, and thus it is not correct to turn the skin of a person added to the scene green. One can shoot a realistic image of a red car in a desert, even though their color distributions will be very different. Lalonde and Efros et al. [2007] add to this technique by estimating the co-occurrence probability of the color distributions by finding nearest neighbors in an image database. However, this non-parametric approach requires a large database to be searched for each composite, and depends on the presence of several images that are similar to the target composite. The main focus of their work is to predict whether a given composite will appear realistic. However, they show composite adjustment as an additional application; we therefore compare the results of our method to this approach and to color transfer in Section 5. Professional compositors employ a number of principles for adjusting a composite. One professional compositor [Alexander 2011] told us that compositors often focus on luminance zones. First, they isolate the highlights and match their color and brightness, then balance the mid-tones with gamma correction, and finally match the shadow regions. Our algorithm also adjusts based on zones, though we automatically choose different zones to match for each composite, and give statistical evidence for the benefits of using zones. A completely different approach to making image regions compatible is to adjust their colors so that they match a predefined set of templates that are thought to encode color harmony [Cohen-Or et al. 2006]. However, harmonious images are not necessarily realistic, and the method ignores other factors such as luminance and contrast; finally, this approach has not been quantitatively evaluated. An alternative to alpha matting is to seamlessly blend image regions with methods like feathering, Laplacian pyramids [Ogden et al. 1985], or gradient-domain compositing [P?rez et al. 2003; Jia et al. 2006; Tao et al. 2010; Sunkavalli et al. 2010]. This approach can work well if the two source images have similar colors and textures; however, in other cases color bleeding and severe discolorations can occur. In practice, most whole-object composites are still made with alpha mattes. There are a number of related areas that inform our approach. Color constancy is the related problem of recovering the appearance of an input image under neutral lighting [Gijsenij et al. 2011]. Since the problem is highly ill-posed, current solutions are still not robust. Image forensics [Johnson and Farid 2005] seeks to detect compos ited images, while our goal is to understand and exploit the flexibility of the human visual system, rather than to mislead an algorithm.\n        \n        \n          1.2 Overview\n          In Section 2 we perform experiments to determine which statistics of natural images are most correlated between foreground and background. Specifically, we take 4126 natural images with a segmented foreground, and measure the correlation of a number of candidate statistical measures. We find that the means of the high and low zones of the histogram of a statistical measure tend to correlate more strongly than the mean of the whole histogram. For example, shadows and highlights tend to match better between foreground and background than overall mean luminance. We find that luminance, color temperature, saturation, and local contrast are the most correlated statistical measures between foreground and background. In Section 3 we perform a human subjects experiment to measure the relationship between mismatches in these selected statistical measures and the decrease in perceived realism. Specifically, we take a separate set of 20 images with a matted foreground and introduce variations to the foreground along a specific axis (e.g., luminance); we then measure the decrease in the human perception of realism. One numerical outcome of this experiment is a set of scaling values ( Table 2 ) that linearly relates a change in each statistical measure into a change in the human perception of realism. In Section 4 we present an algorithm for adjusting a foreground to appear realistic relative to a given background. The algorithm adjusts the foreground so that the means of the statistical measures identified in Section 2 are matched. The main component of the algorithm is a classifier that predicts the zone of the histogram of each statistical measure that, when matched between foreground and background, will produce the most realistic composite. The classifier is trained on the same 4126 images used Section 2. The classifier also uses the scaling values computed in Section 3 to aid in the prediction. In Section 5, we evaluate the performance of our algorithm and previous work.\n        \n      \n      Compositing is a fundamental operation in computer graphics. Combining a foreground object from one image with the background of another requires two operations to achieve a realistic composite: first, extract the foreground object by computing an alpha matte, and second, adjust the appearance of the foreground relative to its new background so that the two appear natural together. While the first problem has received considerable attention\n      ACM Reference Format Xue, S., Agarwala, A., Dorsey, J., Rushmeier, H. 2012. Understanding and Improving the Realism of Image Composites. ACM Trans. Graph. 31 4, Article 84 (July 2012), 10 pages. DOI = 10.1145/2185520.2185580 http://doi.acm.org/10.1145/2185520.2185580. Copyright Notice Permission to make digital or hard copies of part or all of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or direct commercial advantage and that copies show this notice on the fi rst page or initial screen of a display along with the full citation. Copyrights for components of this work owned by others than ACM must be honored. Abstracting with credit is permitted. To copy otherwise, to republish, to post on servers, to redistribute to lists, or to use any component of this work in other works requires prior specific permission and/or a fee. Permissions may be requested from Publications Dept., ACM, Inc., 2 Penn Plaza, Suite 701, New York, NY 10121-0701, fax +1\n      \n        212\n        869-0481, or permissions@acm.org.\n      \n      ? 2012 ACM 0730-0301/2012/08-ART84 $15.00 DOI 10.1145/2185520.2185580 http://doi.acm.org/10.1145/2185520.2185580\n      Julie Dorsey Holly Rushmeier Yale University Yale University\n      in the research community [Smith and Blinn 1996; Wang and Cohen 2007; Rhemann et al. 2009], the second has not been systematically studied. Professional compositors have several rules of thumb, but in the end, most composites are made realistic by trial-and-error adjustment of standard image controls such as brightness, contrast, hue, and saturation.  In this paper, we use statistical and visual perception experiments to study the factors that influence the realism of image composites, and propose an automated method to increase their realism. The scope of this problem is large: composite realism is influenced by semantics (e.g., is a polar bear in a rainforest realistic), and factors that require 3D reasoning to analyze (e.g., inter-reflections). However, perception research has shown that the human visual system is remarkably insensitive to certain lighting inconsistencies within an image, such as shadow directions and highlight placements [Ostrovsky et al. 2005; Lopez-Moreno et al. 2010]. If a user is reasonably careful in choosing and locating a foreground relative to a background, many composites can be made to appear realistic by performing standard image processing operations, such as color, brightness, and contrast transformations. We therefore limit the scope of our study to 2D image processing operations, and leave 3D effects and semantics to the user (or other techniques). However, adjusting an image composite to appear realistic with 2D operations is still highly challenging for a novice user, with many degrees of freedom whose correct values often seem ambiguous. Professional compositors are typically able to achieve much better results, and thus automation would be very helpful for novices. We also seek a deeper, evidence-based understanding of the factors that influence human perception of composite realism. We are interested in three main questions. First, what are the key statistical properties that control the realism of an image composite? Second, how do variations in these properties affect human judgement of a composite?s realism? Third, can an algorithm automatically adjust these properties to improve the realism of a specific composite? To answer these questions we perform three tasks. First, we use a large, labeled database of images that contain a foreground object and background, and compare a number of common image statistical measures to see which are the most correlated between foreground and background. Second, we select the most correlated statistics, and perform a human subjects study to test how changes in these statistics influence human ratings of realism. That is, we take natural images and manipulate the foreground and background to introduce statistical deviations, and measure the induced decrease in human realism ratings. Third, we use the insights gleaned from the above experiments to design an algorithm to ad- just a foreground to match a background. More specifically, we find that statistics between foreground and background typically match better for one zone of the histogram (for example, the luminance zones of highlights, mid-tones, or shadows) than for the histogram as a whole, and the best zone varies from composite to composite. Matching zones is also common practice for professional compositors [Alexander 2011]. We therefore use machine learning techniques to predict which zone to match for a specific composite. Finally, we validate and show that our technique creates more realistic composites than previous automated techniques.\n      ACM Transactions on Graphics, Vol. 31, No. 4, Article 84, Publication Date: July 2012\n      84:2\n      ?\n      S. Xue et al.\n      \n        2 Identifying Key Statistical Measures\n        Given a foreground f and a background b, our goal is to create a composite that is perceived as realistic. In practice the background of a composite is often fixed, so we focus on adjusting the foreground appearance f into f ? so that its composite with b is as realistic as possible. Our first simplifying assumption is that we can achieve a realistic composite by only adjusting standard 2D statistical measures, e.g., luminance, contrast, and color histograms; we ignore issues like semantics and 3D properties. We denote the collection of statistical measures of a foreground or background region as M f and M b , respectively. We therefore seek to adjust M f to M f ? . One approach to this problem is to predict the probability that a composite appears realistic given its foreground and background statistics, i.e., P (Real|M f , M b ). We could model this probability with a collection of composites, both realistic and unrealistic, along with human ratings of realism. However, the space of composites is very large, and we would need to ensure that all composites are free of issues such as poor matting or semantics, since we are not studying these factors. Another approach is to realize that real-world images are, by definition, realistic; therefore, a composite whose statistics are similar to the statistics of real-world images should also appear realistic [Lotto and Purves 2002; Lalonde and Efros 2007]. We can form a collection of real-world images with roughly segmented foreground and backgrounds, and maximize the likelihood of f ? relative to this data, i.e., maximize P (M f |M b , Real).  This likelihood is hard to fully model. Instead, we first identify a few key statistical measures that most affect the realism of a composite. More specifically, we select statistics that satisfy the following criteria: 1. The measure should be highly correlated between foreground and background in real images. Therefore we can maximize realism by adjusting the foreground to satisfy this linear relationship. 2. The measure should be easy to adjust in a photograph. That is, given a desired value for a measure of the foreground, we should be able to achieve that value with simple image processing operations. 3. The measures should be as independent of each other as possible. That way, we can adjust the foreground to satisfy one correlation without negatively affecting another. We therefore group the set of statistical measures M into five individual categories that are commonly adjusted in composites: luminance, color temperature (CCT), saturation, local contrast, and hue. Within each group, we form a histogram of the property and then compute a number of statistical measures of that histogram, such as the mean, standard deviation, etc. (see Appendix A for a complete list). We denote an individual measure within this overall set as M i . We can measure correlation between M f i and M b i directly with a Pearson correlation coefficient, which computes the goodness of a linear fit between two measures. Better linear fits are obtained if we first transform the measures into perceptually linear scales (Appendix A). Another way to discover simple relationships between foreground and background is to look at the offset ? i = M f i ? M b i in natural images. If the distribution of ? i is concentrated over a small range of values, then the measure is also highly correlated between foreground and background, and described by a simple constant offset. Therefore we look both at the standard deviation of ? i as well as the correlation coefficient between M f i and M b i . We collect 4126 images from the LabelMe data-set [Russell et al. 2008] with clearly labeled, meaningful, and un-occluded foreground objects in front of background scenes. We choose the images to sample a wide variety of compositing scenarios, e.g., outdoors, indoors, daylight, night, people, objects, animals, plants, etc. For each candidate statistic M i , we compute the normalized standard deviation, ? ? of ? i as ? ? = ?/ , where ? is the standard deviation of the normalized histogram of ? i values across the image\n        ACM Transactions on Graphics, Vol. 31, No. 4, Article 84, Publication Date: July 2012\n        Understanding and Improving the Realism of Image Composites\n        ?\n        84:3\n        lum high lum mean lum shdw 1000 1000 1000 Counts 500 Counts 500 Counts 500 0 ?10 0 10 0 ?10 0 10 0 ?10 0 10 Delta = M f ?M b Delta = M f ?M b Delta = M f ?M b cct warm cct mean cct cold 1000 1000 1000 Counts 500 Counts 500 Counts 500 0 ?500 0 500 0 ?500 0 500 0 ?500 0 500 Delta = M f ?M b Delta = M f ?M b Delta = M f ?M b sat top sat mean sat low 1000 1000 1000 Counts 500 Counts 500 Counts 500 0 ?10 0 10 0 ?10 0 10 0 ?10 0 10 Delta = M f ?M b Delta = M f ?M b Delta = M f ?M b\n        \n          Figure 2: Likelihoods of the offsets for H,M,and L of luminance, CCT, and saturation, respectively. These statistics have specific meanings for various measures, e.g., H and L of CCT correspond to the warmest and coldest colors.\n        \n        \n          \n            \n              \n                \n                  \n                   H\n                   M\n                   L\n                   std\n                   kurt\n                   skew\n                   entropy\n                \n              \n              \n                \n                  \n                   Luminance\n                  \n                  \n                  \n                  \n                  \n                  \n                \n                \n                   ? ?\n                   0.058\n                   0.149\n                   0.189\n                   0.070\n                   0.182\n                   0.263\n                   0.143\n                \n                \n                   r\n                   0.241\n                   0.194\n                   0.493\n                   0.139\n                   0.049\n                   0.131\n                   0.228\n                \n                \n                   CCT\n                  \n                  \n                  \n                  \n                  \n                  \n                  \n                \n                \n                   ? ?\n                   0.287\n                   0.145\n                   0.071\n                   0.105\n                   0.188\n                   0.246\n                   0.225\n                \n                \n                   r\n                   0.310\n                   0.463\n                   0.495\n                   0.202\n                   0.068\n                   0.196\n                   0.218\n                \n                \n                  \n                   Saturation\n                  \n                  \n                  \n                  \n                  \n                  \n                \n                \n                   ? ?\n                   0.027\n                   0.095\n                   0.299\n                   0.058\n                   0.205\n                   0.173\n                   0.159\n                \n                \n                   r\n                   0.811\n                   0.483\n                   0.482\n                   0.390\n                   0.123\n                   0.254\n                   0.295\n                \n                \n                   Hue\n                  \n                  \n                  \n                  \n                  \n                  \n                  \n                \n                \n                   ? ?\n                   n/a\n                   0.348\n                   n/a\n                   0.413\n                   0.492\n                   0.474\n                   0.158\n                \n                \n                   r\n                   n/a\n                   0.235\n                   n/a\n                   0.366\n                   0.175\n                   0.001\n                   0.172\n                \n                \n                   Local\n                   Contrast\n                  \n                  \n                  \n                  \n                  \n                  \n                \n                \n                   ? ?\n                   0.150\n                   0.016\n                   0.000\n                   0.012\n                   0.170\n                   0.152\n                   0.137\n                \n                \n                   r\n                   0.719\n                   0.713\n                   0.403\n                   0.760\n                   0.192\n                   0.235\n                   0.681\n                \n              \n            \n          \n          H M L std kurt skew entropy Luminance ? ? 0.058 0.149 0.189 0.070 0.182 0.263 0.143 r 0.241 0.194 0.493 0.139 0.049 0.131 0.228 CCT ? ? 0.287 0.145 0.071 0.105 0.188 0.246 0.225 r 0.310 0.463 0.495 0.202 0.068 0.196 0.218 Saturation ? ? 0.027 0.095 0.299 0.058 0.205 0.173 0.159 r 0.811 0.483 0.482 0.390 0.123 0.254 0.295 Hue ? ? n/a 0.348 n/a 0.413 0.492 0.474 0.158 r n/a 0.235 n/a 0.366 0.175 0.001 0.172 Local Contrast ? ? 0.150 0.016 0.000 0.012 0.170 0.152 0.137 r 0.719 0.713 0.403 0.760 0.192 0.235 0.681\n          Table 1: Statistical measures computed across our image collection. Smaller values of ? ? (normalized standard deviation of ? i )\n        \n        and larger values of r (correlation coefficient between foreground and background) indicate more useful measures. For every row, the three best quantities are highlighted in bold. collection, and = max M i . We also compute the correlation coefficient, r = corr(M f i , M b i ).\n        Instead of only computing these measures over the entire histogram of a category such as luminance, we found stronger correlations if we separated the histograms of luminance into high (H), middle (whole-histogram) (M), and low (L) zones. The average of each zone is used as an individual statistical measure (Appendix A). For example, in real images the mean luminance of highlight regions tend to match better between foreground and background than the mean of the whole histogram, which can be seen in the first row of Figure 2 ; we show the likelihoods of the offsets for two other measures in the other rows. The likelihoods of the offsets for other statistics are given in supplemental materials. We also show numbers for ? ? and r across zones in Table 1 . (An exception is hue, which is a circular value (Appendix A) so H and L are undefined. ) We can draw several conclusions from these results. Luminance matches better between foreground and background in the highlights and shadows than in the mid-range. Local contrast and saturation show very strong correlation. While CCT and hue are related methods of describing color, CCT shows stronger correlation than hue. Last, all the likelihoods of offsets have single-peak distributions centered at 0. This observation statistically supports the intuition behind the mean-matching approach of color transfer techniques [Reinhard et al. 2004]. However, the correlations of the high (H) and low (L) zones are much stronger than the for the whole histogram (M) typically used by color transfer, which suggests that matching by zones might lead to more realistic composites. Finally, on average the means of the histogram zones H,M,and L show stronger correlation than the other statistical measures. Though the standard deviation sometimes performs well, the zone means are enough to cover the best or nearly-best values in Table 1 . Based on these conclusions, we focus on mean-matching across different zones of the histogram for luminance, color temperature, saturation, and local contrast. In the next section, we test the impact of mismatches in these statistical measures on human judgements of realism.\n        ACM Transactions on Graphics, Vol. 31, No. 4, Article 84, Publication Date: July 2012\n        84:4\n        ?\n        S. Xue et al.\n        \n          \n          Figure 3: Stimuli to study impact of variations in key statistical measures. We show the matrices of composites after manipulating luminance (left) and CCT (right) for a specific image; more examples can be found in the supplemental materials.\n        \n        \n          \n        \n        Realism Rating 0 1 Fg 2 of 3 Levels 4 5 6 0 1 2 3 4 5 6 Levels of Bg\n        1 Ratings 0.8 G(delta) Realism 0.6 of 0.4 Ratings 0.2 0 ?5 0 5 10 Delta = M f ? M b\n        \n          Figure 4: Left: human ratings corresponding to the adjusted luminance matrix in Figure 3 . Right: these ratings are fit by a Gaussian function G(? i ), where each data point corresponds to one cell in the matrix on the left.\n        \n      \n      \n        3 Impact on Human Realism Ratings\n        We have identified several key statistical measures that are strongly matched between foreground and background in real images. How do mismatches in these key statistical measures affects the judgement of realism? The fact that natural images follow a certain statistical relation does not necessarily tell us the acceptable range of variation in that statistical relation before a composite appears unreal. Also, a numerical relationship between each statistical measure and its influence on human ratings of realism will help us combine these different measures into a single algorithm for automatic compositing. We therefore perform a perception experiment with human subjects on Amazon Mechanical Turk (MTurk) to numerically model this relationship. To design our experiment it is important to have a natural control image, and only vary one variable; otherwise, issues other than the one we are studying could influence the perception of realism. We therefore take 20 natural images from a public database [Bychkovsky et al. 2011], carefully matte out the foreground, adjust the foreground and/or background along a single axis, and recomposite. In this way, we can be assured issues like semantics are already satisfied. We perform this experiment for three key statistical measures identified in the previous section: luminance, color temperature, and saturation. For these measures, we can simply increase or decrease the offset of this measure between foreground  and background by shifting histograms. We then measure the perceived decrease in realism. (We skip the key statistical measure of local contrast, for now, because it is not adjustable with simple linear operations; we address this special case in Section 4.) We generate a 7 ? 7 matrix of compositing results by adjusting the foreground and/or background by a specific amount (two examples are shown in Figure 3 ). The center of the matrix is the original image, and along the diagonal foreground and background are adjusted equally. We then acquire a realism score (0.0 ? 1.0) for each composite (Appendix B). A typical example matrix of human ratings is given on the left in Figure 4 . First, as expected, the diagonal along which the foreground and background are adjusted equally is rated the most realistic. Second, realism ratings decrease smoothly away from the diagonal. Third, except for the extreme corners of the matrix, this decrease can be modeled reasonably well as a function of the offset M f i ? M i b (where M i is the mean of the histogram for the i?th stimuli image). We therefore fit a rating function R(M i f , M b i ) as a Gaussian function G: R(M f i , M i b ) ? G(M f i ? M i b ) = G(? i ) (1) An example of this fit is shown on the right in Figure 4 . See supplemental materials for fits to other statistical measures and images. However, we note that the fitted Gaussian functions for different images generally have different means and standard deviations. (For example, images with harsher or more dramatic lighting have much larger standard deviations.) We therefore fit this Gaussian separately per matrix. The standard deviations ? of fitted Gaussian functions for all 20 images corresponding to luminance, CCT, saturation are shown in Figure 5 . We can see the variation in ?. While it may be possible to predict the shape of this Gaussian for an image given features computed from it, we would need many more than 20 training images to do so, and the need for very accurate mattes makes creating additional training data expensive. Nonetheless, we can use these fitted functions in two ways. First, we can get a sense of how human realism ratings respond to variations in these measures. To visualize this impact, we choose an example with close-to-median standard deviation, and show the original image as well an adjusted version whose realism rating is reduced by 40% ( Figure 6 ). Second, we can compute robust average standard deviations for each statistical measure that approximately places each measure on an equal, linear scale. That is, after applying our computed scale factors we can expect equal adjustments of different statistical measures to produce equal decreases in realism rating (modulo the error introduced by using an average). We create these scale factors ? g as robust averages of the standard deviations in Figure 5 , after removing the highest and lowest values. These values are given in Table 2 , and are used in the next section as part of our algorithm to automatically improve the realism of a composite.\n        Luminance CCT Saturation 6 400 4 Fitted Std Fitted Std Fitted Std stops 4 Robust Ave. mired 300 Robust Ave. stops 3 Robust Ave. in in 200 in 2 Std 2 Std 100 Std 1 0 0 0 1 3 5 7 9 11 13 15 17 19 1 3 5 7 9 11 13 15 17 19 1 3 5 7 9 11 13 15 17 19 Image Index Image Index Image Index\n        \n          Figure 5: The fitted standard deviations of all images in the stimuli of luminance, CCT, and saturation.\n        \n        \n          \n            \n              \n              \n                \n                  \n                   Luminance\n                   CCT\n                   Saturation\n                \n                \n                   Units\n                   stops\n                   mired\n                   stops\n                \n                \n                   ? g\n                   2.99\n                   64.9\n                   0.97\n                \n              \n            \n          \n          Luminance CCT Saturation Units stops mired stops ? g 2.99 64.9 0.97\n          Table 2: Robust average standard deviations of the fitted rating functions for luminance, CCT, and saturation.\n        \n        ACM Transactions on Graphics, Vol. 31, No. 4, Article 84, Publication Date: July 2012\n        Understanding and Improving the Realism of Image Composites\n        ?\n        84:5\n        \n          \n          Figure 6: Left to right: the original image, the luminance-adjusted, the CCT-adjusted, and the saturation-adjusted. In our experiment the original image received the highest realism rating, while the other three received realism ratings decreased to around 60%.\n        \n        \n          \n        \n        Fg Bg\n        \n          Figure 7: Top: results of matching highlight, mid-tone, and shadow zones of the luminance histogram for a composite. Bottom: illustration of matching the corresponding zones of the histograms.\n        \n      \n      \n        4 Automatic Composite Adjustment\n        We now present our algorithm for automatically adjusting a foreground region relative to a proposed background so that their composite appears more realistic. Our technique uses machine learning to automatically choose a zone of the histogram to match between foreground and background for luminance, CCT, and saturation. Once a zone is chosen, we shift the foreground?s histogram so that the mean of the zone matches the mean of the background?s zone. We adjust local contrast using a separate technique, since contrast cannot be manipulated with simple histogram shifts.\n        \n          4.1 Using Zones\n          Given the evidence in Section 2, the most straightforward approach to aligning the statistics of luminance, CCT, and saturation is to select the zone of each measure?s histogram with the lowest standard deviation (? ? in Table 1 ). Given that zone, we could shift the histogram of the foreground so that the mean of that zone matches the mean of the zone in the background ( Figure 7 ). This approach would select the same zones for each composite, and would be very similar to color transfer techniques [Reinhard et al. 2001] except that instead of using the entire histogram, we would use a zone. We can evaluate this approach using the 4126 segmented images from Section 2 and an error metric. We denote the set of zone regions as z (where z ? {H, M, L}), and given a statistical measure M , we denote M (k, z) as the mean value of that measure on the k?th image in our collection in the zone z. We use the mean absolute error (MAE) in this statistical measure that is incurred by selecting a specific zone to match, or E(z) = n 1 n k=1 |M f (k, z)?M b (k, z)|, where n is the number of images in our collection. The errors of these schemes are shown in the first three columns of Table 3 . A low error indicates that matching the means between foreground and background using that statistical measure is better able to reproduce the original images of our collection. However, the error will never be exactly zero, since the offsets of natural images are not exactly zero (i.e., there are always tails in the distributions in Figure 2 ). The error is lowest if we use the H portion of the luminance histogram, the L portion of the CCT histogram, and the H portion of the saturation histogram. Note that using the entire histogram (M) (i.e., not using zones) is not optimal for any measure, which supports our claim that using zones is more effective. This algorithm ignores the particular characteristics of a composite in selecting zones; could we do better by selecting a zone dynamically per composite? This idea is motivated by the plots in Figure 8. The left plot shows that the offset between background and foreground for a zone of the luminance histogram for a particular image may not be very close to zero. However, the right plot shows that typically at least one of the H, M, L zones does have a nearzero offset. What if we could know which zone of the histogram is likely to match best between foreground and background for a composite? The fourth column of Table 3 shows the error of a hypothetical ?oracle? algorithm always predicting the best zone that produces the smallest offset. Note that this error is still not zero since the smallest offset is still not exactly zero for each test image. Nonetheless, the performance is much better than always using the same zone. We therefore attempt to automatically predict the best zone with machine learning.\n          Offsets of Luminance Zones Minimal Offsets of Luminance 10 10 Low Low Mean Mean stops 5 High stops 5 High in 0 in 0 Offsets ?5 Offsets ?5 ?10 ?10 1000 2000 3000 4000 1000 2000 3000 4000 Index of Training Images Index of Training Images\n          \n            Figure 8: Left: the offsets of different zones of the luminance histograms per image. Right: the minimal offset (created by selecting the minimum of low, mean, high) of the luminance histograms. See supplemental materials for the offsets of CCT and saturation.\n          \n          \n            \n              \n                \n                  \n                    \n                     H\n                     M\n                     L\n                     Best\n                     Predicted\n                  \n                \n                \n                  \n                     Luminance\n                    \n                    \n                    \n                    \n                    \n                  \n                  \n                     stops\n                     0.405\n                     1.411\n                     1.540\n                     0.230\n                     0.372\n                  \n                  \n                     CCT\n                    \n                    \n                    \n                    \n                    \n                  \n                  \n                     mired\n                     129.5\n                     64.4\n                     32.3\n                     8.53\n                     17.21\n                  \n                  \n                     Saturation\n                    \n                    \n                    \n                    \n                    \n                  \n                  \n                     stop\n                     0.168\n                     0.811\n                     2.581\n                     0.096\n                     0.120\n                  \n                \n              \n            \n            H M L Best Predicted Luminance stops 0.405 1.411 1.540 0.230 0.372 CCT mired 129.5 64.4 32.3 8.53 17.21 Saturation stop 0.168 0.811 2.581 0.096 0.120\n            Table 3: The MAE errors for five compositing methods. Five columns show the results by matching using high, mean, low zones, the best zone (oracle algorithm), and our multi-label classifier.\n          \n          ACM Transactions on Graphics, Vol. 31, No. 4, Article 84, Publication Date: July 2012\n          84:6\n          ?\n          S. Xue et al.\n        \n        \n          4.2 Selecting Zones\n          One approach to selecting zones to use for a composite is to train a classifier to choose one of three options {H, M, L} per composite for each statistical measure. However, there may be more than one zone with a near-zero offset, so treating such a zone as unsuitable for matching simply because another zone performs slightly better might confuse a classifier. Instead, we take a multi-label classification approach [Tsoumakas and Katakis 2007], where more than one label can be applied to an instance. Specifically, we train three separate binary classifiers per statistical measure (one per zone), where each classifier predicts whether the zones {H, M, L} are individually suitable for composite matching. To form binary training data from our collection of 4126 images from Section 2, we compare the offset between foreground and background to a realism threshold T for each zone z of luminance, CCT, and saturation. If the offset of the training image is below this threshold we assign label 1, since matching using this measure would produce a realistic image similar to the original, and 0 otherwise. To compute threshold T we use a scaled version of the robust standard deviations computed in Table 2 , namely T = s ? ? g , with s = 0.1 chosen by several iterations of cross-validation using a small-scale trial version of our MTurk evaluation study described in Section 5. Note that we use the same T value for each zone. What features should we use for our classifier? Our expectation is that the shape of the histogram for a feature is correlated with which zone might match well. For example, a luminance histogram with significant regions of highlight or shadow may match better with the H or L zones, respectively. We therefore use as features statistical properties of the histogram of that measure for both the foreground and background of the image. For example, for luminance we use std, skew, kurt, entropy, p 1 , p 2 , ..., p 20 , where p j , j = 1, 2, .., 20, is the portion of the jth bin in the luminance histogram. We separately compute these features on the foreground and background histograms. We use a random forest classifier [Liaw and Wiener 2002] with default settings. We also tried SVM [Chang and Lin 2011] with an RBF kernel, but found it worked slightly less well. The misclassification rates (as percentages, computed using 10-fold crossvalidation on the training data) of our classifiers are shown in Table 4.\n          Luminance CCT Saturation\n          \n            \n              \n                \n                  \n                     H\n                     M\n                     L\n                  \n                \n                \n                  \n                     20.9%\n                     18.4%\n                     22.2%\n                  \n                  \n                     6.5%\n                     20.9%\n                     21.2%\n                  \n                  \n                     14.8%\n                     14.1%\n                     3.4%\n                  \n                \n              \n            \n            H M L 20.9% 18.4% 22.2% 6.5% 20.9% 21.2% 14.8% 14.1% 3.4%\n            Table 4: Error rates of every two-label classifier for luminance, CCT, and saturation.\n          \n          Given the output of three zone classifiers for a specific statistical measure, we finally combine them into a single choice to match to produce a composite. This combination is easy if only one of the three classifiers returns 1, but what if multiple zones are suitable for matching? Our principle is to choose the zone which will cause the least change to the foreground, since large changes lead to more noticeable artifacts (e.g., clipping). We consider a zone a ?candidate? if the output of its classifier is 1. If there is more than one candidate zone, we consider each candidate zone z i in turn, and sum the absolute mean shift of the histogram for all candidate zones that is induced by matching z i . Note that any clipping that may occur at the right and left of the histogram is taken into account during this computation. Finally we select the z i with the minimum sum. If several z i have the same sum, we select the one with the minimum input offset. If no zones are candidates, we simply select M.  The result of the above technique is the choice of a single zone per composite. We show the error rate of our technique in the fifth column of Table 3 , computed with 10-fold cross-validation; it is lower than always choosing the same zone, but not as low as the perfect ?oracle? selector.\n          \n            \n            Figure 9: The sequence of adjustments for a particular composite.\n          \n        \n        \n          4.3 Our Pipeline\n          Using the selected zone from the previous section, we adjust each key statistical measure in turn. Contrast is handled as a special case (Appendix C), since it cannot be adjusted with simple histogram shifts. Instead, inspired by Paris et al. [2011] we use an S-shaped curve to adjust local contrast. We select the H zone of the contrast histogram, and choose the shape of the S-curve to best match local contrast as described in Appendix C. Note that contrast and luminance are not independent adjustments; however, our contrast adjustment technique is designed to not move the mean of the luminance histogram. After contrast, we adjust luminance, CCT, and saturation, in turn. In our experiments we found other orders generally work as well, as long as contrast adjustment is performed first. Our adjustment algorithm is greedy; alternatively, it could iterate several times over this sequence of steps. However, we found the results did not change significantly after the first iteration. Figure 9 shows the intermediate results of the steps of our pipeline. Input: f and b 1. Adjust local contrast M f 0 using S-shape correction. 2. Adjust luminance M f 1 . Select zone z that is best for matching. Shift M f 1 , so that M f 1 (z) ? M b 1 (z) = 0. 3. Adjust CCT M f 2 . Select zone z that is best for matching. Shift M f 2 , so that M f 2 (z) ? M b 2 (z) = 0. 4. Adjust saturation M f 3 . Select zone z that is best for matching. Shift M f 3 , so that M f 3 (z) ? M b 3 (z) = 0. Output: adjusted f ? and b.\n        \n      \n      \n        5 Results and Evaluation\n        We show a number of compositing results adjusted using our automatic method, and compare them to other techniques. Table 3 shows one way to evaluate the success of our method on images that we already know are real; however, a more useful evaluation involves the adjustment of composites with regions taken from separate image sources. We therefore created a test set of 48 composites, and made an effort to ensure that each composite is semantically reasonable. We then created adjusted results using five techniques: simple cut-and-paste, a manually adjusted composite, Photoshop Match Color, the method of Lalonde and Efros [2007] (which we label ColorComp), and our method. Six examples are shown in Figure 11 . The manually-adjusted composite was created in Photoshop by one of the authors who has extensive Photoshop experience, and typically took 3-4 minutes to create. We computed the results of ColorComp using code and data provided by its authors, which typically took 3-5 minutes to execute per example. Photoshop Match Color uses a standard color transfer technique similar to Reinhard et al. [2004]; color transfer is useful for a number of creative tasks, and compositing is not necessarily its main application. Our method takes 5-15 seconds to execute using unoptimized Matlab code; the bottleneck is the contrast adjustment step. The results of all these techniques on all 48 composites are given in supplemental materials. To evaluate the relative realism of these five techniques, we performed an experiment using Mechanical Turk. To simplify the task, we used a forced choice test between two alternate versions of the same composite, where the subject was asked to choose the most realistic alternative. (An alternate methodology we considered was to collect individual realism ratings for each composite. However, those ratings would be more sensitive to factors that influence realism that we are not studying, such as the semantic likelihood of the depicted scene.) The methodology of our experiment is described in Appendix B; we collected, on average, 12.3 human choices for each of the 480 possible comparisons. First, we use one-tailed t-tests to compare each method against each other method. We show which methods are better than others with significance level p < 0.05 in Figure 10 . Our method outperforms all other automatic methods, and its performance is not significantly different than manual adjustment. Second, we convert the series of paired comparisons into scaling results that place the performance of each method on a single scale; this scaling can be performed individually for each composite ( Figure 11 , inset in each row, as well as supplemental materials), and averaged over all composites ( Figure 12 ). We use Thurstone?s Law of Comparative Judgments, Case V [David 1988], which assumes that each method has a single quality score, and observer estimates of this score are normally distributed. The resultant scale values are linear multiples of this score, so that differences between scale values are in the units of standard deviation of preference. Higher values are better. Figure 12 shows that our method performs slightly worse than manual adjustment, but much better than all other automatic methods. ColorComp significantly outperforms color transfer; however, surprisingly it does not outperform cut-and-paste. This may be because many of our scenes have natural lighting, and thus do not require large adjustments to appear natural. The scales for individual composites (the insets in Figure 11 , and supplemental materials) can diverge quite significantly from the average. For example, in the fifth row of Figure 11 , ColorComp performs best. However, the fourth row shows a typical failure of color transfer (which is also a component of ColorComp), where the green color of the forest is unnaturally transferred to the person. In the last row, our method significantly outperforms the other automatic techniques. However, it also shows a limitation of our method: we cannot correct the harsh lighting of the foreground that still makes this composite unrealistic.\n        ACM Transactions on Graphics, Vol. 31, No. 4, Article 84, Publication Date: July 2012\n        Understanding and Improving the Realism of Image Composites\n        ?\n        84:7\n        t?tests at significance level 0.05 ? Ours ? Cut?and?paste ? MatchColor ? ColorComp ? Manual (0.00) (0.00) (0.01) (0.79) ? Manual ? Cut?and?paste ? MatchColor ? ColorComp ? Ours (0.03) (0.00) (0.00) (0.20) ? ColorComp ? MatchColor ? Cut?and?paste ? Ours ? Manual (0.00) (0.87) (0.99) (0.99) ? Cut?and?paste ? MatchColor ? ColorComp ? Ours ? Manual (0.00) (0.13) (0.99) (0.99) ? MatchColor ? Cut?and?paste ? ColorComp ? Ours ? Manual (1.00) (1.00) (1.00) (1.00)\n        \n          Figure 10: Paired t-test results to compare all methods. For each method (every row), we list the other methods and highlight in gray those that were outperformed at a statistically-significant frequency. We also give all p-values.\n        \n        Scaling Results across All Composites 0.2001 0.1849\n        0.3 0.2 0.1 0 -0.1 -0.2 -0.3 -0.4 -0.5\n        \n          \n          Figure 12: Comparison of all methods by scaling results across all composites. Higher scores are better.\n        \n        \n          5.1 Limitations\n          Along with the examples in Figure 11 , the supplemental materials show additional failure cases. There are several sources of error. First, our classifier sometimes chooses the wrong offset to match. Second, even the minimal offsets between foreground and background for real images are not exactly zero, so perfect classification will still not yield perfect adjustments. Even the most peaked distributions in Figure 2 have tails, so any algorithm that uses meanmatching will have errors. Third, we do not use spatial or proximity cues, even though areas of the background close the foreground are probably more relevant than areas farther away. For example, lighting can change with respect to depth in the scene or proximity to a light source. Fourth, we use hard thresholds to decide if a zone is appropriate for matching during the training phase; near-threshold values can cause incorrect decisions. Finally, a natural question is whether our method could be used for the main problem addressed by Lalonde and Efros [2007]: predicting whether a chosen foreground and background will appear realistic together. Unfortunately, the realism ratings we collect in Section 3 measure human response to variations along a single axis (e.g., luminance); it is unclear how to combine simultaneous variations along multiple axes into a single realism prediction.\n        \n      \n      \n        6 Conclusion\n        In this paper we studied the problem of adjusting a composite to appear realistic; our automatic technique significantly outperforms previous methods. The biggest limitation of our method is that we limit our scope to standard 2D image processing adjustments; some composites will need more specific or complicated adjustments such as relighting to truly appear realistic. Finally, while we have identified image statistics that are correlated with composite realism, there is still much to be done to truly understand the factors that influence human perception of realism. Why are these statistics more correlated with realism than others, and is the relationship causation or correlation? Also, our zone selection classifier is a black box; how does it determine which zone is best  for matching? Finally, while we have evaluated our results with human subjects, would expert compositors have different rankings of methods? We will explore these questions in future work.\n        ACM Transactions on Graphics, Vol. 31, No. 4, Article 84, Publication Date: July 2012\n        84:8\n        ?\n        S. Xue et al.\n        \n          \n          Figure 11: Composites adjusted by: cut-and-paste, manual, Match Color, ColorComp, and ours. Insets show their relative scores from the human ACM Transactions subjects on study. Graphics, Vol. 31, No. 4, Article 84, Publication Date: July 2012\n        \n        Understanding and Improving the Realism of Image Composites\n        ?\n        84:9\n      \n      \n        Acknowledgements\n        We thank Aaron Hertzmann, Peter O?Donovan, Dan Goldman, and Sylvain Paris for helpful discussions. This work was supported in part by Adobe. The images in the results are courtesy of Flickr users joeldinda, Limbic, EssjayNZ, greekadman, Dell?s Pics et al. under Creative Commons license.\n      \n      \n        References\n        \n          A LEXANDER , T., 2011. Visual effects supervisor at Industry Light & Magic. Rules of thumb in image compositing. Personal communication, Oct.\n          B ERENS , P. 2009. Circstat: a matlab toolbox for circular statistics. 10, 1?21.\n        \n      \n      \n        Journal of Statistical Software 31,\n        B YCHKOVSKY , V., P ARIS , S., C HAN , E., AND D URAND , F. 2011. Learning photographic global tonal adjustment with a database of input/output image pairs. In Proceedings of CVPR, 97?104. C HANG , C.-C., AND L IN , C.-J. 2011. LIBSVM: A library for support vector machines. ACM Trans. on Intelligent Systems and Technology 2, 27:1?27:27. Software available at http: //www.csie.ntu.edu.tw/ ?cjlin/libsvm.\n      \n      \n        ACM Trans. Graph. 25\n        , T., X U , (July),\n      \n      \n        The Method of Paired Comparisons.\n        Oxford\n        C OHEN -O R , D., S ORKINE , O., G AL , R., L EYVAND AND Y.-Q. 2006. Color harmonization. 624?630. D AVID , H. A. 1988. University Press, 2nd edition.\n        G IJSENIJ , A., G EVERS , T., AND VAN DE W EIJER , J. 2011. Computational color constancy: Survey and experiments. IEEE Trans. on Image Processing 20, 9 (Sep), 2475 ?2489.\n      \n      \n        ACM Trans. on Graphics 25,\n        AND HUM , H.-Y. 2006. Drag3 (July), 631?\n        J IA , J., S UN , J., T ANG , C.-K., S and-drop pasting. 637. J\n      \n      \n        Proceedings of the 7th Workshop on Multimedia and Security,\n        Using color compati-\n      \n      \n        IEEE 11th International Conference on Computer Vision,\n      \n      \n        R News 2,\n      \n      \n        Proceedings of APGV,\n        OHNSON , M. K., AND F ARID , H. 2005. Exposing digital forgeries by detecting inconsistencies in lighting. In 1?10. L ALONDE , J.-F., AND E FROS , A. 2007. bility for assessing image realism. In 1?8. IENER , M. 2002. Classification and regression 3, 18?22. UNDSTEDT , V., S ANGORRIN , F., AND Measuring the perception of light inACM, 25?32. AND URVES , D. 2002. The empirical basis of color 4 (Dec.), 609?629.\n      \n      \n        Consciousness and Cognition 11,\n        ERGEN AND URT\n      \n      \n        RCA Engineer 30,\n        B , P. 5,\n        L IAW , A., AND W by randomforest. L OPEZ -M ORENO , J., S G UTIERREZ , D. 2010. consistencies. In L OTTO , R., P perception. O GDEN , J. M., A DELSON , E. H., B , J., 1985. Pyramid-based computer graphics. 4?15. O HTA , N., AND R OBERTSON , A. R. 2005. Wiley, Chichester.\n      \n      \n        Colorimetry: Fundamentals and Applications.\n        O STROVSKY , Y., C AVANAGH , P., AND S INHA , P. 2005. Perceiving illumination inconsistencies in scenes. Perception 34, 11, 1301?1314. P ARIS , S., H ASINOFF , S. W., AND K AUTZ , J. 2011. Local Laplacian filters: edge-aware image processing with a Laplacian pyramid. ACM Trans. on Graphics 30 (Aug), 68:1?68:12. P ELI , E. 1990. Contrast in complex images. Journal of Optical Society of America 7, 10 (Oct), 2032?2040. P ? REZ , P., G ANGNET , M., AND B LAKE , A. 2003. Poisson image editing. ACM Trans. on Graphics 22 (Jul), 313?318. P OULI , T., AND R EINHARD , E. 2010. Progressive histogram reshaping for creative color transfer and tone reproduction. In Proceedings of NPAR, 81?90. R EINHARD , E., A SHIKHMIN , M., G OOCH , B., AND S HIRLEY , P. S. 2001. Color transfer between images. IEEE Computer Graphics & Applications 21, 5 (Sept./Oct.), 34?41. R EINHARD , E., A K UYZ  ? , A., C OLBERT , M., H UGHES , C. E., AND OC ONNOR , M. 2004. Real-time color blending of rendered and captured video. In Interservice/Industry Training, Simulation and Education Conference, 1?9. R HEMANN , C., R OTHER , C., W ANG , J., G ELAUTZ , M., K OHLI , P., AND R OTT , P. 2009. A perceptually motivated online benchmark for image matting. In Proceedings of CVPR, 1826?1833. R USSELL , B., T ORRALBA , A., M URPHY , K., AND F REEMAN , W. 2008. LabelMe: A Database and Web-Based Tool for Image Annotation. International Journal of Computer Vision 77, 1 (May), 157?173. S MITH , A. R., AND B LINN , J. F. 1996. Blue screen matting. In Proceedings of SIGGRAPH 96, 259?268. S TOKES , M., A NDERSON , M., C HANDRASEKAR , S., AND M OTTA , R. 1996. A standard default color space for the internetsrgb. Microsoft and Hewlett-Packard Joint Report. S UNKAVALLI , K., J OHNSON , M. K., M ATUSIK , W., AND P FIS TER , H. 2010. Multi-scale image harmonization. ACM Trans. on Graphics 29, 4 (July), 125:1?125:10. T AO , M. W., J OHNSON , M. K., AND P ARIS , S. 2010. Errortolerant image compositing. In European Conference on Computer Vision, 31?44. T SOUMAKAS , G., AND K ATAKIS , I. 2007. Multi-label classification: An overview. International Journal of Data Warehousing and Mining 3 (July/Sept.), 1?13. W AGBERG , J., 2007. Optpop a color properties toolbox, Mar. Software available at http://www.mathworks.com/\n        C\n        W ANG , J., survey.\n        matlabcentral/fileexchange/13788. AND OHEN , M. F. 2007. Image and video matting: a (January), 97?175.\n      \n      \n        Found. Trends. Comput. Graph. Vis. 3\n      \n      \n        Appendix A. Image Statistical Measures\n        Image Statistics To compute image statistics on an input image or composite in sRGB color space, the pixels are first inversely Gamma corrected [Stokes et al. 1996]. We then transform image statistics so that they are approximately linear to human visual perception. Luminance and saturation are converted into log domain based on Weber?s law, and CCT is defined by mired [Ohta and Robertson 2005].  Luminance: we use log 2 Y , where Y (normalized to [ , 1.0]) is the luminance channel of xyY space, where = 3.03 ? 10 ?4 (corresponding to intensity 1 in a 0-255 greyscale image before inverse Gamma correction) is used to avoid undefined log values. The unit of difference in log 2 domain is a stop. Correlated Color Temperature (CCT): we use ?mired? as the unit of CCT. 1 mired = 10 6 /K, where K is the Plankian color temperature in Kelvin, clipped in [1500, 20000] that is the normal range of natural lighting. CCT is computed using the package OptProp [Wagberg 2007]. Saturation: we use log 2 S, where S ? [ , 1.0] is the saturation channel of HSV space. Hue: we use H, where H is a circular value in [0.0, 1.0] (or [0 ? , 360 ? ]), the hue channel of HSV space. Local contrast: Locally defined Weber contrast [Peli 1990], c x , is used. For every pixel x, c x = L x /L x , where L x is the pixel luminance, L x is the local average luminance, which is the output of a Gaussian filter with ? = 1.5, filter radius r = 3. Histogram Statistics For each statistical measure M i , the statistics are computed across all pixels in corresponding regions, i.e., foreground or background. For image properties sensitive to color bias, e.g., CCT, hue, and saturation, they are only computed across pixels that are neither overnor under-exposed. In practice, we use the pixels with 0.013 ? Y ? 0.88, where two thresholds correspond to intensity 60 and 240 in a 0-255 greyscale image before inverse Gamma correction. The statistics H, M, L are defined as H = M i > M i , M = 99.9% M i , L = M i < M i , where M i > M i represents the 0.1% 99.9% mean of pixel luminance which are greater than the 99.9% quantile. For kurtosis, we use the definition by which normal distributions have kurtosis of 0. Entropy is computed by first scaling M i into [0, 255], and using the computation routine of standard greyscale image entropies (e.g., function entropy in Matlab). For other statistics, standard definitions are used. Notably, circular statistics [Berens 2009] are used for hue. For example, circular mean of hue is used in place of ordinary mean. Alpha Mattes We assume that every composite has an alpha matte for the foreground object. When computing M f , we morphologically erode the alpha matte to avoid inaccuracy of matte boundary, and then compute M f in the region where matte values are greater than 0.5. When computing M b , the original alpha matte is morphologically dilated, and then M b is computed in the region where matte values are lower than 0.5. To avoid distant background, M b is only computed within an area equal to the bounding box of the foreground scaled by 3. The elements for erosion and dilation operations are disks, whose radius for erosion is r e = 0.03 ? min(w, h) and radius for dilation is r d = 0.15 ? min(w, h), where w, h are the width and height of the bounding box of the foreground object.\n        ACM Transactions on Graphics, Vol. 31, No. 4, Article 84, Publication Date: July 2012\n        84:10\n        ?\n        S. Xue et al.\n      \n      \n        Appendix B. Perceptual Experiments\n        Impact on Human Realism Ratings Twenty natural images are used as input, with manually created foreground object alpha mattes. For luminance, the foreground and background of every image are respectively manipulated to 7 levels via shifting (?3 steps by 0.5 stop), which are then composited to  form 7 2 = 49 composites. In total, we generated 20 ? 7 2 = 980 composites for MTurk workers to evaluate. The same number of stimuli are generated for CCT and saturation by similar procedures. The step in manipulating CCT is 40 mired, and the step of saturation is 0.25 stop in log 2 domain. If the image properties of some pixels exceed the defined range in Appendix A after manipulation, clipping is performed. Every MTurk worker is presented with a series (23) of composites to evaluate, with a two-alternative forced choice, ?manipulated? or ?real?. Instructions and examples are given. The time for each evaluation is limited to 12 seconds. We present 3 out of 23 evaluations as test cases with very obvious status of ?real? or ?manipulated?. Answers that fail to pass at least two of the three test questions are classified as random answers, and discarded in analysis. In the end, there are 1360 valid responses for luminance, 969 for CCT, and 1048 for saturation. Every composite is evaluated 15+ times. The rating for a composite is the proportion of answers of ?real?. We control each specific MTurk task so that the 23 composites (20 for actual study, 3 for test) presented to a worker are all from different natural images. Any one worker is prohibited from participating in more than one experiments in 24 hours, to avoid seeing the same foreground or background twice in succession. Evaluating Composites We use all 48 composites as the stimuli, for which we compare five alpha-matte-based adjusting methods. All results are shown in the supplemental materials. In the user study, we use the scheme of forced two-alternative choice (FAC), where every participant is requested to compare a series of pairs of results and pick a more realistic one (12 pairs for actual comparison and 4 pairs for test). The order of comparisons is randomized. The 4 test examples pair one obviously real image with an obviously fake composite. The answers that fail to correctly classify at least three out of four test comparisons are regarded as random answers. 653 workers responded to our test and 151 random answers are discarded. Every pair of comparison is evaluated by 10+ (by average 12.3) workers for statistical robustness.\n      \n      \n        Appendix C. Adjust Local Contrast\n        We increase local P 11 P 1 =(1,1) P 11 P 1 =(1,1) contrast by a global L out P U L out pixel-wise luminance P? 1 P? 1 transformation using an P U S shape curve; the inP 02 P m P 12 P 02 P L P m P 12 verse S curve decreases P? 0 P? 0 local contrast, as shown P L in the inset. The input P 0  =(0,0) P 01 L in P 0  =(0,0) P 01 L in S?curve, ?<0.5 Inverse S?curve, ?>0.5 luminance value L in is re-mapped to a new output value L out along the curve; the same curve is used across the image. In this transformation, luminance is defined by Y (0 ? 1) of xyY space (not in log domain). The turning point p m of S curve is the average luminance, by which the curve is divided into an upper and a lower sub-curve. Each sub-curve is a Bezier curve with three anchors. The upper curve is controlled by p m , p U , p 1 , and the lower curve by p m , p L , p 0 . The degree of transformation is controlled by p U and p L , where p U = p 11 + ?(p 12 ? p 11 ) and p L = p 01 + ?(p 02 ? p 01 ). If ? < 0.5, it is an S curve that increases local contrast; if ? > 0.5, it is an inverse S curve that decreases local contrast. If ? = 0.5, it degrades to a straight line. In practice, we search ? ? [0.4, 0.6] to find the best curve that matches H of local contrasts between foreground and background.\n        ACM Transactions on Graphics, Vol. 31, No. 4, Article 84, Publication Date: July 2012\n      \n    \n  ",
  "resources" : [ ]
}