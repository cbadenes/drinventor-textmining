{
  "uri" : "sig2010a-a145-farbman_PROC.xml",
  "url" : "/Users/cbadenes/Documents/OEG/Projects/DrInventor/datasets/acm-siggraph-2006-2014-upf/sig2010a/a145-farbman_PROC.xml",
  "source" : {
    "name" : "SIGGRAPH",
    "uri" : "http://drinventor/SIGGRAPH",
    "url" : "http://drinventor/SIGGRAPH",
    "protocol" : "http"
  },
  "metainformation" : {
    "title" : "Diffusion Maps for Edge-Aware Image Editing",
    "published" : "2010",
    "format" : "pdf",
    "language" : "en",
    "rights" : "GPLv2",
    "description" : "",
    "creators" : [ {
      "uri" : "http://drinventor/Zeev-Farbman",
      "name" : "Zeev",
      "surname" : "Farbman"
    }, {
      "uri" : "http://drinventor/Raanan-Fattal",
      "name" : "Raanan",
      "surname" : "Fattal"
    }, {
      "uri" : "http://drinventor/Dani-Lischinski",
      "name" : "Dani",
      "surname" : "Lischinski"
    } ]
  },
  "bagOfWords" : [ "4ee378ee4cbe6341aa97afa67cc4f0033b7b228f9ac66e9c7f8ce48ee5dca96a", "oyd", "10.1145", "1866158.1866171", "name", "identification", "possible", "Diffusion", "Maps", "Edge-Aware", "image", "Editing", "Zeev", "Farbman", "Raanan", "Fattal", "Hebrew", "University", "Hebrew", "University", "edge-aware", "operation", "edge-preserving", "smoothing", "edge-aware", "interpolation", "require", "assess", "degree", "similarity", "between", "pair", "pixel", "typically", "define", "simple", "monotonic", "function", "euclidean", "distance", "between", "pixel", "value", "some", "feature", "space", "work", "we", "introduce", "idea", "replace", "euclidean", "distance", "diffusion", "distance", "which", "better", "account", "global", "distribution", "pixel", "feature", "space", "distance", "approximate", "use", "diffusion", "map", "set", "dominant", "eigenvector", "large", "affinity", "matrix", "which", "may", "compute", "efficiently", "sampling", "small", "number", "matrix", "column", "-lrb-", "nystr?m", "method", "-rrb-", "we", "demonstrate", "benefit", "use", "diffusion", "distance", "variety", "image", "editing", "context", "explore", "use", "diffusion", "map", "tool", "facilitate", "creation", "complex", "selection", "mask", "finally", "we", "present", "new", "analysis", "establish", "connection", "between", "spatial", "interaction", "range", "between", "two", "pixel", "number", "sample", "necessary", "accurate", "nystr?m", "approximation", "keyword", "diffusion", "map", "edge-preserving", "smoothing", "edgeaware", "interpolation", "edit", "propagation", "nystr?m", "method", "introduction", "edge-aware", "operation", "edge-preserving", "smoothing", "edge-aware", "interpolation", "have", "recently", "emerge", "useful", "tool", "variety", "image", "editing", "manipulation", "task", "edge-preserving", "smoothing", "operator", "widely", "use", "extract", "and/or", "remove", "detail", "from", "image", "e.g.", "-lsb-", "Chen", "et", "al.", "2007", "Farbman", "et", "al.", "2008", "Subr", "et", "al.", "2009", "-rsb-", "edge-aware", "interpolation", "make", "possible", "propagate", "set", "sparse", "user-specified", "constraint", "-lrb-", "edit", "-rrb-", "intuitive", "manner", "account", "strong", "edge", "image", "e.g.", "-lsb-", "Levin", "et", "al.", "2004", "Lischinski", "et", "al.", "2006", "Yatziv", "Sapiro", "2006", "Li", "et", "al.", "2008", "-rsb-", "most", "edge-aware", "interpolation", "approach", "base", "local", "propagation", "sparse", "user", "constraint", "use", "affinity", "between", "adjacent", "pixel", "formulate", "solve", "optimization", "problem", "-lsb-", "Levin", "et", "al.", "2004", "-rsb-", "perform", "blend", "use", "intrinsic", "-lrb-", "geodesic", "-rrb-", "distance", "-lsb-", "Yatziv", "Sapiro", "2006", "-rsb-", "while", "approach", "provide", "user", "good", "local", "control", "have", "difficulty", "propagate", "sparse", "edit", "across", "strongly", "textured", "region", "-lrb-", "figure", "top", "row", "-rrb-", "can?t", "handle", "fragmented", "region", "several", "solution", "have", "be", "recently", "propose", "address", "issue", "particular", "global", "all-pairs", "approach", "-lsb-", "Pellacini", "2008", "-rsb-", "demonstrate", "well-suited", "propagate", "sparse", "-lrb-", "possibly", "rough", "-rrb-", "user", "edit", "large", "spatial", "neighborhood", "we", "discuss", "all", "approach", "more", "detail", "next", "section", "work", "we", "improve", "performance", "exist", "edge-aware", "ACM", "Reference", "Format", "Farbman", "Z.", "Fattal", "R.", "Lischinski", "D.", "2010", "Diffusion", "Maps", "Edge-Aware", "image", "editing", "ACM", "Trans", "graph", "29", "Article", "145", "-lrb-", "December", "2010", "-rrb-", "10", "page", "dous", "10.1145", "1866158.1866171", "http://doi.acm.org/10.1145/1866158.1866171", "copyright", "Notice", "permission", "make", "digital", "hard", "copy", "part", "all", "work", "personal", "classroom", "use", "grant", "without", "fee", "provide", "copy", "make", "distribute", "profit", "direct", "commercial", "advantage", "copy", "show", "notice", "fus", "rst", "page", "initial", "screen", "display", "along", "full", "citation", "copyright", "component", "work", "own", "other", "than", "ACM", "must", "honor", "abstract", "credit", "permit", "copy", "otherwise", "republish", "post", "server", "redistribute", "list", "use", "any", "component", "work", "other", "work", "require", "prior", "specific", "permission", "and/or", "fee", "permission", "may", "request", "from", "Publications", "Dept.", "ACM", "Inc.", "Penn", "Plaza", "Suite", "701", "New", "York", "NY", "10121-0701", "fax", "+1", "-lrb-212-rrb-Â 869-0481", "permissions@acm.org", "2010", "ACM", "0730-0301/2010", "12-art145", "10.00", "DOI", "10.1145", "1866158.1866171", "http://doi.acm.org/10.1145/1866158.1866171", "Dani", "Lischinski", "Hebrew", "University", "input", "scribble", "mask", "result", "0.98", "0.88", "0.77", "mask", "-lrb-", "-rrb-", "mask", "-lrb-", "16", "-rrb-", "result", "-lrb-", "16", "-rrb-", "Figure", "Color", "editing", "use", "local", "edit", "propagation", "top", "row", "input", "influence", "mask", "white", "scribble", "-lrb-", "use", "Lischinski", "et", "al.", "-lsb-", "2006", "-rsb-", "-rrb-", "corresponding", "result", "Middle", "row", "three", "lead", "eigenvector", "diffusion", "map", "bottom", "row", "mask", "produce", "use", "diffusion", "distance", "different", "value", "final", "result", "method", "extend", "they", "several", "respects", "we", "observe", "some", "difficulty", "encounter", "exist", "local", "propagation", "method", "stem", "from", "fact", "affinity", "use", "typically", "give", "simple", "monotonic", "function", "euclidean", "distance", "between", "low-level", "feature", "vector", "associate", "each", "pixel", "measure", "similarity", "do", "account", "any", "higher", "level", "structure", "which", "become", "apparent", "when", "one", "examine", "distribution", "pixel", "value", "feature", "space", "we", "propose", "address", "shortcoming", "provide", "pairwise", "affinity", "miss", "global", "perspective", "leverage", "concept", "diffusion", "distance", "which", "have", "recently", "emerge", "spectral", "clustering", "literature", "-lsb-", "coifman", "Lafon", "2006", "-rsb-", "natural", "image", "where", "number", "distinct", "homogeneous", "region", "typically", "much", "smaller", "than", "number", "pixel", "diffusion", "distance", "may", "effectively", "approximate", "use", "small", "number", "diffusion", "map", "eigenvector", "pairwise", "affinity", "matrix", "-lrb-", "figure", "middle", "row", "-rrb-", "map", "describe", "more", "detail", "section", "also", "make", "easy", "compute", "diffusion", "distance", "correspond", "different", "time", "provide", "important", "parameter", "which", "user", "can", "control", "desire", "amount", "propagation", "-lrb-", "figure", "bottom", "row", "-rrb-", "section", "we", "explore", "benefit", "use", "diffusion", "distance", "variety", "edge-aware", "image", "editing", "context", "also", "demonstrate", "diffusion", "map", "facilitate", "creation", "complex", "edgeaware", "selection", "mask", "image", "contain", "textured", "region", "fuzzy", "and/or", "fragmented", "appearance", "Diffusion", "map", "may", "effectively", "approximate", "use", "nystr?m", "method", "-lsb-", "Fowlkes", "et", "al.", "2004", "-rsb-", "approach", "involve", "sampling", "small", "number", "column", "-lrb-", "low", "rank", "-rrb-", "affinity", "matrix", "similar", "approximation", "use", "Pellacini", "-lsb-", "2008", "-rsb-", "order", "solve", "associate", "dense", "linear", "system", "arise", "all-pairs", "approach", "however", "limit", "spatial", "range", "permit", "interaction", "between", "pixel", "raise", "rank", "affinity", "matrix", "render", "approximation", "less", "accurate", "section", "we", "refine", "analysis", "Pellacini", "obtain", "more", "accurate", "estimate", "rank", "affinity", "matrix", "function", "maximum", "distance", "image", "which", "pixel", "allow", "interact", "directly", "refined", "analysis", "enable", "one", "determine", "appropriate", "number", "matrix", "column", "sample", "order", "guarantee", "accurate", "nystr?m", "approximation", "we", "analysis", "also", "show", "even", "increase", "sampling", "rate", "result", "matrix", "sparse", "thus", "can", "solve", "efficiently", "use", "standard", "sparse", "linear", "solver", "make", "possible", "perform", "edge-aware", "image", "editing", "arbitrary", "permit", "interaction", "range", "ACM", "transaction", "Graphics", "Vol", "29", "no.", "Article", "145", "publication", "date", "December", "2010", "145:2", "Z.", "Farbman", "et", "al.", "previous", "work", "edge-aware", "interpolation", "number", "technique", "edgeaware", "interpolation", "have", "be", "recently", "explore", "Levin", "et", "al.", "-lsb-", "2004", "-rsb-", "introduce", "optimization", "framework", "colorize", "grayscale", "image", "propagation", "from", "set", "sparse", "user-provided", "constraint", "approach", "generalize", "other", "tonal", "manipulation", "-lsb-", "Lischinski", "et", "al.", "2006", "-rsb-", "well", "natural", "image", "matting", "-lsb-", "Levin", "et", "al.", "2008a", "-rsb-", "Yatziv", "Sapiro", "-lsb-", "2006", "-rsb-", "propagate", "similar", "constraint", "intrinsic", "-lrb-", "geodesic", "-rrb-", "distance", "base", "blending", "all", "technique", "above", "rely", "gradient", "between", "adjacent", "pixel", "control", "propagation", "thus", "have", "trouble", "propagate", "information", "highly", "textured", "region", "well", "prevent", "propagation", "across", "low-contrast", "edge", "handle", "fragmented", "-lrb-", "disconnect", "-rrb-", "region", "another", "problem", "since", "might", "require", "many", "constraint", "provide", "user", "Pellacini", "-lsb-", "2008", "-rsb-", "generalize", "optimization-based", "edit", "propagation", "consider", "interaction", "between", "all", "pair", "pixel", "image", "enable", "less", "precise", "specification", "user", "constraint", "propagation", "across", "disconnect", "region", "approach", "result", "large", "dense", "affinity", "matrix", "matrix", "approximately", "low-rank", "can", "approximate", "sampling", "just", "small", "number", "column", "-lrb-", "nystr?m", "method", "-rrb-", "-lsb-", "Williams", "Seeger", "2000", "-rsb-", "Xu", "et", "al.", "-lsb-", "2009", "-rsb-", "have", "recently", "propose", "accelerate", "all-pairs", "approach", "further", "compute", "propagation", "between", "pair", "cluster", "feature", "space", "rather", "than", "between", "pair", "pixel", "pellacini?s", "error", "analysis", "show", "nystr?m", "approximation", "become", "less", "accurate", "spatial", "range", "interaction", "decrease", "however", "since", "goal", "enable", "edit", "propagation", "rather", "large", "spatial", "neighborhood", "be", "able", "achieve", "satisfactory", "result", "use", "constant", "number", "sample", "-lrb-", "100", "-rrb-", "we", "work", "we", "also", "apply", "nystr?m", "method", "related", "eigenvalue", "problem", "-lsb-", "Fowlkes", "et", "al.", "2004", "-rsb-", "present", "refined", "error", "analysis", "more", "precisely", "quantify", "effective", "rank", "affinity", "matrix", "function", "spatial", "interaction", "range", "enable", "we", "generalize", "all-pairs", "approach", "handle", "arbitrary", "interaction", "range", "accurately", "efficiently", "ScribbleBoost", "-lsb-", "Li", "et", "al.", "2008", "-rsb-", "another", "approach", "improve", "propagation", "across", "textured", "fragmented", "region", "user?s", "scribble", "use", "perform", "supervised", "classification", "pixel", "result", "introduce", "optimization", "additional", "soft", "constraint", "selection", "mask", "compute", "solve", "linear", "system", "once", "each", "scribble", "type", "while", "we", "idea", "use", "diffusion", "distance", "also", "leverage", "machine", "learning", "technique", "we", "effectively", "perform", "unsupervised", "clustering", "which", "consider", "all", "datum", "image", "rather", "than", "just", "pixel", "cover", "particular", "set", "stroke", "furthermore", "result", "diffusion", "distance", "useful", "application", "edge-preserving", "smoothing", "where", "user", "input", "available", "edge-preserving", "smoothing", "edge-preserving", "smoothing", "use", "wide", "variety", "computational", "photography", "application", "-lsb-", "Farbman", "et", "al.", "2008", "-rsb-", "Popular", "edge-preserving", "smoothing", "filter", "include", "bilateral", "filter", "-lsb-", "tomasus", "Manduchi", "1998", "-rsb-", "which", "number", "efficient", "implementation", "have", "be", "propose", "-lsb-", "Durand", "Dorsey", "2002", "Paris", "Durand", "2006", "Chen", "et", "al.", "2007", "-rsb-", "fattal", "-lsb-", "2007", "-rsb-", "explore", "fast", "iterative", "multiscale", "variant", "bilateral", "filter", "while", "Farbman", "et", "al.", "-lsb-", "2008", "-rsb-", "advocate", "use", "weighted", "least", "square", "optimization", "instead", "recently", "fattal", "-lsb-", "2009", "-rsb-", "introduce", "edge-avoiding", "wavelet", "demonstrate", "usefulness", "very", "fast", "edge-preserving", "smoothing", "well", "edge-aware", "editing", "technique", "can", "also", "apply", "edit", "propagation", "via", "interactive", "painting", "edge-aware", "brush", "-lsb-", "Chen", "et", "al.", "2007", "-rsb-", "fast", "edge-aware", "push", "pull", "sparse", "constraint", "-lsb-", "fattal", "2009", "-rsb-", "all", "technique", "mention", "above", "rely", "difference", "between", "pixel", "value", "-lrb-", "difference", "luminance", "euclidean", "distance", "some", "color", "space", "-rrb-", "thus", "we", "argue", "could", "all", "benefit", "from", "use", "diffusion", "distance", "instead", "support", "we", "claim", "number", "example", "section", "anisotropic", "diffusion", "-lsb-", "Perona", "Malik", "1990", "Black", "et", "al.", "1998", "-rsb-", "another", "popular", "approach", "edge-preserving", "smoothing", "via", "nonlinear", "pde-based", "filter", "although", "we", "work", "employe", "similar", "terminology", "-lrb-", "i.e.", "diffusion", "time", "-rrb-", "we", "focus", "unsupervised", "preconditioning", "datum", "independent", "particular", "smoothing", "propagation", "scheme", "although", "explore", "paper", "one", "could", "conceivably", "use", "result", "diffusion", "distance", "computation", "edge-stopping", "term", "various", "anisotropic", "diffusion", "scheme", "Subr", "et", "al.", "-lsb-", "2009", "-rsb-", "have", "recently", "propose", "edge-preserving", "smoothing", "approach", "base", "identify", "fitting", "envelope", "local", "extrema", "image", "approach", "effectively", "assume", "oscillatory", "model", "textured", "region", "succeed", "remove", "detail", "even", "high-contrast", "textured", "region", "while", "we", "approach", "do", "make", "use", "texture", "model", "we", "show", "plug", "diffusion", "distance", "exist", "edge-preserving", "smoothing", "approach", "become", "possible", "remove", "detail", "just", "effectively", "scale", "detail", "remove", "may", "control", "via", "time", "parameter", "which", "build", "diffusion", "distance", "we", "use", "clustering", "Diffusion", "map", "have", "emerge", "machine", "learn", "community", "tool", "dimensionality", "reduction", "unsupervised", "clustering", "-lsb-", "coifman", "Lafon", "2006", "Nadler", "et", "al.", "2005", "Singer", "et", "al.", "2009", "-rsb-", "tool", "belong", "larger", "family", "spectral", "clustering", "technique", "which", "include", "other", "closely", "related", "method", "locally-linear", "embedding", "-lrb-", "lle", "-rrb-", "-lsb-", "Roweis", "Saul", "2000", "-rsb-", "isomaps", "-lsb-", "Tenenbaum", "et", "al.", "2000", "-rsb-", "laplacian", "eigenmap", "-lsb-", "Belkin", "Niyogi", "2003", "-rsb-", "particular", "spectral", "clustering", "method", "have", "be", "use", "perform", "hard", "-lrb-", "binary", "-rrb-", "segmentation", "-lsb-", "shus", "Malik", "1997", "Weiss", "1999", "-rsb-", "threshold", "eigenvector", "suitably", "form", "matrix", "Meila", "Shi", "-lsb-", "2001", "-rsb-", "point", "out", "connection", "between", "method", "Markov", "random", "walk", "Diffusion", "distance", "also", "have", "random", "walker", "interpretation", "-lrb-", "section", "3.1", "-rrb-", "however", "contrast", "method", "we", "interested", "hard", "segmentation", "rather", "derive", "new", "distance", "assist", "edgeaware", "interpolation", "smoothing", "use", "random", "walk", "segmentation", "also", "explore", "Grady", "-lsb-", "2006", "-rsb-", "he", "formulation", "yield", "linear", "system", "define", "inhomogeneous", "laplacian", "matrix", "similar", "one", "arise", "optimization-based", "edit", "propagation", "recently", "Grady", "suggest", "accelerate", "he", "segmentation", "approach", "precompute", "small", "number", "-lrb-", "40", "80", "-rrb-", "eigenvector", "-lsb-", "Grady", "Sinop", "2008", "-rsb-", "however", "since", "he", "random", "walker", "formulation", "consider", "only", "limited", "spatial", "neighborhood", "we", "analysis", "section", "imply", "approximation", "only", "accurate", "small", "image", "spectral", "clustering", "have", "also", "be", "use", "natural", "image", "matting", "-lsb-", "Levin", "et", "al.", "2008b", "-rsb-", "where", "eigenvector", "suitable", "laplacian", "matrix", "rotate", "combine", "together", "yield", "soft", "matte", "we", "also", "compute", "eigenvector", "use", "they", "order", "define", "robust", "distance", "between", "pair", "image", "pixel", "another", "family", "relevant", "work", "from", "computer", "vision", "literature", "path-based", "clustering", "method", "which", "examine", "distribution", "datum", "some", "-lrb-", "typically", "high-dimensional", "-rrb-", "feature", "space", "e.g.", "-lsb-", "Fischer", "Buhmann", "2003", "Chang", "Yeung", "2008", "-rsb-", "particular", "Omer", "Werman", "-lsb-", "2006", "-rsb-", "measure", "affinity", "between", "pixel", "term", "length", "density", "path", "connect", "they", "color", "space", "all", "method", "however", "very", "costly", "compute", "Diffusion", "distance", "also", "account", "length", "density", "path", "datum", "lend", "themselves", "faster", "computation", "addition", "diffusion", "map", "have", "built-in", "notion", "time", "which", "make", "possible", "control", "granularity", "-lrb-", "scale", "-rrb-", "cluster", "efficient", "intuitive", "manner", "ACM", "transaction", "Graphics", "Vol", "29", "no.", "Article", "145", "publication", "date", "December", "2010", "Diffusion", "Maps", "Edge-Aware", "image", "editing", "145:3", "Diffusion", "Maps", "section", "we", "present", "we", "approach", "towards", "edge-aware", "image", "editing", "which", "base", "use", "diffusion", "distance", "place", "distance", "typically", "use", "exist", "edge-aware", "method", "exist", "edge-aware", "method", "rely", "pairwise", "similarity", "-lrb-", "affinity", "-rrb-", "measure", "between", "image", "pixel", "affinity", "use", "practice", "typically", "monotonic", "function", "distance", "between", "pixel", "some", "simple", "feature", "space", "example", "-lrb-", "-rrb-", "exp", "-lrb-", "-rrb-", "where", "feature", "vector", "associate", "i-th", "pixel", "e.g.", "its", "luminance", "log-luminance", "its", "coordinate", "some", "color", "space", "concatenation", "color", "spatial", "coordinate", "intuitively", "affinity", "between", "two", "pixel", "predict", "likelihood", "both", "pixel", "belong", "same", "surface/region", "image", "edge-preserving", "smoothing", "technique", "allow", "group", "pixel", "high", "affinity", "between", "they", "average", "together", "edge-aware", "editing", "system", "allow", "edit", "propagate", "between", "pair", "pixel", "high", "affinity", "thus", "exist", "edge-aware", "method", "drive", "euclidean", "distance", "between", "feature", "vector", "correspond", "pixel", "image", "shortcoming", "approach", "might", "-lrb-", "-rrb-", "fail", "distinguish", "between", "region", "separate", "low", "contrast", "edge", "-lrb-", "ii", "-rrb-", "fail", "cluster", "together", "pixel", "highly", "textured", "region", "which", "may", "exhibit", "strong", "difference", "between", "nearby", "pixel", "while", "possible", "discriminate", "between", "texture", "augment", "feature", "vector", "texture", "descriptor", "response", "Gabor", "filter", "bank", "-lsb-", "Turner", "1986", "-rsb-", "histogram", "response", "-lsb-", "Malik", "et", "al.", "2001", "-rsb-", "descriptor", "aggregate", "information", "from", "fairly", "large", "window", "around", "each", "pixel", "thus", "effectively", "operate", "lower", "spatial", "resolution", "we", "argue", "pairwise", "distance", "among", "datum", "point", "provide", "only", "partial", "-lrb-", "sometimes", "misleading", "-rrb-", "information", "about", "manner", "which", "pixel", "should", "cluster", "additional", "highly", "relevant", "information", "may", "obtain", "examine", "actual", "distribution", "datum", "feature", "space", "consider", "example", "image", "show", "figure", "distribution", "pixel", "color", "image", "highly", "non-uniform", "clearly", "exhibit", "three", "distinct", "cluster", "correspond", "blue", "sky", "region", "red", "flower", "green", "grass", "while", "pairwise", "distance", "color", "space", "between", "red", "green", "pixel", "same", "order", "magnitude", "those", "between", "red", "blue", "-lrb-", "green", "blue", "-rrb-", "distribution", "reveal", "transition", "between", "red", "green", "cluster", "much", "more", "densely", "populated", "than", "red-blue", "green-blue", "transition", "correspond", "we", "intuition", "coarsest", "possible", "clustering", "image", "green", "red", "should", "go", "one", "cluster", "while", "blue", "another", "thus", "we", "would", "like", "pixel", "affinity", "account", "actual", "distribution", "datum", "feature", "space", "intuitively", "likelihood", "two", "datum", "point", "belong", "same", "cluster", "should", "depend", "length", "density", "different", "path", "between", "they", "may", "achieve", "replace", "euclidean", "distance", "diffusion", "distance", "concept", "recently", "propose", "dimensionality", "reduction", "clustering", "-lsb-", "coifman", "Lafon", "2006", "Nadler", "et", "al.", "2005", "-rsb-", "which", "we", "describe", "more", "detail", "below", "definition", "give", "set", "datum", "point", "some", "feature", "space", "we", "define", "pairwise", "affinity", "matrix", "where", "definition", "give", "set", "datum", "point", "space", "we", "define", "pairwise", "affinity", "matrix", "3.1", "definition", "Diffusion", "give", "distance", "set", "datum", "point", "diffusion", "map", "some", "feature", "space", "we", "define", "pairwise", "affinity", "matrix", "where", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "-rrb-", "some", "affinity", "function", "-lrb-", "let", "diagonal", "normalization", "matrix", "normalize", "matrix", "can", "interpret", "stochastic", "matrix", "where", "probability", "random", "walker", "located", "point", "transition", "point", "single", "time", "step", "consequently", "consist", "probability", "move", "from", "each", "point", "another", "time", "step", "informally", "each", "we", "can", "associate", "soft", "clustering", "datum", "point", "subset", "point", "consider", "cluster", "low", "probability", "random", "walker", "start", "from", "point", "subset", "end", "up", "outside", "after", "move", "general", "cluster", "tend", "become", "coarser", "increase", "Diffusion", "distance", "interesting", "relationship", "between", "geometry", "datum", "spectral", "property", "capture", "notion", "diffusion", "distance", "-lsb-", "Nadler", "et", "al.", "2005", "-rsb-", "diffusion", "distance", "-lrb-", "-rrb-", "define", "difference", "between", "probability", "random", "walker", "start", "each", "two", "point", "end", "up", "same", "position", "time", "t.", "formally", "-lrb-", "-rrb-", "-lrb-", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "-rrb-", "-lrb-", "-rrb-", "where", "-lrb-", "-rrb-", "probability", "random", "walker", "transition", "from", "time", "step", "-lrb-", "-rrb-", "reciprocal", "local", "density", "z.", "Intuitively", "more", "short", "path", "connect", "two", "point", "smaller", "diffusion", "distance", "between", "they", "note", "-lrb-", "-rrb-", "define", "family", "diffusion", "distance", "parameterize", "time", "increase", "two", "point", "be", "originally", "distant", "from", "each", "other", "may", "grow", "closer", "Diffusion", "map", "may", "show", "have", "set", "real", "eigenvalue", "-lcb-", "-rcb-", "furthermore", "all", "point", "connect", "-lrb-", "i.e.", "path", "non-zero", "probability", "between", "any", "two", "point", "-rrb-", "have", "unique", "eigenvalue", "equal", "other", "eigenvalue", "form", "non-increasing", "sequence", "non-negative", "number", "denote", "...", "corresponding", "right", "eigenvector", "diffusion", "map", "time", "define", "mapping", "between", "original", "datum", "point", "eigenvector", "-lrb-", "each", "scale", "its", "corresponding", "eigenvalue", "-rrb-", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "...", "-lrb-", "-rrb-", "note", "eigenvector", "do", "participate", "diffusion", "map", "since", "constant", "thus", "do", "contribute", "any", "discriminate", "information", "show", "Nadler", "et", "al.", "-lsb-", "2005", "-rsb-", "diffusion", "distance", "time", "may", "express", "simply", "euclidean", "distance", "corresponding", "diffusion", "map", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "-lrb-", "-rrb-", "other", "word", "diffusion", "distance", "between", "two", "point", "simply", "sum", "square", "difference", "between", "corresponding", "entry", "eigenvector", "where", "each", "eigenvector", "weight", "practice", "matrix", "often", "exhibit", "spectral", "gap", "i.e.", "only", "few", "its", "eigenvalue", "close", "one", "while", "rest", "much", "ACM", "transaction", "Graphics", "Vol", "29", "no.", "Article", "145", "publication", "date", "December", "2010", "145:4", "Z.", "Farbman", "et", "al.", "example", "image", "40", "20", "20", "40", "60", "60", "50", "40", "30", "20", "10", "10", "20", "20", "40", "60", "80", "pixel", "lab", "space", "figure", "leave", "highly", "non-uniform", "distribution", "pixel", "color", "image", "middle", "three", "lead", "eigenvector", "normalize", "pairwise", "affinity", "matrix", "reveal", "dominant", "cluster", "right", "gradient", "compute", "use", "diffusion", "distance", "different", "time", "smaller", "thus", "diffusion", "distance", "well", "approximate", "diffusion", "map", "construct", "from", "first", "eigenvector", "accuracy", "approximation", "increase", "time", "discuss", "section", "value", "depend", "spatial", "support", "affinity", "kernel", "example", "figure", "show", "visualization", "first", "three", "eigenvector", "produce", "from", "input", "image", "note", "first", "eigenvector", "roughly", "cluster", "image", "two", "main", "region", "-lrb-", "correspond", "sky", "ground", "-rrb-", "mainly", "distinguish", "red", "flower", "from", "everything", "else", "while", "set", "apart", "white", "cloud", "from", "everything", "else", "next", "eigenvector", "-lrb-", "show", "-rrb-", "correspond", "smaller", "eigenvalue", "further", "separate", "between", "progressively", "smaller", "region", "image", "since", "all", "eigenvalue", "strictly", "smaller", "than", "increase", "value", "time", "parameter", "give", "more", "weight", "coarser", "eigenvector", "thus", "diffusion", "distance", "correspond", "higher", "value", "emphasize", "edge", "separate", "between", "coarser", "cluster", "while", "suppress", "those", "separate", "smaller", "scale", "image", "region", "section", "we", "demonstrate", "usefulness", "diffusion", "distance", "plug", "they", "place", "regular", "pairwise", "distance", "several", "edge-aware", "operation", "3.2", "efficient", "implementation", "possible", "concern", "regard", "use", "diffusion", "distance", "practice", "add", "computational", "cost", "specifically", "naive", "implementation", "would", "involve", "form", "all-pairs", "normalize", "affinity", "matrix", "compute", "lead", "eigenvalue", "eigenvector", "matrix", "order", "form", "diffusion", "map", "impractical", "work", "high-resolution", "image", "order", "make", "approach", "practical", "we", "use", "approximation", "propose", "Fowlkes", "et", "al.", "-lsb-", "2004", "-rsb-", "which", "base", "nystr?m", "method", "nystr?m", "approximation", "method", "proceed", "follow", "give", "0.998", "256", "0.968", "64", "0.908", "16", "image", "pixel", "distribute", "small", "number", "sample", "across", "image", "next", "compute", "two", "matrix", "matrix", "which", "consist", "pairwise", "affinity", "among", "sample", "-lrb-", "-rrb-", "matrix", "affinity", "between", "sample", "rest", "image", "correspond", "partition", "complete", "affinity", "matrix", "note", "block", "which", "contain", "bulk", "pairwise", "affinity", "never", "actually", "compute", "approximate", "eigenvector", "give", "where", "eigenvector", "corresponding", "diagonal", "eigenvalue", "matrix", "intuitively", "we", "compute", "eigenvalue", "eigenvector", "sample", "matrix", "use", "upsample", "vector", "full", "resolution", "original", "problem", "approximation", "yield", "eigenvector", "while", "diffusion", "map", "consist", "eigenvector", "where", "Fowlkes", "et", "al.", "-lsb-", "2004", "-rsb-", "show", "how", "approximate", "row", "sum", "use", "only", "we", "refer", "reader", "article", "further", "detail", "pseudocode", "complete", "procedure", "thus", "practical", "method", "compute", "diffusion", "map", "involve", "sampling", "image", "section", "we", "show", "give", "accuracy", "number", "sample", "depend", "where", "pairwise", "interaction", "range", "between", "pixel", "therefore", "affinity", "matrix", "allow", "all", "pair", "pixel", "interact", "constant", "number", "sample", "suffice", "exact", "number", "depend", "image", "hand", "since", "reduce", "matrix", "should", "ideally", "represent", "main", "ACM", "transaction", "Graphics", "Vol", "29", "no.", "Article", "145", "publication", "date", "December", "2010", "Diffusion", "Maps", "Edge-Aware", "image", "editing", "145:5", "Figure", "local", "edit", "propagation", "top", "input", "scribble", "result", "use", "ordinary", "distance", "-lrb-", "middle", "-rrb-", "diffusion", "distance", "-lrb-", "right", "-rrb-", "compute", "spatial", "coordinate", "-lrb-", "16", "-rrb-", "bottom", "corresponding", "influence", "map", "green", "scribble", "distinct", "region", "present", "image", "sample", "place", "use", "stratified", "sampling", "image", "also", "do", "Pellacini", "-lsb-", "2008", "-rsb-", "following", "time", "-lrb-", "seconds", "-rrb-", "be", "measure", "when", "construct", "diffusion", "map", "eigenvector", "different", "image", "size", "number", "sample", "0.5", "mp", "0.75", "mp", "mp", "1.5", "mp", "mp", "10", "sample", "0.58", "0.58", "0.79", "1.12", "1.53", "30", "sample", "1.24", "1.82", "2.46", "3.57", "4.84", "60", "sample", "2.44", "3.66", "4.95", "7.20", "9.75", "experimental", "validation", "order", "evaluate", "practical", "benefit", "use", "diffusion", "distance", "place", "regular", "pairwise", "distance", "between", "original", "datum", "point", "we", "experiment", "variety", "common", "edge-aware", "operator", "each", "operator", "we", "compare", "its", "performance", "without", "use", "diffusion", "distance", "note", "we", "intention", "demonstrate", "one", "able", "achieve", "perfect", "result", "simply", "switch", "diffusion", "distance", "nor", "do", "we", "claim", "similar", "result", "could", "have", "be", "achieve", "any", "other", "way", "rather", "we", "aim", "show", "practical", "scenario", "where", "state-of-theart", "method", "perform", "better", "diffusion", "distance", "give", "same", "input", "we", "experiment", "number", "color", "space", "when", "compute", "affinity", "matrix", "all", "result", "show", "paper", "we", "use", "CIELAB", "color", "space", "-lrb-", "normalize", "channel", "range", "-lsb-", "-rsb-", "-rrb-", "affinity", "define", "gaussian", "kernel", "-lrb-", "-rrb-", "0.1", "edge-preserving", "interpolation", "smoothing", "0.25", "matting", "we", "have", "also", "experiment", "number", "different", "feature", "vector", "use", "pixel", "color", "along", "spatial", "coordinate", "attractive", "option", "since", "typically", "yield", "good", "result", "however", "reduce", "spatial", "interaction", "range", "between", "pixel", "therefore", "require", "use", "more", "nystr?m", "sample", "compute", "diffusion", "map", "show", "section", "reason", "all", "we", "result", "except", "figure", "we", "use", "only", "color", "each", "pixel", "-lrb-", "spatial", "attenuation", "-rrb-", "compute", "diffusion", "map", "use", "30", "sample", "we", "attempt", "enrich", "feature", "vector", "simple", "texture", "descriptor", "-lrb-", "Gabor", "filter", "bank", "-rrb-", "be", "successful", "so", "far", "leave", "possible", "direction", "future", "work", "throughout", "section", "each", "result", "use", "diffusion", "distance", "we", "report", "value", "which", "we", "use", "possible", "strategy", "set", "parameter", "discuss", "section", "use", "C++", "Matlab", "2.8", "GHz", "Intel", "Core", "duo", "processor", "Figure", "WLS", "edge-preserving", "smoothing", "top", "input", "smoothing", "-lrb-", "10", "-rrb-", "use", "color", "gradient", "-lrb-", "middle", "-rrb-", "diffusion", "distance", "-lrb-", "left", "-rrb-", "bottom", "result", "after", "local", "contrast", "adjustment", "input", "image", "-lsb-", "subr", "et", "al.", "2009", "-rsb-", "wl", "diffusion", "figure", "comparison", "method", "Subr", "et", "al.", "-lsb-", "2009", "-rsb-", "local", "edit", "propagation", "Figure", "demonstrate", "performance", "diffusion", "distance", "context", "local", "edit", "propagation", "from", "sparse", "user", "constraint", "plug", "distance", "optimization-based", "approach", "describe", "Lischinski", "et", "al.", "-lsb-", "2006", "-rsb-", "goal", "apply", "warming", "filter", "city", "building", "cooling", "filter", "sky", "water", "region", "use", "minimal", "user", "input", "challenging", "task", "due", "many", "very", "high-contrast", "transition", "between", "building", "indeed", "original", "method", "fail", "propagate", "yellow", "scribble", "capture", "entire", "region", "interest", "when", "use", "diffusion", "distance", "result", "slightly", "better", "increase", "time", "16", "nicely", "capture", "target", "area", "produce", "significantly", "better", "result", "Figure", "goal", "change", "hue", "two", "adjacent", "strongly", "textured", "region", "although", "two", "region", "appear", "quite", "distinct", "human", "observer", "select", "each", "they", "use", "state-of-the-art", "commercial", "tool", "prove", "require", "substantial", "amount", "user", "interaction", "use", "again", "method", "Lischinski", "et", "al.", "-lsb-", "2006", "-rsb-", "we", "be", "able", "obtain", "satisfactory", "result", "sparse", "set", "scribble", "since", "gradient", "between", "two", "region", "inside", "each", "region", "same", "order", "magnitude", "switch", "diffusion", "map", "construct", "use", "color", "each", "pixel", "only", "produce", "similar", "unsatisfactory", "result", "however", "add", "spatial", "coordinate", "feature", "vector", "feed", "result", "diffusion", "distance", "same", "method", "we", "be", "able", "produce", "more", "satisfactory", "result", "supplementary", "material", "contain", "additional", "local", "editing", "result", "well", "example", "use", "diffusion", "distance", "context", "distance-based", "blending", "approach", "Yatziv", "Sapiro", "-lsb-", "2006", "-rsb-", "similar", "improvement", "propagation", "may", "observe", "well", "practice", "scribble-based", "editing", "intend", "iterative", "interactive", "workflow", "where", "user", "able", "add", "remove", "scribble", "until", "satisfactory", "result", "achieve", "sufficient", "amount", "user", "input", "obviously", "possible", "achieve", "result", "identical", "better", "than", "those", "we", "have", "show", "thus", "practical", "advantage", "use", "diffusion", "distance", "context", "lie", "reduce", "amount", "necessary", "user", "input", "edge-preserving", "smoothing", "Figure", "compare", "result", "filter", "image", "WLS", "edge-preserving", "smoothing", "operator", "-lsb-", "Farbman", "et", "al.", "2008", "-rsb-", "without", "use", "diffusion", "distance", "example", "contain", "texture", "high", "gradient", "building", "background", "WLS", "operator", "control", "degree", "smooth", "via", "parameter", "when", "value", "choose", "so", "remove", "most", "texture", "form", "building", "result", "fade", "edge", "between", "building", "sky", "-lrb-", "top", "middle", "image", "-rrb-", "contrast", "reduction", "undesirable", "application", "image", "abstraction", "when", "same", "operator", "use", "diffusion", "distance", "contrast", "edge", "better", "preserved", "-lrb-", "top", "right", "-rrb-", "bottom", "row", "show", "what", "happen", "when", "remove", "texture", "detail", "amplify", "add", "back", "-lrb-", "local", "contrast", "boost", "-rrb-", "may", "see", "detail", "building", "boost", "much", "more", "uniform", "manner", "right", "Figure", "show", "comparison", "between", "result", "produce", "method", "recently", "propose", "Subr", "et", "al.", "-lsb-", "2009", "-rsb-", "result", "edge-preserving", "filter", "wl", "use", "diffusion", "distance", "Subr", "et", "al.", "first", "search", "local", "extrema", "image", "fit", "lower", "upper", "envelope", "extrema", "solve", "linear", "system", "twice", "may", "see", "wl", "diffusion", "distance", "able", "remove", "small", "scale", "detail", "vase", "just", "effectively", "while", "avoid", "cost", "non-linear", "filter", "solve", "multiple", "linear", "system", "both", "method", "still", "unable", "smooth", "out", "coarser", "texture", "leave", "room", "future", "work", "mat", "we", "also", "experiment", "incorporate", "diffusion", "distance", "matting", "method", "Levin", "et", "al.", "-lsb-", "2008a", "-rsb-", "unlike", "many", "mat", "algorithm", "assume", "tight", "trimap", "method", "also", "admit", "sparse", "user", "scribble", "indicate", "background", "foreground", "which", "propagate", "over", "image", "yield", "alpha", "matte", "we", "have", "modify", "author", "original", "code", "use", "diffusion", "coordinate", "instead", "color", "when", "construct", "mat", "laplacian", "Figure", "show", "example", "where", "modify", "method", "produce", "matte", "closer", "ground", "truth", "than", "original", "method", "local", "image", "editing", "we", "find", "fewer", "scribble", "necessary", "produce", "accurate", "matte", "diffusion", "distance", "presence", "textured", "region", "further", "evaluate", "mat", "performance", "we", "also", "run", "benchmark", "suggest", "-lsb-", "Rhemann", "et", "al.", "2009", "-rsb-", "we", "do", "see", "any", "significant", "increase", "quantitative", "accuracy", "can", "explain", "fact", "benchmark", "use", "tight", "trimap", "thus", "ability", "diffusion", "distance", "propagate", "across", "textured", "region", "do", "play", "significant", "role", "when", "input", "trimap", "loose", "visual", "accuracy", "diffusion-based", "matte", "sometimes", "better", "-lrb-", "see", "supplementary", "material", "-rrb-", "ACM", "transaction", "Graphics", "Vol", "29", "no.", "Article", "145", "publication", "date", "December", "2010", "145:6", "Z.", "Farbman", "et", "al.", "Figure", "closed", "form", "mat", "diffusion", "distance", "top", "input", "ground", "truth", "bottom", "corresponding", "result", "without", "-lrb-", "left", "-rrb-", "diffusion", "distance", "-lrb-", "right", "-rrb-", "4.1", "fuzzy", "selection", "Diffusion", "Maps", "local", "edit", "propagation", "particular", "adjustment", "propagate", "apply", "all", "pixel", "within", "contiguous", "region", "indicate", "user", "however", "complex", "fragmented", "region", "one", "might", "want", "apply", "different", "adjustment", "different", "part", "region", "example", "Figure", "modify", "color", "soil", "bush", "independently", "difficult", "accomplish", "use", "scribble-based", "local", "propagation", "experienced", "Photoshop", "user", "might", "prefer", "first", "create", "mask", "separate", "ground", "from", "sky", "use", "color", "range", "selection", "tool", "further", "separate", "ground", "red", "green", "here", "we", "demonstrate", "have", "diffusion", "map", "under", "hood", "can", "also", "useful", "quickly", "obtain", "similar", "fuzzy", "mask", "recall", "diffusion", "map", "consist", "dominant", "eigenvector", "all-pairs", "affinity", "matrix", "which", "discriminate", "between", "dominant", "mode", "datum", "various", "scale", "each", "eigenvector", "consist", "positive", "negative", "value", "-lrb-", "show", "shades", "red", "blue", "figure", "-rrb-", "transition", "between", "negative", "positive", "region", "correspond", "transition", "between", "cluster", "thus", "we", "idea", "give", "scribble", "draw", "user", "we", "first", "identify", "which", "eigenvector", "diffusion", "map", "respond", "most", "strongly", "scribble", "measure", "variance", "each", "eigenvector", "pixel", "cover", "scribble", "have", "find", "eigenvector", "we", "use", "produce", "mask", "capture", "either", "positive", "negative", "region", "eigenvector", "formally", "give", "user", "scribble", "we", "first", "search", "eigenvector", "which", "exhibit", "highest", "variance", "area", "cover", "scribble", "arg", "max", "Var", "-lcb-", "-lrb-", "-rrb-", "-rcb-", "x?s", "we", "use", "eigenvector", "define", "two", "mask", "area", "where", "eigenvector", "positive", "negative", "respectively", "exp", "-lrb-", "-rrb-", "exp", "-lrb-", "-rrb-", "exp", "-lrb-", "??", "-rrb-", "where", "parameter", "enable", "user", "control", "hardness", "mask", "-lrb-", "make", "mask", "softer", "while", "make", "they", "harder", "-rrb-", "note", "mask", "normalize", "sum", "every", "pixel", "often", "case", "first", "eigenvector", "effectively", "partition", "image", "two", "main", "region", "-lrb-", "e.g.", "ground", "sky", "see", "figure", "-rrb-", "thus", "scribble", "contain", "one", "two", "region", "we", "assume", "user?s", "intent", "apply", "manipulation", "only", "inside", "contain", "region", "case", "we", "also", "define", "attenuation", "mask", "10", "x?s", "-lrb-", "-rrb-", "att", "x?s", "final", "mask", "use", "edit", "image", "give", "product", "one", "mask", "attenuation", "mask", "att", "process", "demonstrate", "figure", "user", "first", "draw", "scribble", "across", "boundary", "between", "two", "main", "region", "image", "-lrb-", "sky", "ground", "-rrb-", "first", "eigenvector", "respond", "most", "strongly", "scribble", "yield", "mask", "distinguish", "between", "two", "region", "user", "able", "boost", "local", "contrast", "sky", "without", "significant", "effect", "elsewhere", "next", "scribble", "draw", "across", "ground", "region", "eigenvector", "respond", "most", "strongly", "discriminate", "between", "red", "soil", "green", "vegetation", "user", "use", "one", "two", "result", "mask", "-lrb-", "case", "-rrb-", "change", "hue", "saturation", "soil", "its", "complement", "-lrb-", "-rrb-", "make", "vegetation", "more", "green", "use", "different", "hue/saturation", "adjustment", "here", "attenuate", "mask", "first", "eigenvector", "help", "confine", "edit", "ground", "region", "-lrb-", "figure", "show", "attenuate", "mask", "att", "-rrb-", "finally", "scribble", "across", "sky", "produce", "mask", "discriminate", "between", "blue", "sky", "white", "cloud", "enable", "user", "deepen", "color", "sky", "again", "edit", "attenuate", "apply", "only", "sky", "region", "yield", "final", "result", "ACM", "transaction", "Graphics", "Vol", "29", "no.", "Article", "145", "publication", "date", "December", "2010", "Diffusion", "Maps", "Edge-Aware", "image", "editing", "145:7", "input", "image", "mask", "result", "mask", "figure", "Red", "Canyon", "State", "Park", "Utah", "each", "scribble", "produce", "corresponding", "mask", "select", "from", "diffusion", "map", "eigenvector", "highest", "variance", "under", "scribble", "2nd", "3rd", "mask", "attenuate", "first", "eigenvector", "analysis", "optimization-based", "edit", "propagation", "operator", "explore", "so", "far", "literature", "may", "group", "two", "main", "class", "base", "spatial", "range", "interaction", "explicitly", "account", "one", "class", "correspond", "short-range/local", "interaction", "while", "other", "long-range/global", "-lrb-", "all-pairs", "-rrb-", "interaction", "below", "we", "review", "method", "use", "solve", "edit", "propagation", "problem", "each", "two", "case", "conclude", "method", "well", "suit", "handle", "middle-range", "interaction", "however", "careful", "spectral", "analysis", "corresponding", "affinity", "matrix", "lead", "naturally", "hybrid", "solution", "method", "make", "possible", "handle", "intermediate", "case", "both", "accurately", "efficiently", "interaction", "range", "optimization-based", "edge-aware", "edit", "propagation", "method", "solve", "linear", "system", "form", "lx", "where", "non-homogeneous", "laplacian", "matrix", "affinity", "matrix", "one", "define", "eq", "-lrb-", "-rrb-", "diagonal", "matrix", "give", "let", "we", "define", "spatial", "interaction", "range", "radius", "-lrb-", "pixel", "-rrb-", "beyond", "which", "pairwise", "affinity", "between", "two", "pixel", "image", "fall", "below", "some", "threshold", "example", "5-point", "inhomogeneous", "laplacian", "operator", "use", "-lsb-", "Lischinski", "et", "al.", "2006", "Farbman", "et", "al.", "2008", "-rsb-", "correspond", "Levin", "et", "al.", "-lsb-", "2004", "2008a", "-rsb-", "use", "slightly", "larger", "-lrb-", "still", "constant", "-rrb-", "interaction", "range", "while", "all-pairs", "approach", "-lsb-", "Pellacini", "2008", "-rsb-", "use", "interaction", "range", "-lrb-", "-rrb-", "where", "dimension", "-lrb-", "width", "height", "-rrb-", "image", "interaction", "range", "determine", "manner", "which", "sparse", "edit", "may", "propagate", "across", "image", "when", "small", "constant", "edit", "propagate", "well", "within", "smooth", "contiguous", "image", "region", "propagation", "block", "strong", "edge", "image", "so", "fragmented", "strongly", "textured", "region", "can", "handle", "other", "extreme", "when", "-lrb-", "-rrb-", "edit", "allow", "propagate", "between", "region", "similar", "attribute", "even", "region", "distant", "completely", "separate", "region", "very", "different", "color", "attribute", "one", "interested", "be", "able", "handle", "fragmented", "region", "while", "same", "time", "have", "flexibility", "local", "control", "use", "intermediate", "interaction", "range", "might", "provide", "answer", "however", "we", "shall", "see", "below", "latter", "case", "clear", "how", "result", "system", "linear", "equation", "can", "efficiently", "compute", "solve", "practice", "exist", "approach", "let", "we", "review", "solution", "method", "commonly", "use", "handle", "two", "extreme", "case", "case", "sparse", "laplacian", "matrix", "have", "be", "study", "extensively", "numerical", "computing", "literature", "since", "matrix", "use", "approximate", "differential", "operator", "well", "know", "-lsb-", "Trottenberg", "et", "al.", "2001", "-rsb-", "matrix", "have", "condition", "number", "grow", "function", "eigenvector", "correspond", "mode", "variation", "different", "scale", "-lrb-", "fourier", "mode", "different", "wavelength", "-rrb-", "result", "mask", "result", "fore", "matrix", "treat", "multi-scale", "preconditioner", "capture", "rescale", "mode", "geometric", "multigrid", "method", "-lsb-", "trottenberg", "et", "al.", "2001", "-rsb-", "conjugate", "gradient", "hierarchical", "basis", "precondition", "-lsb-", "szeliski", "1990", "-rsb-", "non-homogeneous", "sparse", "matrix", "can", "solve", "use", "operatordependent", "multigrid", "Algebraic", "Multigrid", "-lsb-", "Trottenberg", "et", "al.", "2001", "-rsb-", "-lrb-", "-rrb-", "time", "where", "dimension", "matrix", "-lrb-", "-rrb-", "use", "locally-adapted", "hierarchical", "basis", "preconditioner", "Szeliski", "-lsb-", "2006", "-rsb-", "recently", "several", "work", "show", "action", "perform", "non-homogeneous", "laplacian", "system", "can", "approximate", "efficiently", "without", "explicitly", "construct", "preconditioning", "solve", "full-resolution", "linear", "system", "-lsb-", "Kopf", "et", "al.", "2007", "Fattal", "2009", "-rsb-", "contrast", "global", "all-pairs", "laplacian", "behave", "differently", "dense", "hence", "linear", "relaxation", "Gauss-Seidel", "conjugate", "gradient", "become", "prohibitively", "expensive", "since", "each", "matrixvector", "multiplication", "cost", "-lrb-", "-rrb-", "natural", "image", "which", "typically", "consist", "limited", "number", "region", "each", "contain", "large", "number", "pixel", "similar", "attribute", "affinity", "matrix", "close", "low", "rank", "Pellacini", "-lsb-", "2008", "-rsb-", "exploit", "observation", "use", "nystr?m", "method", "-lsb-", "Williams", "Seeger", "2000", "-rsb-", "first", "drastically", "reduce", "dimensionality", "matrix", "solve", "associate", "laplacian", "its", "reduced", "form", "use", "Woodbury", "formulum", "-lsb-", "Golub", "Van", "Loan", "1998", "-rsb-", "total", "cost", "approach", "-lrb-", "-rrb-", "where", "-lrb-", "small", "-rrb-", "number", "sample", "summarize", "discussion", "so", "far", "variety", "efficient", "accurate", "solution", "exist", "two", "extreme", "case", "either", "very", "sparse", "fully", "dense", "inhomogeneous", "Laplacians", "solution", "practically", "linear", "number", "pixel", "N.", "however", "solution", "well", "suit", "intermediate", "case", "since", "corresponding", "affinity", "matrix", "neither", "sufficiently", "sparse", "nor", "sufficiently", "rank-deficient", "-lsb-", "Pellacini", "2008", "-rsb-", "Rank", "vs.", "interaction", "range", "order", "propose", "effective", "solution", "intermediate", "case", "let", "we", "first", "examine", "manner", "which", "rank", "affinity", "matrix", "depend", "top", "right", "plot", "Figure", "show", "several", "spectrum", "normalize", "gaussian", "affinity", "matrix", "correspond", "increase", "value", "-lrb-", "hence", "increase", "value", "-rrb-", "note", "short", "interaction", "range", "most", "eigenvalue", "non-negligible", "number", "indeed", "decrease", "become", "larger", "plot", "numerical", "rank", "function", "-lrb-", "figure", "bottom", "left", "-rrb-", "reveal", "get", "smaller", "rank", "grow", "approximately", "spatially-homogeneous", "case", "-lrb-", "constant", "very", "smooth", "image", "-rrb-", "empirical", "result", "can", "verify", "formally", "notice", "circulant", "matrix", "correspond", "convolution", "affinity", "kernel", "e.g.", "exp", "-lrb-", "-rrb-", "case", "eigenvalue", "ACM", "transaction", "Graphics", "Vol", "29", "no.", "Article", "145", "publication", "date", "December", "2010", "145:8", "Z.", "Farbman", "et", "al.", "1.00", "1.41", "2.00", "4.00", "11.31", "0.5", "5000", "10000", "15000", "0.8", "9000", "use", "100", "sample", "use", "sample", "0.6", "6000", "Rank", "error", "0.4", "3000", "0.2", "3000Â 6000Â 9000Â 100", "80", "60", "40", "20", "spatial", "range", "-lrb-", "-rrb-", "figure", "top", "left", "image", "from", "which", "several", "test", "window", "different", "amount", "detail", "be", "choose", "top", "right", "eigenvalue", "affinity", "matrix", "one", "region", "bottom", "leave", "effective", "rank", "function", "average", "over", "70", "randomly", "choose", "96", "96", "test", "window", "-lrb-", "blue", "-rrb-", "red", "line", "constant", "value", "left", "grow", "full", "rank", "linearly", "indicate", "we", "propose", "sampling", "strategy", "bottom", "right", "nystr?m", "approximation", "error", "function", "different", "sampling", "strategy", "measure", "one", "window", "give", "-lrb-", "up", "scale", "-rrb-", "-lsb-", "Oppenheim", "Schafer", "1975", "-rsb-", "11", "exp", "-lrb-", "??", "-lrb-", "-rrb-", "-rrb-", "where", "index", "fourier", "domain", "thus", "number", "eigenvalue", "above", "some", "fix", "threshold", "proportional", "number", "different", "k?s", "satisfy", "12", "exp", "-lrb-", "??", "-lrb-", "-rrb-", "-rrb-", "13", "??", "-lrb-", "-rrb-", "log", "-lrb-", "-rrb-", "14", "log", "-lrb-", "-rrb-", "two", "dimension", "all", "k?s", "fall", "inside", "circle", "whose", "radius", "proportional", "substitute", "we", "obtain", "rank", "-lrb-", "-rrb-", "non-homogeneous", "case", "image", "have", "cluster", "-lrb-", "smooth", "region", "-rrb-", "affinity", "matrix", "approximately", "block-diagonal", "-lsb-", "Weiss", "1999", "-rsb-", "block", "each", "correspond", "different", "cluster", "homogeneous", "analysis", "apply", "each", "block", "once", "become", "sufficiently", "small", "thus", "overall", "rank", "grow", "like", "before", "-lrb-", "-rrb-", "actual", "rank", "growth", "over", "individual", "test", "window", "depend", "contents", "extremely", "cluttered/textured", "window", "growth", "more", "concave", "large", "value", "specifically", "actual", "slope", "curve", "different", "test", "window", "left", "end", "plot", "-lrb-", "large", "-rrb-", "between", "0.85", "6.39", "while", "right", "end", "plot", "-lrb-", "approach", "-rrb-", "slope", "between", "0.82", "0.93", "summarize", "affinity", "matrix", "case", "have", "rank", "-lrb-", "-rrb-", "sparsity", "pattern", "-lrb-", "-rrb-", "non-zeros", "per", "row", "mean", "when", "apply", "nystr?m", "approximation", "one", "should", "sample", "image", "rate", "-lrb-", "-rrb-", "along", "each", "dimension", "-lrb-", "one", "every", "-lrb-", "-rrb-", "column", "-rrb-", "reduce", "matrix", "eq", "-lrb-", "-rrb-", "full-rank", "have", "sparsity", "pattern", "-lrb-", "-rrb-", "which", "make", "possible", "use", "standard", "iterative", "linear", "solver", "Figure", "show", "large", "value", "rank", "grow", "somewhat", "faster", "than", "linear", "prediction", "therefore", "we", "suggest", "follow", "strategy", "some", "constant", "number", "-lrb-", "ten", "few", "hundred", "-rrb-", "sample", "all-pairs", "case", "increase", "number", "sample", "proportionally", "strategy", "demonstrate", "bottom", "right", "plot", "figure", "which", "confirm", "error", "correspond", "constant", "number", "sample", "increase", "decrease", "while", "use", "sample", "result", "non-increasing", "error", "edit", "propagation", "example", "Figure", "demonstrate", "importance", "use", "appropriate", "sampling", "rate", "edit", "propagation", "practice", "suppose", "give", "input", "image", "user", "wish", "recolor", "all", "tulip", "mark", "single", "tulip", "one", "scribble", "while", "place", "another", "scribble", "across", "background", "all-pairs", "approach", "well-suited", "scenario", "desire", "interaction", "range", "here", "roughly", "entire", "image", "accord", "we", "analysis", "small", "constant", "number", "sample", "suffice", "case", "indeed", "propagation", "mask", "obtain", "use", "small", "-lrb-", "50", "-rrb-", "larger", "number", "sample", "look", "virtually", "identical", "produce", "same", "visual", "result", "contrast", "suppose", "goal", "recolor", "only", "left", "right", "flower", "while", "keep", "original", "color", "middle", "achieve", "goal", "all-pairs", "approach", "interaction", "range", "must", "significantly", "reduce", "case", "use", "small", "number", "sample", "longer", "produce", "desire", "mask", "which", "nevertheless", "obtain", "suitably", "larger", "number", "sample", "efficient", "numerical", "solution", "analysis", "we", "have", "present", "section", "suggest", "only", "correct", "sampling", "rate", "use", "intermediate", "interaction", "range", "also", "how", "efficiently", "solve", "associate", "linear", "system", "accord", "nystr?m", "approximation", "15", "UA", "where", "15", "apply", "Woodbury", "identity", "-lsb-", "Golub", "Van", "Loan", "1998", "-rsb-", "yield", "16", "-lrb-", "UA", "-rrb-", "-lrb-", "-rrb-", "Pellacini", "be", "able", "evaluate", "eq", "-lrb-", "16", "-rrb-", "efficiently", "use", "direct", "method", "because", "use", "constant", "number", "sample", "when", "rank", "sufficiently", "small", "hence", "number", "sample", "have", "larger", "we", "observe", "still", "possible", "evaluate", "eq", "-lrb-", "16", "-rrb-", "efficiently", "so", "since", "both", "sparse", "-lrb-", "latter", "sparse", "since", "involve", "inner", "product", "between", "vector", "nonzero", "over", "mostly", "nonoverlapping", "image", "region", "-rrb-", "thus", "instead", "use", "direct", "matrix", "inversion", "-lrb-", "-rrb-", "can", "invert", "use", "standard", "sparse", "linear", "solver", "linear", "time", "discussion", "time", "parameter", "diffusion", "map", "edge", "separate", "between", "larger", "cluster", "appear", "lead", "eigenvector", "while", "lower", "eigenvector", "populate", "edge", "separate", "finer", "cluster", "thus", "time", "parameter", "effectively", "attenuate", "transition", "between", "finer", "cluster", "respect", "coarser", "one", "increase", "value", "one", "obtain", "stronger", "more", "aggressive", "edgepreserve", "smoothing", "interpolation", "we", "envision", "several", "option", "set", "value", "parameter", "practice", "one", "option", "expose", "user", "example", "after", "place", "scribble", "user", "can", "interactively", "manipulate", "value", "thereby", "adjust", "-lrb-", "dilate", "erode", "-rrb-", "corresponding", "influence", "mask", "another", "option", "leave", "future", "work", "automatically", "determine", "value", "from", "geometry", "brush", "size", "user?s", "brush", "stroke", "wide", "stroke", "well", "long", "stroke", "cross", "multiple", "edge", "result", "higher", "value", "should", "emphasize", "here", "change", "value", "only", "rescale", "diffusion", "map", "eigenvector", "-lrb-", "eq", "-rrb-", "do", "require", "recompute", "they", "computational", "cost", "order", "use", "diffusion", "distance", "instead", "regular", "distance", "color", "space", "necessary", "first", "construct", "ACM", "transaction", "Graphics", "Vol", "29", "no.", "Article", "145", "publication", "date", "December", "2010", "Diffusion", "Maps", "Edge-Aware", "image", "editing", "145:9", "input", "image", "mask", "-lrb-", "50", "sample", "-rrb-", "mask", "-lrb-", "500", "sample", "-rrb-", "input", "scribble", "edited", "result", "edit", "result", "input", "scribble", "mask", "-lrb-", "50", "sample", "-rrb-", "mask", "-lrb-", "500", "sample", "-rrb-", "edit", "result", "edited", "result", "figure", "small", "number", "sample", "suffice", "all-pairs", "propagation", "large", "interaction", "range", "-lrb-", "two", "top", "row", "-rrb-", "longer", "sufficient", "when", "range", "reduce", "-lrb-", "two", "bottom", "row", "-rrb-", "diffusion", "map", "computation", "time", "we", "current", "implementation", "report", "section", "while", "time", "might", "appear", "significant", "compare", "interactive", "editing", "turnaround", "time", "fast", "bilateral", "filter", "-lsb-", "Chen", "et", "al.", "2007", "-rsb-", "edge-avoiding", "wavelet", "-lsb-", "fattal", "2009", "-rsb-", "one", "should", "keep", "mind", "diffusion", "map", "only", "need", "compute", "once", "before", "interactive", "editing", "commence", "thus", "one", "might", "view", "color", "space", "conversion", "do", "when", "image", "edit", "load", "from", "disk", "do", "necessarily", "slow", "down", "interaction", "user", "image", "-lrb-", "computation", "might", "only", "bit", "slower", "more", "than", "eigenvector", "use", "instead", "color", "channel", "original", "image", "-rrb-", "strength", "weakness", "one", "challenge", "edge-aware", "operator", "distinguish", "between", "high", "gradient", "-lrb-", "color", "difference", "-rrb-", "occur", "highly", "textured", "region", "between", "salient", "edge", "separate", "different", "larger", "scale", "region", "we", "approach", "we", "effectively", "assume", "textured", "region", "characterize", "multiple", "transition", "between", "texture", "element", "thus", "more", "path", "color", "space", "between", "different", "value", "pixel", "occur", "within", "same", "texture", "than", "between", "distinct", "larger", "scale", "region", "thus", "use", "diffusion", "distance", "place", "color", "difference", "advantageous", "image", "contain", "relatively", "large", "heavily", "textured", "region", "edge-aware", "interpolation", "show", "propagate", "better", "inside", "region", "removal", "texture", "edge-preserving", "smoothing", "show", "more", "effective", "we", "do", "expect", "use", "diffusion", "distance", "introduce", "significant", "improvement", "inside", "smooth", "image", "region", "when", "user", "input", "-lrb-", "edge-aware", "interpolation", "-rrb-", "relatively", "precise", "example", "include", "scribble", "cover", "most", "target", "region", "scribble", "follow", "closely", "boundary", "region", "tight", "trimap", "etc.", "however", "we", "have", "encounter", "case", "where", "result", "suffer", "from", "use", "diffusion", "distance", "except", "bear", "add", "computational", "cost", "discuss", "earlier", "should", "point", "out", "all", "texture", "satisfy", "assumption", "we", "approach", "example", "skirt", "many", "colorful", "swatch", "might", "have", "significantly", "more", "transition", "pixel", "between", "different", "swatch", "than", "transition", "between", "shirt", "background", "thus", "some", "inter-swatch", "transition", "inside", "shirt", "might", "present", "already", "one", "lead", "eigenvector", "diffusion", "distance", "between", "they", "still", "significant", "propagation/smoothing", "inside", "shirt", "significantly", "improve", "another", "difficult", "example", "consider", "two", "adjacent", "region", "which", "semantically", "distinct", "have", "texture", "similar", "color", "case", "propagation", "from", "scribble", "inside", "one", "region", "might", "propagate", "adjacent", "region", "give", "sufficiently", "high", "value", "small", "value", "better", "than", "when", "use", "ordinary", "color", "difference", "both", "example", "above", "include", "supplementary", "material", "conclusion", "paper", "we", "have", "introduce", "idea", "perform", "edge-aware", "operation", "image", "use", "diffusion", "distance", "instead", "euclidean", "distance", "we", "have", "demonstrate", "diffusion", "distance", "which", "account", "both", "length", "number", "path", "between", "datum", "point", "feature", "space", "provide", "local", "edit", "propagation", "scheme", "edge-preserving", "smoothing", "operator", "valuable", "global", "perspective", "cluster", "present", "feature", "space", "variety", "scale", "we", "have", "also", "provide", "analysis", "extend", "applicability", "nystr?m", "method", "more", "general", "class", "affinity", "matrix", "suggest", "efficient", "solution", "entire", "range", "spatial", "interaction", "conclude", "we", "paper", "remain", "point", "out", "number", "interesting", "direction", "future", "work", "use", "diffusion", "distance", "span", "two-dimensional", "space", "edge-aware", "operator", "two", "axis", "space", "diffusion", "time", "parameter", "spatial", "interaction", "range", "currently", "up", "user", "specify", "appropriate", "value", "two", "parameter", "provide", "important", "degree", "user", "control", "currently", "unclear", "how", "automatically", "determine", "optimal", "combination", "two", "parameter", "particular", "image", "manipulation", "task", "we", "currently", "construct", "diffusion", "map", "use", "only", "color", "-lrb-", "sometimes", "-rrb-", "spatial", "position", "pixel", "image", "natural", "direction", "explore", "work", "richer", "feature", "space", "however", "we", "preliminary", "attempt", "direction", "be", "too", "successful", "since", "point", "out", "earlier", "exist", "texture", "descriptor", "effectively", "operate", "lower", "spatial", "resolution", "finally", "we", "believe", "further", "integration", "higher-level", "image", "understanding", "image", "manipulation", "operator", "another", "promising", "yet", "challenging", "research", "direction", "all", "exist", "edge-aware", "operator", "oblivious", "semantic", "content", "example", "human", "present", "image", "-lrb-", "any", "other", "object", "large", "variance", "texture", "and/or", "color", "-rrb-", "unlikely", "select", "edit", "single", "region", "unless", "sufficient", "user", "input", "provide", "thus", "integration", "object", "detection", "recognition", "algorithm", "image", "editing", "tool", "seem", "fruitful", "direction", "explore", "acknowledgment", "work", "support", "part", "Israel", "Science", "Foundation", "found", "Israel", "Academy", "Sciences", "Humanities", "reference", "X.", "ellacinus", "F.", "2008", "AppProp", "all-pairs", "appearancespace", "edit", "propagation", "ACM", "Trans", "graph", "27", "Article", "40", "elkin", "M.", "IYOGI", "P.", "2003", "laplacian", "eigenmap", "dimensionality", "reduction", "datum", "representation", "neural", "computation", "15", "-lrb-", "June", "-rrb-", "1373", "1396", "lack", "M.", "J.", "apiro", "G.", "ARIMONT", "D.", "H.", "eeger", "D.", "1998", "robust", "anisotropic", "diffusion", "IEEE", "Trans", "image", "Proc", "-lrb-", "mar.", "-rrb-", "421", "432", "hang", "H.", "eung", "d.-y", "2008", "robust", "path-based", "spectral", "clustering", "pattern", "recogn", "41", "191", "203", "hen", "J.", "ari", "S.", "URAND", "F.", "2007", "real-time", "edge-aware", "image", "processing", "bilateral", "grid", "ACM", "Trans", "graph", "26", "-lrb-", "July", "-rrb-", "Article", "103", "oifman", "R.", "AFON", "S.", "2006", "Diffusion", "map", "Applied", "Computational", "Harmonic", "analysis", "21", "30", "urand", "F.", "ORSEY", "J.", "2002", "fast", "bilateral", "filter", "display", "high-dynamic-range", "image", "ACM", "Trans", "graph", "21", "-lrb-", "July", "-rrb-", "257", "266", "arbman", "Z.", "attal", "R.", "ISCHINSKI", "D.", "ZELISKI", "R.", "2008", "edge-preserving", "decomposition", "multi-scale", "tone", "detail", "manipulation", "ACM", "Trans", "graph", "27", "Article", "67", "attal", "R.", "GRAWALA", "M.", "usinkiewicz", "S.", "2007", "multiscale", "shape", "detail", "enhancement", "from", "multi-light", "image", "collection", "ACM", "Trans", "graph", "26", "-lrb-", "July", "-rrb-", "Article", "51", "attal", "R.", "2009", "edge-avoiding", "wavelet", "application", "ACM", "Trans", "graph", "28", "-lrb-", "August", "-rrb-", "Article", "22", "ischer", "B.", "UHMANN", "J.", "M.", "2003", "path-based", "clustering", "grouping", "smooth", "curve", "texture", "segmentation", "IEEE", "Trans", "pattern", "Anal", "Mach", "Intell", "25", "513", "518", "owlke", "C.", "ELONGIE", "S.", "HUNG", "F.", "ALIK", "J.", "2004", "spectral", "group", "use", "nystr?m", "method", "IEEE", "Trans", "pattern", "Anal", "Mach", "Intell", "26", "214", "225", "olub", "G.", "H.", "OAN", "C.", "F.", "1998", "Matrix", "computation", "2nd", "ed", "John", "Hopkins", "University", "Press", "rady", "l.", "inop", "a.", "K.", "2008", "fast", "approximate", "random", "walker", "segmentation", "use", "eigenvector", "precomputation", "Proc", "IEEE", "CVPR", "IEEE", "Computer", "Society", "rady", "l.", "2006", "Random", "walk", "image", "segmentation", "IEEE", "Trans", "pattern", "Anal", "Mach", "Intell", "28", "11", "-lrb-", "Nov.", "-rrb-", "1768", "1783", "OPF", "J.", "OHEN", "M.", "F.", "ISCHINSKI", "D.", "YTTENDAELE", "M.", "2007", "Joint", "bilateral", "upsampling", "ACM", "Trans", "graph", "26", "Article", "96", "evin", "a.", "ischinskus", "D.", "EISS", "Y.", "2004", "colorization", "use", "optimization", "ACM", "Trans", "graph", "23", "689", "694", "evin", "a.", "ischinskus", "D.", "EISS", "Y.", "2008", "closedform", "solution", "natural", "image", "matting", "IEEE", "Trans", "pattern", "Anal", "Mach", "Intell", "30", "228", "242", "evin", "a.", "av", "cha", "a.", "ischinskus", "D.", "2008", "spectral", "matting", "IEEE", "Trans", "pattern", "Anal", "Mach", "Intell", "30", "10", "1699", "1712", "Y.", "DELSON", "E.", "H.", "garwalum", "a.", "2008", "ScribbleBoost", "add", "classification", "edge-aware", "interpolation", "local", "image", "video", "adjustment", "Computer", "Graphics", "Forum", "27", "-lrb-", "June", "-rrb-", "1255", "1264", "ischinskus", "D.", "arbman", "Z.", "YTTENDAELE", "M.", "ZELISKI", "R.", "2006", "interactive", "local", "adjustment", "tonal", "value", "ACM", "Trans", "graph", "25", "-lrb-", "July", "-rrb-", "646", "653", "alik", "J.", "ELONGIE", "S.", "EUNG", "T.", "HI", "J.", "2001", "Contour", "texture", "analysis", "image", "segmentation", "int", "J.", "Comput", "Vision", "43", "27", "eilum", "m.", "hus", "J.", "2001", "random", "walk", "view", "spectral", "segmentation", "Proc", "AISTATS", "2001", "adler", "B.", "AFON", "S.", "OIFMAN", "R.", "EVREKIDIS", "I.", "2005", "Diffusion", "map", "spectral", "clustering", "eigenfunction", "Fokker-Planck", "operator", "neural", "information", "Processing", "Systems", "-lrb-", "NIPS", "-rrb-", "18", "mer", "i.", "ERMAN", "M.", "2006", "bottleneck", "geodesic", "Computing", "pixel", "affinity", "Proc", "IEEE", "CVPR", "IEEE", "Computer", "Society", "1901", "1907", "ppenheim", "a.", "V.", "CHAFER", "R.", "W.", "1975", "Digital", "Signal", "Processing", "Prentice", "Hall", "ari", "S.", "URAND", "F.", "2006", "fast", "approximation", "bilateral", "filter", "use", "signal", "processing", "approach", "Proc", "eccv", "06", "IEEE", "iv", "568", "580", "erona", "P.", "ALIK", "J.", "1990", "scale-space", "edge", "detection", "use", "anisotropic", "diffusion", "IEEE", "Trans", "pattern", "Anal", "Mach", "Intell", "12", "-lrb-", "July", "-rrb-", "629", "639", "hemann", "C.", "OTHER", "C.", "ang", "J.", "ELAUTZ", "M.", "OHLI", "P.", "OTT", "P.", "2009", "perceptually", "motivated", "online", "benchmark", "image", "matting", "cvpr", "IEEE", "1826", "1833", "owei", "S.", "T.", "AUL", "L.", "K.", "2000", "nonlinear", "dimensionality", "reduction", "locally", "linear", "embedding", "Science", "290", "5500", "2323", "2326", "hus", "J.", "ALIK", "J.", "1997", "normalize", "cut", "image", "segmentation", "Proc", "IEEE", "CVPR", "IEEE", "731", "737", "inger", "a.", "hkolnisky", "Y.", "ADLER", "B.", "2009", "Diffusion", "interpretation", "nonlocal", "neighborhood", "filter", "signal", "denoising", "SIAM", "J.", "Imag", "Sciences", "118", "139", "ubr", "K.", "oler", "C.", "URAND", "F.", "2009", "edge-preserving", "multiscale", "image", "decomposition", "base", "local", "extrema", "ACM", "Trans", "graph", "28", "-lrb-", "December", "-rrb-", "Article", "147", "zeliskus", "R.", "1990", "fast", "surface", "interpolation", "use", "hierarchical", "basis", "function", "IEEE", "Trans", "pattern", "Anal", "Mach", "Intell", "12", "513", "528", "zeliskus", "R.", "2006", "locally", "adapt", "hierarchical", "basis", "preconditioning", "ACM", "Trans", "graph", "25", "1135", "1143", "enenbaum", "J.", "B.", "de", "ILVA", "V.", "angford", "J.", "C.", "2000", "global", "geometric", "framework", "nonlinear", "dimensionality", "reduction", "Science", "290", "5500", "2319", "2323", "omasus", "C.", "anduchus", "R.", "1998", "bilateral", "filter", "gray", "color", "image", "Proc", "iccv", "98", "IEEE", "839", "846", "rottenberg", "U.", "OSTERLEE", "C.", "ch", "uller", "a.", "2001", "multigrid", "Academic", "Press", "urner", "M.", "R.", "1986", "texture", "discrimination", "Gabor", "function", "Biol", "Cybern", "55", "2-3", "71", "82", "EISS", "Y.", "1999", "segmentation", "use", "eigenvector", "unifying", "view", "Proc", "iccv", "IEEE", "Computer", "Society", "975", "982", "ILLIAMS", "C.", "EEGER", "M.", "2000", "use", "nystr?m", "method", "speed", "up", "kernel", "machine", "advance", "Neural", "Information", "Processing", "Systems", "13", "682", "688", "K.", "Y.", "T.", "S.-M.", "iu", "t.-q", "2009", "efficient", "affinity-based", "edit", "propagation", "use", "k-d", "tree", "ACM", "Trans", "graph", "28", "-lrb-", "December", "-rrb-", "Article", "118", "atziv", "L.", "APIRO", "G.", "2006", "fast", "image", "video", "colorization", "use", "chrominance", "blending", "IEEE", "Trans", "image", "Proc", "15", "-lrb-", "May", "-rrb-", "1120", "1129", "ACM", "transaction", "Graphics", "Vol", "29", "no.", "Article", "145", "publication", "date", "December", "2010", "145:10", "Z.", "Farbman", "et", "al.", "ACM", "transaction", "Graphics", "Vol", "29", "no.", "Article", "145", "publication", "date", "December", "2010" ],
  "content" : "\n  \n    4ee378ee4cbe6341aa97afa67cc4f0033b7b228f9ac66e9c7f8ce48ee5dca96a\n    oyd\n    10.1145/1866158.1866171\n    Name identification was not possible. \n  \n  \n    \n      \n        Diffusion Maps for Edge-Aware Image Editing\n      \n      Zeev Farbman Raanan Fattal The Hebrew University The Hebrew University\n      Edge-aware operations, such as edge-preserving smoothing and edge-aware interpolation, require assessing the degree of similarity between pairs of pixels, typically defined as a simple monotonic function of the Euclidean distance between pixel values in some feature space. In this work we introduce the idea of replacing these Euclidean distances with diffusion distances, which better account for the global distribution of pixels in their feature space. These distances are approximated using diffusion maps: a set of the dominant eigenvectors of a large affinity matrix, which may be computed efficiently by sampling a small number of matrix columns (the Nystr?m method). We demonstrate the benefits of using diffusion distances in a variety of image editing contexts, and explore the use of diffusion maps as a tool for facilitating the creation of complex selection masks. Finally, we present a new analysis that establishes a connection between the spatial interaction range between two pixels, and the number of samples necessary for accurate Nystr?m approximations. Keywords: diffusion maps, edge-preserving smoothing, edgeaware interpolation, edit propagation, Nystr?m method\n    \n    \n      \n        1 Introduction\n      \n      Edge-aware operations, such as edge-preserving smoothing and edge-aware interpolation have recently emerged as useful tools for a variety of image editing and manipulation tasks: edge-preserving smoothing operators are widely used to extract and/or remove details from an image, e.g., [Chen et al. 2007; Farbman et al. 2008; Subr et al. 2009]; edge-aware interpolation makes it possible to propagate a set of sparse user-specified constraints (edits) in an intuitive manner by accounting for strong edges in the image, e.g., [Levin et al. 2004; Lischinski et al. 2006; Yatziv and Sapiro 2006; Li et al. 2008]. Most edge-aware interpolation approaches are based on local propagation of sparse user constraints. They use affinities between adjacent pixels to formulate and solve an optimization problem [Levin et al. 2004], or to perform blending using intrinsic (geodesic) distances [Yatziv and Sapiro 2006]. While such approaches provide the user with good local control, they have difficulty propagating sparse edits across strongly textured regions ( Figure 1 , top row), and can?t handle fragmented regions. Several solutions have been recently proposed to address these issues. In particular, the global all-pairs approach [An and Pellacini 2008] was demonstrated to be well-suited for propagating sparse (and possibly rough) user edits to large spatial neighborhoods. We discuss all these approaches in more detail in the next section. In this work we improve the performance of existing edge-aware\n      \n        ACM Reference Format\n      \n      Farbman, Z., Fattal, R., Lischinski, D. 2010. Diffusion Maps for Edge-Aware Image Editing. ACM Trans. Graph. 29, 6, Article 145 (December 2010), 10 pages. DOI = 10.1145/1866158.1866171 http://doi.acm.org/10.1145/1866158.1866171.\n      \n        Copyright Notice\n      \n      Permission to make digital or hard copies of part or all of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for profit or direct commercial advantage and that copies show this notice on the fi rst page or initial screen of a display along with the full citation. Copyrights for components of this work owned by others than ACM must be honored. Abstracting with credit is permitted. To copy otherwise, to republish, to post on servers, to redistribute to lists, or to use any component of this work in other works requires prior specific permission and/or a fee. Permissions may be requested from Publications Dept., ACM, Inc., 2 Penn Plaza, Suite 701, New York, NY 10121-0701, fax +1 (212) 869-0481, or permissions@acm.org . ? 2010 ACM 0730-0301/2010/12-ART145 $10.00 DOI 10.1145/1866158.1866171 http://doi.acm.org/10.1145/1866158.1866171\n      Dani Lischinski The Hebrew University\n      \n        \n      \n      input + scribbles mask result\n      \n        \n      \n      ? 1 = 0.98 ? 1 = 0.88 ? 1 = 0.77\n      \n        \n      \n      mask (t = 2) mask (t = 16) result (t = 16)\n      \n        Figure 1: Color editing using local edit propagation.\n      \n      Top row: input, influence mask for the white scribble (using Lischinski et al. [2006]), and the corresponding result. Middle row: three leading eigenvectors of the diffusion map. Bottom row: masks produced using diffusion distances with different values of t, and final result.\n      methods and extend them in several respects. We observe that some of the difficulties encountered by existing local propagation methods stem from the fact that the affinities they use are typically given by a simple monotonic function of the Euclidean distance between the low-level feature vectors associated with each pixel. This measure of similarity does not account for any higher level structure, which becomes apparent when one examines the distribution of pixel values in their feature space. We propose to address this shortcoming, and provide pairwise affinities with the missing global perspective, by leveraging the concept of diffusion distances, which has recently emerged in the spectral clustering literature [Coifman and Lafon 2006].  In natural images, where the number of distinct homogeneous regions is typically much smaller than the number of pixels, diffusion distances may be effectively approximated using a small number of diffusion maps: the eigenvectors of the pairwise affinities matrix ( Figure 1 , middle row). These maps, described in more detail in Section 3, also make it easy to compute diffusion distances corresponding to different times, providing an important parameter with which the user can control the desired amount of propagation (Figure 1, bottom row). In Section 4, we explore the benefits of using diffusion distances in a variety of edge-aware image editing contexts, and also demonstrate that diffusion maps facilitate the creation of complex edgeaware selection masks in images containing textured regions with fuzzy and/or fragmented appearance. Diffusion maps may be effectively approximated using a Nystr?m method [Fowlkes et al. 2004]. This approach involves sampling a small number of columns of the (low rank) affinity matrix. A similar approximation was used by An and Pellacini [2008] in order to solve the associated dense linear system that arises in their all-pairs approach. However, limiting the spatial range of permitted interactions between pixels raises the rank of the affinity matrix, and renders the approximation less accurate. In Section 5 we refine the analysis of An and Pellacini to obtain a more accurate estimate of the rank of the affinity matrix, as a function of the maximum distance in the image at which pixels are allowed to interact directly. The refined analysis enables one to determine the appropriate number of matrix columns to sample, in order to guarantee an accurate Nystr?m approximation. Our analysis also shows that even with the increased sampling rates, the resulting matrices are sparse and thus can be solved efficiently using standard sparse linear solvers. This makes it possible to perform edge-aware image editing with an arbitrary permitted interaction range.\n      ACM Transactions on Graphics, Vol. 29, No. 6, Article 145, Publication date: December 2010.\n      145:2\n      ?\n      Z. Farbman et al.\n      \n        2 Previous Work\n        Edge-aware interpolation. A number of techniques for edgeaware interpolation have been recently explored. Levin et al. [2004] introduced an optimization framework for colorizing grayscale images by propagation from a set of sparse user-provided constraints. This approach was generalized to other tonal manipulations [Lischinski et al. 2006], as well as to natural image matting [Levin et al. 2008a]. Yatziv and Sapiro [2006] propagate similar constraints by intrinsic (geodesic) distance based blending. All of the techniques above rely on gradients between adjacent pixels to control propagation, and thus have trouble propagating information in highly textured regions, as well as preventing propagation across low-contrast edges. Handling fragmented (disconnected) regions is another problem, since they might require many constraints to be provided by the user. An and Pellacini [2008] generalized optimization-based edit propagation to consider interactions between all pairs of pixels in the image, enabling less precise specification of user constraints and their propagation across disconnected regions. This approach results in a large dense affinity matrix, but this matrix is approximately low-rank, and can be approximated by sampling just a small number of columns (Nystr?m method) [Williams and Seeger 2000]. Xu et al. [2009] have recently proposed to accelerate the all-pairs approach further by computing the propagation between pairs of clusters in feature space, rather than between pairs of pixels. An and Pellacini?s error analysis shows that the Nystr?m approximation becomes less accurate as the spatial range of the interactions is decreased. However, since their goal is to enable edit propagation to rather large spatial neighborhood, they were able to achieve satisfactory results using a constant number of samples (100). In our work we also apply the Nystr?m method to a related eigenvalue problem [Fowlkes et al. 2004], and present a refined error analysis that more precisely quantifies the effective rank of the affinity matrix as a function of the spatial interaction range, enabling us to generalize the all-pairs approach to handle arbitrary interaction ranges accurately and efficiently. ScribbleBoost [Li et al. 2008] is another approach that improves propagation across textured or fragmented regions. The user?s scribbles are used to perform supervised classification of the pixels, and the results are introduced into the optimization as additional soft constraints. A selection mask is then computed by solving the linear system once for each scribble type. While our idea of using diffusion distances also leverages machine learning techniques, we effectively perform unsupervised clustering, which considers all of the data in the image, rather than just the pixels covered by a particular set of strokes. Furthermore, the resulting diffusion distances are useful in such applications as edge-preserving smoothing, where no user input is available.  Edge-preserving smoothing. Edge-preserving smoothing is used in a wide variety of computational photography applications [Farbman et al. 2008]. Popular edge-preserving smoothing filters include the bilateral filter [Tomasi and Manduchi 1998], for which a number of efficient implementations have been proposed [Durand and Dorsey 2002; Paris and Durand 2006; Chen et al. 2007]. Fattal [2007] explored a fast iterative multiscale variant of the bilateral filter, while Farbman et al. [2008] advocated the use of weighted least squares optimization instead. Recently, Fattal [2009] introduced edge-avoiding wavelets, and demonstrated their usefulness for very fast edge-preserving smoothing, as well as for edge-aware editing. These techniques can also be applied to edit propagation, via interactive painting with edge-aware brushes [Chen et al. 2007], or by fast edge-aware pushing and pulling of the sparse constraints [Fattal 2009]. All of the techniques mentioned above rely on the difference between pixel values (difference in luminance, or Euclidean distance in some color space). Thus, we argue that they could all benefit from using diffusion distances instead, and support our claim by a number of examples in Section 4. Anisotropic diffusion [Perona and Malik 1990; Black et al. 1998] is another popular approach for edge-preserving smoothing via nonlinear PDE-based filtering. Although our work employes similar terminology (i.e., diffusion and time), our focus is on the unsupervised preconditioning of the data, independent of a particular smoothing or propagation scheme. Although not explored in this paper, one could conceivably use the resulting diffusion distances in the computation of the edge-stopping term of various anisotropic diffusion schemes. Subr et al. [2009] have recently proposed an edge-preserving smoothing approach based on identifying and fitting envelopes to local extrema in the image. This approach effectively assumes an oscillatory model of textured regions, and succeeds in removing detail even in high-contrast textured regions. While our approach does not make use of such a texture model, we show that by plugging diffusion distances into an existing edge-preserving smoothing approach it becomes possible to remove detail just as effectively. The scale of the details to be removed may be controlled via the time parameter, which is built into the diffusion distances that we use. Clustering. Diffusion maps have emerged in the machine learning community as a tool for dimensionality reduction and unsupervised clustering [Coifman and Lafon 2006; Nadler et al. 2005; Singer et al. 2009]. This tool belongs to a larger family of spectral clustering techniques, which includes other closely related methods, such as locally-linear embeddings (LLE) [Roweis and Saul 2000], Isomaps [Tenenbaum et al. 2000], and Laplacian eigenmaps [Belkin and Niyogi 2003]. In particular, spectral clustering methods have been used to perform hard (binary) segmentation [Shi and Malik 1997; Weiss 1999] by thresholding the eigenvectors of suitably formed matrices. Meila and Shi [2001] pointed out the connection between these methods and Markov random walks. Diffusion distances also have a random walker interpretation (Section 3.1). However, in contrast to these methods, we are not interested in hard segmentation, but rather in deriving new distances to assist in edgeaware interpolation and smoothing. The use of random walks for segmentation was also explored by Grady [2006]. His formulation yields a linear system defined by an inhomogeneous Laplacian matrix, similar to the ones that arise in optimization-based edit propagation. Recently Grady suggested to accelerate his segmentation approach by precomputing a small number (40?80) of eigenvectors [Grady and Sinop 2008]. However, since his random walker formulation considers only limited spatial neighborhoods, our analysis in Section 5 implies that such an approximation is only accurate for small images. Spectral clustering has also been used for natural image matting [Levin et al. 2008b], where the eigenvectors of a suitable Laplacian matrix are rotated and combined together to yield a soft matte. We also compute eigenvectors, but use them in order to define robust distances between pairs of image pixels. Another family of relevant works from the computer vision literature are path-based clustering methods, which examine the distribution of the data in some (typically high-dimensional) feature space, e.g., [Fischer and Buhmann 2003; Chang and Yeung 2008]. In particular, Omer and Werman [2006] measure the affinity between pixels in terms of the length and the density of the paths connecting them in color space. All of these methods, however, are very costly to compute. Diffusion distances also account for length and density of paths in the data, but lend themselves to faster computation. In addition, diffusion maps have a built-in notion of time, which makes it possible to control the granularity (scale) of the clusters in an efficient and intuitive manner.\n        ACM Transactions on Graphics, Vol. 29, No. 6, Article 145, Publication date: December 2010.\n        Diffusion Maps for Edge-Aware Image Editing\n        ?\n        145:3\n      \n      \n        3 Diffusion Maps\n        In this section we present our approach towards edge-aware image editing, which is based on the use of diffusion distances in place of the distances typically used by existing edge-aware methods. Existing edge-aware methods rely on a pairwise similarity (affinity) measure between image pixels. The affinities used in practice are typically a monotonic function of the distance between the pixels in some simple feature space, for example:\n        \n          1\n          ? 2 2\n        \n        \n          1\n          k(x i , x j ) = exp(? x i x j /2? r ),\n        \n        where x i is the feature vector associated with the i-th pixel, e.g., its luminance or log-luminance, its coordinates in some color space, or a concatenation of color and spatial coordinates. Intuitively, the affinity between two pixels predicts the likelihood that both pixels belong to the same surface/region in the image. Edge-preserving smoothing techniques allow groups of pixels with high affinities between them to be averaged together, and edge-aware editing systems allow edits to propagate between pairs of pixels with high affinity. Thus, existing edge-aware methods are driven by the Euclidean distances between feature vectors corresponding to the pixels in the image. The shortcomings of this approach are that it might (i) fail to distinguish between regions separated by a low contrast edge; and (ii) fail to cluster together pixels in highly textured regions, which may exhibit strong differences between nearby pixels. While it is possible to discriminate between textures by augmenting the feature vectors with texture descriptors such as responses to Gabor filter banks [Turner 1986] or histograms of such responses [Malik et al. 2001], these descriptors aggregate information from a fairly large window around each pixel, and thus effectively operate at a lower spatial resolution. We argue that pairwise distances among the data points provide only partial (and sometimes misleading) information about the manner in which pixels should be clustered. Additional highly relevant information may be obtained by examining the actual distribution of the data in the feature space. Consider, for example, the image shown in Figure 2 . The distribution of the pixel colors in this image is highly non-uniform, and clearly exhibits three distinct clusters corresponding to the blue sky region, the red flowers, and the green grass. While the pairwise distances in the color space between the red and the green pixels are of the same order of magnitude as those between red and blue (or green and blue), the distribution reveals that the transition between the red and the green clusters is much more densely populated than the red-blue or green-blue transitions. This corresponds to our intuition that in the coarsest possible clustering of this image the green and red should go into one cluster, while the blue into another. Thus, we would like pixel affinities to account for the actual distribution of the data in the feature space. Intuitively, the likelihood of two data points to belong to the same cluster should depend on the lengths and the density of the different paths between them. This may be achieved by replacing the Euclidean distances with diffusion distances, a concept that was recently proposed for dimensionality reduction and clustering [Coifman and Lafon 2006; Nadler et al. 2005], which we describe in more detail below.\n        Definitions. Given a set of n data points, . . , x n in some feature space, we define a pairwise affinity matrix , where\n        Definitions. Given a set of n data points, space, we define a pairwise affinity matrix\n        \n          2\n          W i, j j\n        \n        \n          3.1 Definitions. Diffusion Given distances a set of n data and points, diffusion . . maps , x in some feature space, we define a pairwise affinity matrix x 1 , . , where W = k(x i , x ) (2) ?).\n          for some affinity function k(?, Let D be a diagonal normalization matrix D i,i = ? j W i, j . The normalized matrix M = D ?1 W can be interpreted as a stochastic matrix, where M i, j is the probability of a random walker located at point x i to transition to point x j in a single time step. Consequently, M t consists of the probabilities to move from each point to another in t time steps. Informally, for each t, we can associate M t with a ?soft? clustering of the data points: a subset of points is considered a cluster if there is a low probability of a random walker starting from a points in this subset to end up outside it after t moves. In general, these clusters tend to become coarser as t increases. Diffusion distance. There is an interesting relationship between the geometry of the data and the spectral properties of M, captured by the notion of diffusion distances [Nadler et al. 2005]. The diffusion distance D t (x i , x j ) is defined as difference between the probabilities that a random walker starting at each of these two points will end up in the same position at time t. Formally,\n          \n            3\n            D t 2 (x, y) = ? (p(t, z|x) ? p(t, z|y)) 2 w(z), z\n          \n          where p(t, z|x) is the probability of a random walker to transition from x to z in t time steps, and w(z) is the reciprocal of the local density at z. Intuitively, the more short paths connect two points, the smaller the diffusion distance between them. Note that (3) defines a family of diffusion distances parameterized by the time t. As t increases, two points that were originally distant from each other may grow closer. Diffusion map. It may be shown that M has a set of n real eigenvalues {? i } n?1 0 . Furthermore, if all the points are connected (i.e., there is a path of non-zero probability between any two points), then M has a unique eigenvalue equal to 1, and the other eigenvalues form a non-increasing sequence of non-negative numbers: ? 0 = 1 > ? 1 ? ? 2 ? ? ? ? ? ? n?1 ? 0. Denoting by ? 0 , . . . , ? n?1 the corresponding right eigenvectors of M, the diffusion map at time t is defined as a mapping between the original data points and the eigenvectors (each scaled by its corresponding eigenvalue):\n          \n            4\n            t t t\n          \n          \n            4\n            ? t (x) = ? 1 ? 1 (x), ? 2 ? 2 (x), . . . , ? n?1 ? n?1 (x) .\n          \n          Note that the eigenvector ? 0 does not participate in the diffusion map, since it is constant and thus does not contribute any discriminating information. As shown by Nadler et al. [2005], the diffusion distances at time t may be expressed simply as Euclidean distances in the corresponding diffusion map:\n          \n            5\n            D t (x, y) = ? t (x) ? ? t (y) 2 .\n          \n          In other words, the diffusion distance between two points is simply the sum of squared differences between the corresponding entries of the eigenvectors ? i , where each eigenvector is weighted by ? i t . In practice, the matrix M often exhibits a spectral gap, i.e., only a few of its eigenvalues are close to one, while the rest are much\n          ACM Transactions on Graphics, Vol. 29, No. 6, Article 145, Publication date: December 2010.\n          145:4\n          ?\n          Z. Farbman et al.\n          \n            \n          \n          ? 1 , ? 1 =\n          \n            \n          \n          example image 40 20\n          \n            \n          \n          ? 2 , ? 2 =\n          0 b ?20 ?40 ?60 60 50 40 30 20 10 0 ?10 ?20 20 40 60 80 a L\n          \n            \n          \n          pixels in LAB space ? 3 , ? 3 =\n          \n            Figure 2: Left: highly non-uniform distribution of pixel colors in an image. Middle: the three leading eigenvectors of the normalized pairwise affinity matrix reveal the dominant clusters. Right: gradients computed using diffusion distances at different times.\n          \n          smaller. Thus, the diffusion distance is well approximated by a diffusion map constructed from the first k eigenvectors, with the accuracy of the approximation increasing with the time t. As discussed in Section 5, the value of k depends on the spatial support of the affinity kernel. Example. Figure 2 shows a visualization of the first three eigenvectors produced from the input image. Note that the first eigenvector ? 1 roughly clusters the image into two main regions (corresponding to sky and ground), ? 2 mainly distinguishes the red flowers from everything else, while ? 3 sets apart the white clouds from everything else. The next eigenvectors (not shown), corresponding to smaller eigenvalues further separate between progressively smaller regions in the image. Since all eigenvalues are strictly smaller than 1, increasing the value of the time parameter t gives more weight to the ?coarser? eigenvectors. Thus, diffusion distances corresponding to higher values of t emphasize edges separating between the coarser clusters, while suppressing those that separate smaller scale image regions. In the Section 4 we demonstrate the usefulness of diffusion distances by plugging them in place of regular pairwise distances in several edge-aware operations.\n        \n        \n          3.2 Efficient implementation\n          A possible concern regarding the use of diffusion distances in practice is the added computational cost. Specifically, a naive implementation would involve forming the all-pairs normalized affinity matrix M = D ?1 W and then computing the leading eigenvalues and eigenvectors of this matrix in order to form the diffusion maps. This is impractical for working with high-resolution images. In order to make the approach practical we use the approximation proposed by Fowlkes et al. [2004], which is based on the Nystr?m method. The Nystr?m approximation method proceeds as follows. Given\n          0.998\n          t = 256\n          0.968\n          t = 64\n          0.908\n          t = 16\n          an image with N pixels, distribute a small number m of samples across the image. Next, compute two matrices: an m ? m matrix A, which consists of the pairwise affinities among the m samples, and an (N ?m)?m matrix B, of the affinities between these samples and the rest of the image. This corresponds to partitioning the complete N ? N affinity matrix W as:\n          \n            6\n            A B T W = B C\n          \n          Note that the block C, which contains the bulk of the pairwise affinities is never actually computed. The approximate eigenvectors V of W are then given as\n          \n            7\n            V V = B V ? ?1 ,\n          \n          where V are the eigenvectors of A, and ? is the corresponding diagonal eigenvalue matrix. Intuitively, we compute the eigenvalues and eigenvectors of the sampled matrix A, and use B to ?upsample? these vectors to the full resolution of the original problem. This approximation yields the eigenvectors of W , while the diffusion map consists of the eigenvectors of M = D ?1 W , where D i,i = ? j W i j . Fowlkes et al. [2004] show how to approximate these row sums using only A and B, and we refer the reader to their article for further details, and the pseudocode of the complete procedure. Thus, a practical method for computing the diffusion maps involves sampling the image. In Section 5 we show that, for a given accuracy, the number of samples depends on N/? 2 , where ? is the pairwise interaction range between pixels. Therefore, if the affinity matrix allows all pairs of pixels to interact, a constant number of samples will suffice. The exact number depends on the image at hand, since the reduced matrix should ideally represent the main\n          ACM Transactions on Graphics, Vol. 29, No. 6, Article 145, Publication date: December 2010.\n          Diffusion Maps for Edge-Aware Image Editing\n          ?\n          145:5\n          \n            \n            Figure 3:\n          \n          Local edit propagation. Top: input with scribbles and result using ordinary distances (middle) and diffusion distances (right), computed with spatial coordinates (t = 16). Bottom: The corresponding influence maps for the green scribble.\n          distinct regions present in the image. The samples are placed using stratified sampling of the image, as was also done by An and Pellacini [2008]. The following times (in seconds) were measured 1 when constructing a diffusion map with 7 eigenvectors for different image sizes and numbers of samples:\n          0.5 MP 0.75 MP 1 MP 1.5 MP 2 MP 10 samples 0.58 0.58 0.79 1.12 1.53 30 samples 1.24 1.82 2.46 3.57 4.84 60 samples 2.44 3.66 4.95 7.20 9.75\n        \n      \n      \n        4 Experimental Validation\n        In order to evaluate the practical benefits of using diffusion distances in place of regular pairwise distances between the original data points, we experimented with a variety of common edge-aware operators. For each operator we compare its performance with and without the use of diffusion distances. Note that it is not our intention to demonstrate that one is able to achieve perfect results simply by switching to diffusion distances, nor do we claim that similar results could not have been achieved in any other way. Rather, we aim to show that there are practical scenarios where state-of-theart methods perform better with diffusion distances, given the same input.  We experimented with a number of color spaces when computing the affinity matrices, and for all the results shown in this paper we use the CIELAB color space (normalized such that the L channel range is [0, 1]). The affinities are defined by the Gaussian kernel (1) with ? r 2 = 0.1 for edge-preserving interpolation and smoothing, and ? r 2 = 0.25 for matting. We have also experimented with a number of different feature vectors. Using the pixel colors along with spatial coordinates is an attractive option, since it typically yields good results. However, it reduces the spatial interaction range between pixels, and therefore requires using more Nystr?m samples to compute the diffusion map, as shown in Section 5. For that reason, in all of our results except Figures 3 and 9, we use only the color at each pixel (no spatial attenuation), and compute diffusion maps using 30 samples. Our attempts to enrich the feature vectors with simple texture descriptors (such as Gabor filter banks), were not successful so far and this is left as a possible direction for a future work. Throughout this section, for each result using the diffusion distances we report the value of t which we used. Possible strategies for setting this parameter are discussed in Section 6.\n        1 Using C++ and Matlab on a 2.8 GHz Intel Core 2 Duo processor.\n        \n          \n          Figure 4: WLS edge-preserving smoothing. Top: input and smoothing (? = 10) using color gradients (middle) and diffusion distances (left, t = 4). Bottom: results after local contrast adjustments.\n        \n        \n          \n        \n        input image [Subr et al. 2009] WLS with diffusion\n        \n          Figure 5: A comparison with the method of Subr et al. [2009].\n        \n        Local edit propagation. Figure 1 demonstrates the performance of diffusion distances in the context of local edit propagation from sparse user constraints by plugging these distances into the optimization-based approach described by Lischinski et al. [2006]. The goal is to apply a warming filter to the city buildings and a cooling filter in the sky and water regions using minimal user input. This is a challenging task, due to the many very high-contrast transitions between the buildings. Indeed, the original method fails to propagate the yellow scribble to capture the entire region of interest. When using diffusion distances with t = 2 the result is slightly better, but increasing the time to t = 16 nicely captures the target area, and produces a significantly better result. In Figure 3 the goal is to change the hues of two adjacent strongly textured regions. Although the two regions appear quite distinct to a human observer, selecting each of them using state-of-the-art commercial tools proved to require a substantial amount of user interaction. Using again the method of Lischinski et al. [2006] we were not able to obtain a satisfactory result with a sparse set of scribbles, since the gradients between the two regions and inside each region are of the same order of magnitude. Switching to diffusion maps constructed using the color at each pixel only produced a similar unsatisfactory result. However, by adding the spatial coordinates to the feature vectors and feeding the resulting diffusion distances into the same method, we were able to produce a more satisfactory result. The supplementary material contains additional local editing results, as well as examples of using diffusion distance in the context of the distance-based blending approach of Yatziv and Sapiro [2006]. Similar improvements in propagation may be observed there as well. In practice, scribble-based editing is intended for an iterative interactive workflow, where the user is able to add or remove scribbles until a satisfactory result is achieved. With sufficient amount of user input it is obviously possible to achieve results that are identical or better than those that we have shown. Thus, the practical advantage of using diffusion distances in this context lies in reducing the amount of necessary user input. Edge-preserving smoothing. Figure 4 compares the results of filtering an image with the WLS edge-preserving smoothing operator [Farbman et al. 2008] with and without the use of diffusion distances. This example contains textures with high gradients on the buildings in the background. The WLS operator controls the degree of smoothing via a parameter ? . When the value of ? is chosen so as to remove most of the texture form the building, this results in faded edges between the buildings and the sky (top middle image). Such contrast reduction is undesirable for applications such as image abstraction. When the same operator uses diffusion distances, the contrast of these edges is better preserved (top right). The bottom row shows what happens when the removed texture detail is amplified and added back in (local contrast boost). It may be seen that the detail on the buildings is boosted in a much more uniform manner on the right. Figure 5 shows a comparison between a result produced by the method recently proposed by Subr et al. [2009], and the result of edge-preserving filtering with WLS using diffusion distances. Subr et al. first search for the local extrema in the image, and then fit a lower and an upper envelope to these extrema by solving a linear system twice. It may be seen that WLS with diffusion distances is able to remove the small scale detail on the vase just as effectively, while avoiding the costs of non-linear filtering or solving multiple linear systems. Both methods are still unable to smooth out coarser texture and leave room for future work. Matting. We also experimented with incorporating the diffusion distance into matting method by Levin et al. [2008a]. Unlike many matting algorithms that assume a tight trimap, this method also admits sparse user scribbles indicating background and foreground, which are propagated over the image to yield an alpha matte. We have modified the authors? original code to use diffusion coordinates instead of colors when constructing the matting Laplacian. Figure 6 shows an example where the modified method produces a matte that is closer to the ground truth than the original method. As with local image editing, we found that fewer scribbles are necessary to produce an accurate matte with diffusion distances in the presence of textured regions. To further evaluate the matting performance, we also ran the benchmark suggested in [Rhemann et al. 2009], but we did not see any significant increase in quantitative accuracy. This can be explained by the fact that this benchmark uses tight trimaps; thus, the ability of diffusion distances to propagate across textured regions does not play a significant role. When the input trimap is loose, the visual accuracy of the diffusion-based mattes is sometimes better (see the supplementary materials).\n        ACM Transactions on Graphics, Vol. 29, No. 6, Article 145, Publication date: December 2010.\n        145:6\n        ?\n        Z. Farbman et al.\n        \n          \n          Figure 6: Closed form matting with diffusion distances. Top: input and ground truth. Bottom: corresponding results without (left) and with diffusion distances (right, t = 2).\n        \n        \n          4.1 Fuzzy Selection with Diffusion Maps\n          In local edit propagation, a particular adjustment is propagated and applied to all the pixels within a contiguous region indicated by the  user. However, in complex fragmented regions one might want to apply a different adjustment to different parts of the region. For example, in Figure 7 , modifying the color of the soil and the bushes independently is difficult to accomplish using scribble-based local propagation. An experienced Photoshop user might prefer first to create a mask separating the ground from the sky, and then use color range selection tools to further separate the ground to reds and greens. Here we demonstrate that having diffusion maps under the hood can also be useful for quickly obtaining similar fuzzy masks. Recall that diffusion maps consist of the dominant eigenvectors of the all-pairs affinity matrix, which discriminate between the dominant modes in the data at various scales. Each eigenvector consists of positive and negative values (shown in shades of red and blue in Figures 1 and 2), with the transitions between negative and positive regions corresponding to transitions between clusters. Thus, our idea is that given a scribble drawn by the user we first identify which of the eigenvectors in the diffusion map ?responds? most strongly to this scribble by measuring the variance of each eigenvector in the pixels covered by the scribble. Having found such an eigenvector we use it to produce a mask that captures either the positive or the negative regions of this eigenvector. Formally, given a user scribble S we first search for the eigenvector ? i which exhibits the highest variance in the area covered by the scribble:\n          \n            8\n            arg max Var {? ? (x)} .\n          \n          \n            8\n            i i x?S i\n          \n          We then use this eigenvector to define two masks, for the areas where the eigenvector is positive and negative, respectively:\n          \n            9\n            M + = exp(? i ) a and M ? = 1 ? M + ? i exp(? i ) a + exp(?? i ) a ? i ? i\n          \n          where the parameter a enables the user to control the hardness of the masks (a < 1 makes the masks softer, while a > 1 makes them harder). Note that the masks are normalized such that their sum at every pixel is 1. It is often the case that the first eigenvector ? 1 effectively partitions the image into two main regions (e.g., ground and sky, as seen in Figures 1 and 2). Thus, if the scribble S is contained in one of these two regions, we assume that it is the user?s intent to apply the manipulation only inside the containing region. In this case, we also define an attenuation mask:\n          \n            10\n            M ? + 1 ? x?S ?(x) > 0 M att = M ? ? 1 ? x?S < 0\n          \n          The final mask used to edit the image is then given by the product of one of the masks M ? + i or M ? + i with the attenuation mask M att . The process is demonstrated in Figure 7 . The user first draws a scribble across the boundary between the two main regions in the image (sky and ground). The first eigenvector responds most strongly to this scribble, yielding a mask distinguishing between the two regions, and the user is able to boost the local contrasts in the sky without significant effect elsewhere. The next scribble is drawn across the ground region, and the eigenvector that responds most strongly discriminates between the red soil and the green vegetation. The user uses one of the two resulting masks (M + in this ? 2 case) to change the hue and saturation of the soil, and its complement (M + ) to make the vegetation more green, using a different ? 2 hue/saturation adjustment. Here, attenuating by the mask of the first eigenvector helps confine the edit to the ground region (the figure shows the attenuated mask M att M ? + 2 ). Finally, a scribble across the sky produces a mask that discriminates between the blue sky and the white clouds, enabling the user to deepen the color of the sky. Again, the edits are attenuated to apply only in the sky region, yielding the final result.\n          ACM Transactions on Graphics, Vol. 29, No. 6, Article 145, Publication date: December 2010.\n          Diffusion Maps for Edge-Aware Image Editing\n          ?\n          145:7\n          \n            \n          \n          input image mask 1 result 1 mask 2\n          \n            Figure 7: Red Canyon State Park, Utah. Each scribble produces a corresponding mask by selecting from the diffusion map the eigenvector with the highest variance under the scribble. The 2nd and 3rd masks are attenuated by the first eigenvector.\n          \n        \n      \n      \n        5 Analysis\n        The optimization-based edit propagation operators explored so far in the literature may be grouped into two main classes, based on the spatial range of the interactions that they explicitly account for. One class corresponds to short-range/local interactions, while the other to long-range/global (all-pairs) interactions. Below, we review the methods used for solving the edit propagation problem in each of these two cases, and conclude that these methods are not well suited for handling middle-range interactions. However, a careful spectral analysis of the corresponding affinity matrices leads naturally to a hybrid solution method that makes it possible to handle this intermediate case, both accurately and efficiently. Interaction range. Optimization-based edge-aware edit propagation methods solve a linear system of the form Lx = b, where L = D ?W is a non-homogeneous Laplacian matrix, W is an affinity matrix, such as the one defined in eq. (2), and D is a diagonal matrix given by D i,i = ? j W i, j . Let us define the spatial interaction range ? as the radius (in pixels) beyond which the pairwise affinity between two pixels in the image falls below some threshold ?. For example, the 5-point inhomogeneous Laplacian operator used in [Lischinski et al. 2006; Farbman et al. 2008] corresponds to ? = 1. Levin et al. [2004; 2008a] use a slightly larger (but still constant) interaction range, while the all-pairs approach [An and Pellacini 2008] uses an interaction range ? = O(n), where n is the dimension (width or height) of the image. The interaction range ? determines the manner in which sparse edits may propagate across the image. When ? is a small constant, edits propagate well within smooth contiguous image regions, but the propagation is blocked by strong edges in the image, so fragmented or strongly textured regions cannot be handled. At the other extreme, when ? = O(n), edits are allowed to propagate between regions of similar attributes, even if these regions are distant and completely separated by regions with very different color attributes. If one is interested in being able to handle fragmented regions, while at the same time having the flexibility of local control, using an intermediate interaction range 1 ? n might provide the answer. However, as we shall see below, in the latter case it is not clear how the resulting systems of linear equations can be efficiently computed and solved in practice. Existing approaches. Let us review the solution methods that are commonly used to handle the two extreme cases. The case of sparse Laplacian matrices has been studied extensively in the numerical computing literature, since such matrices are used for approximating differential operators. It is well known [Trottenberg et al. 2001] that such matrices have a condition number that grows as a function of n 2 , and their eigenvectors correspond to modes with variations at different scales (Fourier modes at different wavelengths). There-\n        result 2 mask 3 result 3\n        fore, such matrices are treated with multi-scale preconditioners that capture and rescale these modes, such as the geometric Multigrid method [Trottenberg et al. 2001], or conjugate gradient with hierarchical basis preconditioning [Szeliski 1990]. Non-homogeneous sparse matrices can be solved using operatordependent Multigrid, Algebraic Multigrid [Trottenberg et al. 2001] in O(N) time, where N is the dimension of the matrix (N = n 2 ), or using the locally-adapted hierarchical basis preconditioner of Szeliski [2006]. Recently, several works showed that the actions performed by these non-homogeneous Laplacian systems can be approximated efficiently without explicitly constructing, preconditioning, and solving the full-resolution linear system [Kopf et al. 2007; Fattal 2009]. In contrast, the global all-pairs Laplacians behave differently: they are dense and hence linear relaxations such as Gauss-Seidel or conjugate gradient become prohibitively expensive, since each matrixvector multiplication costs O(N 2 ). In natural images, which typically consist of a limited number of regions, each containing a large number of pixels with similar attributes, the affinity matrix W is close to low rank. An and Pellacini [2008] exploit this observation, and use the Nystr?m method [Williams and Seeger 2000], to first drastically reduce the dimensionality of the matrix and then solve the associated Laplacian in its reduced form, using the Woodbury formula [Golub and Van Loan 1998]. The total cost of this approach is O(m 2 N), where m is the (small) number of samples. To summarize the discussion so far, a variety of efficient and accurate solutions exist for the two extreme cases of either very sparse or fully dense inhomogeneous Laplacians. These solutions are practically linear in the number of pixels N. However, these solutions are not well suited for the intermediate case of 1 ? n, since the corresponding affinity matrices are neither sufficiently sparse, nor sufficiently rank-deficient [An and Pellacini 2008]. Rank vs. interaction range. In order to propose an effective solution for these intermediate cases, let us first examine the manner in which the rank of the affinity matrix W depends on ?. The top right plot in Figure 8 shows several spectra of normalized Gaussian affinity matrices corresponding to increasing values of ? s (and hence increasing values of ?). Note that for short interaction ranges, most eigenvalues are non-negligible, but their number indeed decreases as ? s becomes larger. Plotting the numerical rank as a function of N/? 2 ( Figure 8 , bottom left) reveals that as ? gets smaller, the rank grows approximately as N/? 2 . In the spatially-homogeneous case (a constant, or very smooth image), this empirical result can be verified formally by noticing that W is a circulant matrix that corresponds to convolution with the affinity kernel, e.g., exp(? r 2 /? s 2 ). In this case, the eigenvalues\n        ACM Transactions on Graphics, Vol. 29, No. 6, Article 145, Publication date: December 2010.\n        145:8\n        ?\n        Z. Farbman et al.\n        1 = 1.00 s = 1.41 s = 2.00 s = 4.00 s = 11.31 0.5 s\n        \n          \n          \n        \n        0 0 5000 10000 15000 0.8 9000 using 100 samples using N/ 2 samples 0.6\n        6000 Rank Error 0.4 3000 0.2\n        \n          \n        \n        0 0 0 3000 6000 9000 100 80 60 40 20 N/ 2 Spatial range ( )\n        \n          Figure 8: Top left: an image from which several test windows with different amounts of detail were chosen. Top right: eigenvalues of affinity matrices for one of these regions. Bottom left: the effective rank as a function of N/? 2 averaged over 70 randomly chosen 96 ?\n        \n        96 test windows (in blue). The red line starts at a constant value on the left and grows to full rank linearly in N/? 2 , indicating our proposed sampling strategy. Bottom right: Nystr?m approximation error as a function of ? for different sampling strategies, measured for one of the windows. ? k of W are given (up to scale) by [Oppenheim and Schafer 1975]\n        \n          11\n          ? k ? exp(?? s 2 k 2 (2?/n) 2 ),\n        \n        where k are the indices in the Fourier domain. Thus, the number of eigenvalues of W above some fixed threshold ? is proportional to the number of different k?s that satisfy:\n        \n          12\n          exp(?? s 2 k 2 (2?/n) 2 ) > ?,\n        \n        \n          13\n          ?? s 2 k 2 (2?/n) 2 > log(?),\n        \n        \n          14\n          k 2 < ? log(?) ? n 2 . 4? 2 ? s 2\n        \n        In two dimensions these are all the k?s that fall inside a circle whose radius is proportional to n/? s , and substituting ? s = ? and N = n 2 we obtain that the rank of W is O(N/? 2 ). In the non-homogeneous case, if the image has c clusters (c smooth regions), the affinity matrix W is approximately block-diagonal [Weiss 1999], with c blocks, each corresponding to a different cluster. The homogeneous analysis then applies to each block once ? becomes sufficiently small, and thus the overall rank of W grows, like before, as O(N/? 2 ). The actual rank growth over individual test windows depends on their contents. In extremely cluttered/textured windows, the growth is more concave for large values of ?. Specifically, the actual slopes of the curves of the different test windows on the left end of the plot (large ?) are between 0.85 and 6.39, while on the right end of the plot (approaching ? = 1) the slopes are between 0.82 and 0.93. To summarize, the affinity matrices for 1 ? ? ? n case have rank O(N/? 2 ) and a sparsity pattern of O(? 2 ) non-zeros per row. This means that when applying the Nystr?m approximation one should sample the image at a rate of O(1/?) along each dimension (one in every O(? 2 ) columns of W ). Then, the reduced matrix A in eq. (6) is full-rank and has a sparsity pattern of O(1), which makes it possible to use standard iterative linear solvers. As Figure 8 shows, for large ? values the rank grows somewhat faster than the linear prediction. Therefore, we suggest the following strategy: start with some constant number (tens to a few hundred) samples for the all-pairs case, and increase the number of samples proportionally to N/? 2 . This strategy is demonstrated in the bottom right plot of Figure 8 , which confirms that the error corresponding to a constant number of samples increases as ? decreases, while using N/? 2 samples results in a non-increasing error. Edit propagation example. Figure 9 demonstrates the importance of using an appropriate sampling rate for edit propagation in practice. Suppose that given the input image the user wishes to recolor all of the tulips and marks a single tulip with one scribble, while placing another scribble across the background. The all-pairs approach is well-suited for this scenario, and the desired interaction range here is roughly the entire image. According to our analysis, a small constant number of samples suffices for this case. Indeed, the propagation masks obtained using a small (50) and a larger number of samples look virtually identical, and produce the same visual result. In contrast, suppose the goal is to recolor only the left and right flowers, while keeping the original color in the middle. To achieve this goal with the all-pairs approach, the interaction range must be significantly reduced. In this case, using a small number of samples no longer produces the desired mask, which is nevertheless obtained with a suitably larger number of samples. Efficient numerical solution. The analysis we have presented in this section, suggests not only the correct sampling rate to use with intermediate interaction ranges, but also how to efficiently solve the associated linear system D ?W . According to the Nystr?m approximation,\n        \n          15\n          W ? UA ?1 U T , where U = A ,\n        \n        \n          15\n          B\n        \n        and applying the Woodbury identity [Golub and Van Loan 1998] yields:\n        \n          16\n          (D ?UA ?1 U T ) ?1 = D ?1 ? D ?1 U(?A +U T D ?1 U) ?1 D ?1 .\n        \n        An and Pellacini were able to evaluate eq. (16) efficiently using direct methods, because they use a constant number of samples m N. When the rank of W is not sufficiently small, and hence the number of samples m has to be larger, we observe that it is still possible to evaluate eq. (16) efficiently. This is so since both A and U T D ?1 U are sparse (the latter is sparse since it involves inner products between vectors that are nonzero over mostly nonoverlapping image regions). Thus, instead of using direct matrix inversion, (?A + U T D ?1 U) can be inverted using standard sparse linear solvers in linear time.\n      \n      \n        6 Discussion\n        The time parameter t. In the diffusion map, edges separating between larger clusters appear in the leading eigenvectors, while lower eigenvectors are populated by edges separating finer clusters. Thus, the time parameter t effectively attenuates transitions between these finer clusters with respect to coarser ones. By increasing the value of t one obtains stronger, more aggressive edgepreserving smoothing and interpolation. We envision several options for setting the value of this parameter in practice. One option is to expose it to the user; for example, after placing a scribble the user can interactively manipulate the value of t thereby adjusting (dilating or eroding) the corresponding influence mask. Another option, left for future work, is to automatically determine the value of t from the geometry and brush size of the user?s brush strokes: wide strokes, as well as long strokes crossing multiple edges will result in a higher value of t. It should be emphasized here that changing the value of t only rescales the diffusion map eigenvectors (eq. 4), but does not require recomputing them. Computational costs. In order to use diffusion distances instead of regular distances in color space it is necessary to first construct the\n        ACM Transactions on Graphics, Vol. 29, No. 6, Article 145, Publication date: December 2010.\n        Diffusion Maps for Edge-Aware Image Editing\n        ?\n        145:9\n        \n          \n        \n        input image mask (50 samples) mask (500 samples)\n        \n          \n        \n        input + scribbles edited result edited result\n        \n          \n        \n        input + scribbles mask (50 samples) mask (500 samples)\n        \n          \n        \n        edited result edited result\n        \n          Figure 9: A small number of samples suffices for all-pairs propagation with large interaction range (two top rows), but is no longer sufficient when the range is reduced (two bottom rows).\n        \n        diffusion map. The computation times for our current implementation are reported in Section 4. While these times might appear significant compared to the interactive editing turnaround times of the fast bilateral filter [Chen et al. 2007] or of edge-avoiding wavelets [Fattal 2009], one should keep in mind that the diffusion map only needs to be computed once, before interactive editing commences. Thus, one might view it as a color space conversion, done when the image to be edited is loaded from the disk. As such, it does not necessarily slow down the interaction of the user with the image (computations might only be a bit slower if more than 3 eigenvectors are used instead of the 3 color channels of the original image).  Strengths and weaknesses. One of the challenges of edge-aware operators is to distinguish between high gradients (color differences) that occur in highly textured regions and between salient edges that separate different larger scale regions. In our approach we effectively assume that textured regions are characterized by multiple transitions between the texture elements, thus there are more paths in color space between different valued pixels occurring within the same texture than between distinct larger scale regions. Thus, the use of diffusion distances in place of color differences is advantageous in images containing relatively large heavily textured regions: edge-aware interpolation is shown to propagate better inside such regions, and the removal of texture by edge-preserving smoothing is shown to be more effective. We do not expect the use of diffusion distances to introduce a significant improvement inside smooth image regions, or when the user input (in edge-aware interpolation) is relatively precise. Examples include scribbles that cover most of the target region, scribbles that follow closely the boundaries of such regions, tight trimap, etc. However, we have not encountered cases where the results suffer from the use of diffusion distances, except bearing the added computational costs discussed earlier. It should be pointed out that not all textures satisfy the assumptions of our approach. For example, a skirt with many colorful swatches might not have significantly more transition pixels between the different swatches than the transitions between the shirt and the background. Thus, some inter-swatch transitions inside the shirt might be present already in one of the leading eigenvectors, the diffusion distance between them will still be significant, and propagation/smoothing inside the shirt will not be significantly improved. As another difficult example, consider two adjacent regions which are semantically distinct, but have textures with similar colors. In such a case, propagation from a scribble inside one region might propagate into the adjacent region give a sufficiently high value of t, but for a small value of t will not be better than when using ordinary color differences. Both examples above are included in the supplementary material.\n      \n      \n        7 Conclusions\n        In this paper we have introduced the idea of performing edge-aware operations on images using diffusion distances instead of Euclidean distances. We have demonstrated that diffusion distances, which account for both the length and the number of paths between the data points in the feature space, provide local edit propagation schemes and edge-preserving smoothing operators with a valuable global perspective of the clusters present in the feature space at a variety of scales. We have also provided an analysis that extends the applicability of the Nystr?m method to a more general class of affinity matrices, and suggested an efficient solution for the entire range of spatial interactions. To conclude our paper it remains to point out a number of interesting directions for future work. The use of diffusion distances spans a two-dimensional space of edge-aware operators. The two axes of this space are the diffusion time parameter t and the spatial interaction range ?. Currently, it is up to the user to specify the appropriate values for these two parameters. This provides an important degree of user control, but it is currently unclear how to automatically determine the optimal combination of these two parameters for a particular image manipulation task. We currently construct diffusion maps using only the color and (sometimes) spatial position of the pixels in the image. A natural direction to explore is working in a richer feature space. However, our preliminary attempts in this direction were not too successful, since as was pointed out earlier, existing texture descriptors effectively operate at a lower spatial resolution. Finally, we believe that further integration of higher-level of image understanding into image manipulation operators is another promising, yet challenging research direction. All of the existing edge-aware operators are oblivious to semantic content. For example, a human present in the image (or any other object with a large variance in texture and/or color) is unlikely to be selected or edited as a single region, unless sufficient user input is provided. Thus, integration of object detection and recognition algorithms into image editing tools seems a fruitful direction to explore.  Acknowledgments: This work was supported in part by the Israel Science Foundation founded by the Israel Academy of Sciences and Humanities.\n      \n      \n        References\n        \n          A N , X., AND P ELLACINI , F. 2008. AppProp: all-pairs appearancespace edit propagation. ACM Trans. Graph. 27, 3, Article 40.\n          B ELKIN , M., AND N IYOGI , P. 2003. Laplacian eigenmaps for dimensionality reduction and data representation. Neural Computation 15, 6 (June), 1373?1396.\n          B LACK , M. J., S APIRO , G., M ARIMONT , D. H., AND H EEGER , D. 1998. Robust anisotropic diffusion. IEEE Trans. Image Proc. 7, 3 (Mar.), 421?432.\n          C HANG , H., AND Y EUNG , D.-Y. 2008. Robust path-based spectral clustering. Pattern Recogn. 41, 1, 191?203.\n          C HEN , J., P ARIS , S., AND D URAND , F. 2007. Real-time edge-aware image processing with the bilateral grid. ACM Trans. Graph. 26, 3 (July), Article 103.\n          C OIFMAN , R., AND L AFON , S. 2006. Diffusion maps. Applied and Computational Harmonic Analysis 21, 1, 5?30.\n          D URAND , F., AND D ORSEY , J. 2002. Fast bilateral filtering for the display of high-dynamic-range images. ACM Trans. Graph. 21, 3 (July), 257?266.\n          F ARBMAN , Z., F ATTAL , R., L ISCHINSKI , D., AND S ZELISKI , R. 2008. Edge-preserving decompositions for multi-scale tone and detail manipulation. ACM Trans. Graph. 27, 3, Article 67.\n          F ATTAL , R., A GRAWALA , M., AND R USINKIEWICZ , S. 2007. Multiscale shape and detail enhancement from multi-light image collections. ACM Trans. Graph. 26, 3 (July), Article 51.\n          F ATTAL , R. 2009. Edge-avoiding wavelets and their applications. ACM Trans. Graph. 28, 3 (August), Article 22.\n          F ISCHER , B., AND B UHMANN , J. M. 2003. Path-based clustering for grouping of smooth curves and texture segmentation. IEEE Trans. Pattern Anal. Mach. Intell. 25, 4, 513?518.\n          F OWLKES , C., B ELONGIE , S., C HUNG , F., AND M ALIK , J. 2004. Spectral grouping using the Nystr?m method. IEEE Trans. Pattern Anal. Mach. Intell. 26, 2, 214?225.\n          G OLUB , G. H., AND V AN L OAN , C. F. 1998. Matrix Computations, 2nd ed. The John Hopkins University Press.\n          G RADY , L., AND S INOP , A. K. 2008. Fast approximate random walker segmentation using eigenvector precomputation. In Proc. IEEE CVPR, IEEE Computer Society.\n          G RADY , L. 2006. Random walks for image segmentation. IEEE Trans. Pattern Anal. Mach. Intell. 28, 11 (Nov.), 1768?1783.\n          K OPF , J., C OHEN , M. F., L ISCHINSKI , D., AND U YTTENDAELE , M. 2007. Joint bilateral upsampling. ACM Trans. Graph. 26, 3, Article 96.\n          L EVIN , A., L ISCHINSKI , D., AND W EISS , Y. 2004. Colorization using optimization. ACM Trans. Graph. 23, 3, 689?694.\n          L EVIN , A., L ISCHINSKI , D., AND W EISS , Y. 2008. A closedform solution to natural image matting. IEEE Trans. Pattern Anal. Mach. Intell. 30, 2, 228?242.\n          L EVIN , A., R AV -A CHA , A., AND L ISCHINSKI , D. 2008. Spectral matting. IEEE Trans. Pattern Anal. Mach. Intell. 30, 10, 1699? 1712.\n          L I , Y., A DELSON , E. H., AND A GARWALA , A. 2008. ScribbleBoost: adding classification to edge-aware interpolation of local image and video adjustments. Computer Graphics Forum 27, 4 (June), 1255?1264.\n          L ISCHINSKI , D., F ARBMAN , Z., U YTTENDAELE , M., AND S ZELISKI , R. 2006. Interactive local adjustment of tonal values. ACM Trans. Graph. 25, 3 (July), 646?653.\n          M ALIK , J., B ELONGIE , S., L EUNG , T., AND S HI , J. 2001. Contour and texture analysis for image segmentation. Int. J. Comput. Vision 43, 1, 7?27.\n          M EILA , M., AND S HI , J. 2001. A random walks view of spectral segmentation. In Proc. AISTATS 2001.\n          N ADLER , B., L AFON , S., C OIFMAN , R., AND K EVREKIDIS , I. 2005. Diffusion maps, spectral clustering and eigenfunctions of Fokker-Planck operators. Neural Information Processing Systems (NIPS) 18.\n          O MER , I., AND W ERMAN , M. 2006. The bottleneck geodesic: Computing pixel affinity. In Proc. IEEE CVPR, IEEE Computer Society, 1901?1907.\n          O PPENHEIM , A. V., AND S CHAFER , R. W. 1975. Digital Signal Processing. Prentice Hall.\n          P ARIS , S., AND D URAND , F. 2006. A fast approximation of the bilateral filter using a signal processing approach. In Proc. ECCV ?06, IEEE, IV: 568?580.\n          P ERONA , P., AND M ALIK , J. 1990. Scale-space and edge detection using anisotropic diffusion. IEEE Trans. Pattern Anal. Mach. Intell. 12, 7 (July), 629?639.\n          R HEMANN , C., R OTHER , C., W ANG , J., G ELAUTZ , M., K OHLI , P., AND R OTT , P. 2009. A perceptually motivated online benchmark for image matting. In CVPR, IEEE, 1826?1833.\n          R OWEIS , S. T., AND S AUL , L. K. 2000. Nonlinear dimensionality reduction by locally linear embedding. Science 290, 5500, 2323? 2326.\n          S HI , J., AND M ALIK , J. 1997. Normalized cuts and image segmentation. In Proc. IEEE CVPR, IEEE, 731?737.\n          S INGER , A., S HKOLNISKY , Y., AND N ADLER , B. 2009. Diffusion interpretation of nonlocal neighborhood filters for signal denoising. SIAM J. Imag. Sciences 2, 1, 118?139.\n          S UBR , K., S OLER , C., AND D URAND , F. 2009. Edge-preserving multiscale image decomposition based on local extrema. ACM Trans. Graph. 28, 5 (December), Article 147.\n          S ZELISKI , R. 1990. Fast surface interpolation using hierarchical basis functions. IEEE Trans. Pattern Anal. Mach. Intell. 12, 6, 513?528.\n          S ZELISKI , R. 2006. Locally adapted hierarchical basis preconditioning. ACM Trans. Graph. 25, 3, 1135?1143.\n          T ENENBAUM , J. B., DE S ILVA , V., AND L ANGFORD , J. C. 2000. A global geometric framework for nonlinear dimensionality reduction. Science 290, 5500, 2319?2323.\n          T OMASI , C., AND M ANDUCHI , R. 1998. Bilateral filtering for gray and color images. In Proc. ICCV ?98, IEEE, 839?846.\n          T ROTTENBERG , U., O OSTERLEE , C., AND S CH ULLER  ? , A. 2001. Multigrid. Academic Press.\n          T URNER , M. R. 1986. Texture discrimination by Gabor functions. Biol. Cybern. 55, 2-3, 71?82.\n          W EISS , Y. 1999. Segmentation using eigenvectors: A unifying view. In Proc. ICCV, IEEE Computer Society, 975?982.\n          W ILLIAMS , C., AND S EEGER , M. 2000. Using the Nystr?m method to speed up kernel machines. Advances in Neural Information Processing Systems 13, 682?688.\n          X U , K., L I , Y., J U , T., H U , S.-M., AND L IU , T.-Q. 2009. Efficient affinity-based edit propagation using k-d tree. ACM Trans. Graph. 28, 5 (December), Article 118.\n          Y ATZIV , L., AND S APIRO , G. 2006. Fast image and video colorization using chrominance blending. IEEE Trans. Image Proc. 15, 5 (May), 1120?1129.\n        \n        ACM Transactions on Graphics, Vol. 29, No. 6, Article 145, Publication date: December 2010.\n        145:10\n        ?\n        Z. Farbman et al.\n        ACM Transactions on Graphics, Vol. 29, No. 6, Article 145, Publication date: December 2010.\n      \n    \n  ",
  "resources" : [ ]
}